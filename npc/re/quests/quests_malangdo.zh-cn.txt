//===== rAthena Script =======================================
//= Malangdo Quest NPCs
//===== By: ==================================================
//= Muad_Dib
//===== Current Version: =====================================
//= 1.7
//===== Compatible With: =====================================
//= rAthena Project
//===== Description: =========================================
//= [Official Conversion]
//= Quest NPCs related to Malangdo:
//== Malangdo Island, Help the Bad Cats in Danger,
//== Clean the Ship, Help Chef Nyas, Play with Baby Cats,
//== Cat Gamers, Archangel Wing Enchants
//===== Additional Comments: =================================
//= 1.0 First version. [Euphy]
//= 1.1 Added Clean the Ship and Help Chef Nyas.
//= 1.2 Added Archangel Wing Enchants.
//= 1.3 Added Play with Baby Cats.
//= 1.4 Added Malangdo Island.
//= 1.4a Dialogue edits, source iRO.
//= 1.5 Added Cat Gamers.
//=     Added "Investment Cat Helper" and "Storekeeper" NPCs.
//= 1.6 Added GM management function.
//= 1.7 Added item functions.
//===== Translated By: =======================================
//= dsc
//============================================================

// Utility NPCs :: cat_merchant
//============================================================
mal_in02,134,31,5	script	Investment Cat Helper	505,{
	if (MaxWeight - Weight < 100 || checkweight(1201,1) == 0) {
		mes "[投资猫帮手]";
		mes "你的负担很重。也许你是个小贩？该地区没有小贩。";
		close;
	}
	if (ep13_yong1 < 10) {
		mes "[投资猫帮手]";
		mes "哦！";
		mes "你来这里是想咨询投资问题吗？";
		mes "您来对地方了。";
		next;
		mes "[投资猫帮手]";
		mes "我是来投资猫爪商会的。";
		mes "呃――我的意思是我来这里是为了帮助像你这样诚实的人。";
		mes "呵呵呵呵~";
		next;
		mes "[投资猫帮手]";
		mes "我记不清一切了，因为我一直在这里与你们人类交谈。";
		mes "但我想先知道...等等。";
		next;
		mes "闻……闻……";
		next;
		mes "[投资猫帮手]";
		mes "啊？！";
		mes "你对猫爪商会不太了解吧？";
		mes "嗯，你闻起来不像猫。";
		next;
		mes "[投资猫帮手]";
		mes "好的！！";
		mes "来这里投资猫爪商会，你的决定是正确的~";
		next;
		mes "[投资猫帮手]";
		mes "首先，如果你想开户，你需要有十个马兰多罐头。";
		next;
		while(1) {
			switch(select("开户：询问福利：取消")) {
			case 1:
				if (countitem(12636) < 10) {
					mes "[投资猫帮手]";
					mes "唔！";
					mes "我很乐意向您说明";
					mes "免费，但如你所知，这是为了";
					mes "交易者集团的广告投资者，抱歉。";
					close;
				}
				delitem 12636,10; //Malang_Sp_Can
				set ep13_yong1,10;
				mes "[投资猫帮手]";
				mes "好的！";
				mes "写在这里~还有";
				mes "在那里印出你的手掌，";
				mes "啊！~你叫什么名字？";
				next;
				mes "[投资猫帮手]";
				mes strcharinfo(0)+"你是~";
				next;
				mes "[投资猫帮手]";
				mes "姓名："+strcharinfo(0);
				mes "账户数量：10个";
				mes "好的！挂号的！";
				next;
				mes "[投资猫帮手]";
				mes "您现在有一个帐户。";
				mes "下次会得到一定数量罐的投资。";
				next;
				mes "[投资猫帮手]";
				mes "我希望获得大量投资";
				mes "所以你也可以享受很多服务。";
				mes "而且，我也希望我们猫爪商会能赚很多钱。";
				next;
				mes "[投资猫帮手]";
				mes "下次投资再见~";
				close;
			case 2:
				mes "[投资猫帮手]";
				mes "您想知道投资的好处吗？";
				mes "事实上，我们是一小群猫，我们的思维方式与人类不同。";
				next;
				mes "[投资猫帮手]";
				mes "根据您在我们的服务上投入的金额，您可以获得很多好处。";
				mes "其中包括更多的扭曲、额外的存储位置以及商品和服务的降价。";
				next;
				mes "[投资猫帮手]";
				mes "我保证，如果我们的贸易增长，您也会从中受益。";
				next;
				break;
			case 3:
				mes "[投资猫帮手]";
				mes "啊~你就这么走了吗？";
				mes "T_T~请开户。";
				close;
			}
		}
	} else if (ep13_yong1 < 20000) {
		mes "[投资猫帮手]";
		mes "因为认识了很多人，所以我记不清每个人了……";
		mes "但我想先检查一下...等一下。";
		mes "打扰一下！";
		next;
		mes "闻……闻……";
		next;
		if (ep13_yong1 < 10000) {
			set .@cans,10;
			mes "[投资猫帮手]";
			mes "这是熟悉的味道！！";
			mes "如果是这样的话……！！";
			next;
			mes "[投资猫帮手]";
			mes "你是来投资的！！";
			mes "好！~~很高兴见到你~";
			next;
			mes "[投资猫帮手]";
			mes "从你的气味来看~你的账户数低于10,000。";
			mes "在那之前，你可以通过投资十罐来获得一个帐户。";
		} else {
			set .@cans,20;
			mes "[投资猫帮手]";
			mes "好浓烈的气味！！";
			mes "那么一定是！！";
			next;
			mes "[投资猫帮手]";
			mes "VIP投资者！！！！！！";
			mes "你是来投资的吗？欢迎！";
			next;
			mes "[投资猫帮手]";
			mes "拥有超过10,000个账户的VIP投资者";
			mes "可以再开一个账号20罐。";
			mes "一笔不错的投资！";
		}
		next;
		mes "[投资猫帮手]";
		mes "你会怎么做？";
		next;
		switch(select("投资：查看账户数量：取消")) {
		case 1:
			mes "[投资猫帮手]";
			mes "呵呵~谢谢投资~";
			mes "您一次最多可以获取 10 个帐户。";
			mes "是不是很可爱？";
			mes "你会投资多少？输入 0 取消。";
			next;
			input .@input;
			if (.@input == 0) {
				mes "[投资猫帮手]";
				mes "下次请投资~";
				close;
			} else if (.@input > 10) {
				mes "[投资猫帮手]";
				mes "最多可获得10个账号~";
				close;
			}
			set .@required, .@input*.@cans;
			mes "[投资猫帮手]";
			mes "" + .@input + " 帐户总数，对吧？";
			mes "您需要的罐数是"+.@required+" 件。";
			mes "你想经历这个吗？";
			next;
			if(select("是：否") == 2) {
				mes "[投资猫帮手]";
				mes "哦？这是错误的吗？诡异的。";
				mes "请再检查一下~";
				close;
			}
			if (countitem(12636) < .@required) {
				mes "[投资猫帮手]";
				mes "啊啊！";
				mes "你没有足够的罐头。";
				mes "你知道，我是一只忙碌的猫。";
				close;
			}
			if (ep13_yong1 < 10000) {
				delitem 12636,.@required; //Malang_Sp_Can
				set ep13_yong1, ep13_yong1+.@input;
				mes "[投资猫帮手]";
				mes .@input+"账户已投资。";
				mes "谢谢你的帮助~";
				next;
				mes "[投资猫帮手]";
				mes "一旦我们获得更多的罐头投资，";
				mes "我们的交易者群体将会进一步壮大。";
				mes "还可以获得服务哦~";
				mes "双赢策略？";
				close;
			} else {
				if (.@input + ep13_yong1 > 20000) {
					delitem 12636,.@required; //Malang_Sp_Can
					set ep13_yong1,20000;
					mes "[投资猫帮手]";
					mes "您最多可以拥有 20,000 个帐户";
					mes "根据贸易商政策...";
					mes strcharinfo(0)+"的账户增加到20,000个。";
					mes "非常感谢您的投资~";
					next;
					mes "[投资猫帮手]";
					mes "现在，"+strcharinfo(0)+"，您无法进一步投资";
					mes "但您仍然可以向贸易团体捐赠一些罐头。";
					mes "非常感谢~";
					close;
				} else {
					delitem 12636,.@required; //Malang_Sp_Can
					set ep13_yong1, ep13_yong1+.@input;
					mes "[投资猫帮手]";
					mes .@input+"账户已投资。";
					mes "谢谢你的帮助~";
					next;
					mes "[投资猫帮手]";
					mes "随着您对罐头的大量投资，";
					mes "这将帮助我们更早地实现我们的目标。";
					mes "再次感谢您。";
					close;
				}
			}
		case 2:
			mes "[投资猫帮手]";
			mes "您想查看账户数量吗？嗯嗯，看看吧~";
			next;
			mes "[投资猫帮手]";
			mes "姓名："+strcharinfo(0);
			mes "账户数量："+ep13_yong1;
			next;
			mes "[投资猫帮手]";
			if (ep13_yong1 < 10000)
				mes "知道了？";
			else
				mes "您已经进行了很多投资。谢谢。";
			close;
		case 3:
			mes "[投资猫帮手]";
			mes "下次请投资~";
			close;
		}
	} else if (ep13_yong1 >= 20000) {
		mes "[投资猫帮手]";
		mes strcharinfo(0) + "，欢迎~";
		mes strcharinfo(0) + "～你到来时我感觉到了一些东西。";
		next;
		mes "[投资猫帮手]";
		mes "想捐款吗？";
		next;
		if(select("捐赠：否") == 2) {
			mes "[投资猫帮手]";
			mes "呵呵~那就来这里玩玩吧~";
			close;
		}
		mes "[投资猫帮手]";
		mes "哇，谢谢你，"+strcharinfo(0)+"～！";
		next;
		mes "[投资猫帮手]";
		mes strcharinfo(0)+"～在你的帮助下";
		mes "这些罐头将分发给猫";
		mes "有幸在米德加尔特地区~";
		next;
		mes "[投资猫帮手]";
		mes "罐头捐赠的范围从最少 20 罐到最多 10,000 罐不等。";
		next;
		input .@input;
		if (.@input < 20 || .@input > 10000) {
			mes "[投资猫帮手]";
			mes "罐头捐赠的范围从最少 20 罐到最多 10,000 罐不等。";
			close;
		} else if (countitem(12636) < .@input) { // Malang_Sp_Can
			mes "[投资猫帮手]";
			mes "唔？你没有足够的罐头。";
			close;
		} else {
			delitem 12636,.@input; //Malang_Sp_Can
			mes "[投资猫帮手]";
			mes "哦！谢谢~";
			next;
			mes "[投资猫帮手]";
			mes "亲爱的"+strcharinfo(0)+"～";
			mes "我只有增加AGI";
			mes "和祝福给你。";
			mes "谢谢。";
			npcskill "AL_INCAGI",10,0,0;
			npcskill "AL_BLESSING",10,0,0;
			close;
		}
	}
}

malangdo,184,139,4	script	Storekeeper#mal	560,{
	mes "[店主]";
	mes "嘿，看来您可能想从背包中取出一些东西。";
	mes "想要打开存储空间吗？免费？";
	next;
	mes "[店主]";
	mes "哈哈哈~开个玩笑，当然不是免费的。";
	mes "你把我当什么？";
	next;
	if (ep13_yong1 > 999) {
		set .@cans,1;
		set .@zeny,1500;
		set .@i, select("Can 支付 ----- 1 单位：Zeny 支付 -------- 1,500z");
	} else {
		set .@cans,2;
		set .@zeny,3000;
		set .@i, select("用 Can 支付 ----- 2 单位：用 Zeny 支付 ------- 3,000z");
	}
	if(!callfunc("F_CanOpenStorage")){
		mes "[店主]";
		mes "啊，坚持住！！";
		mes "您需要具备^FF0000基础技能6级^000000才能使用存储服务！！";
		close;
	}
	switch(.@i) {
	case 1:
		if (countitem(12636) < .@cans) {
			mes "[店主]";
			mes "你的罐子还不够...";
			close;
		}
		delitem 12636,.@cans; //Malang_Sp_Can
		break;
	case 2:
		if (Zeny < .@zeny) {
			mes "[店主]";
			mes "你的禅意还不够...";
			close;
		}
		set Zeny, Zeny-.@zeny;
		break;
	}
	mes "[店主]";
	mes "谢谢。";
	close2;
	openstorage;
	end;
}

// Malangdo Island :: ma_tomas
//============================================================
mal_in02,28,56,5	script	Samuel#mal	495,{
	mes "[塞缪尔]";
	mes "啊，你是说广告……呃，你是说我们村长？";
	mes "你最好别打扰他，因为他总是很忙。";
	if (ma_tomas == 0)
		close;
	next;
	mes "[塞缪尔]";
	mes "^0000FF但是无论如何都不可能在不打扰他的情况下说话......^000000";
	mes "他只是总是很忙。";
	next;
	switch(select("广告……？：村长？")) {
	case 1:
		mes "[塞缪尔]";
		mes "啊，这艘船之前有一位上将来定居呢~";
		mes "金色的双眸如阳光般闪耀！！！";
		mes "银色的胡须随着汹涌的海风飘扬！！！";
		next;
		mes "[塞缪尔]";
		mes "哈~真好啊！！！！";
		mes "我被那个景点迷住了，并乘坐了这艘船，Navi！";
		mes "这件事就叫男人的浪漫。呼呼~";
		emotion ET_SHY;
		next;
		mes "[塞缪尔]";
		mes "嗯……自从他在马兰多定居以来，他的角质层似乎因为村长的职责而变坏了一点。但他的眼神还是一样。";
		close;
	case 2:
		mes "[塞缪尔]";
		mes "嗯，既然是马兰多，那会是马兰多酋长吗……？！";
		mes "不，虽然这会很有趣......";
		mes "马朗多村……嗯……这……这也不是……";
		mes "好吧，这个东西并不是那么重要。";
		next;
		mes "[塞缪尔]";
		mes "虽然上将和村长之间确实有很多区别，但感觉无论如何都不会没有托马斯上将。";
		next;
		mes "[塞缪尔]";
		mes "所有人都会有同样的想法，不仅仅是我。";
		mes "他因此而过得很艰难。";
		close;
	}
}

mal_in02,22,62,3	script	Tomas#mal	556,{
	if (BaseLevel < 60) {
		mes "[托马斯，村长]";
		mes "嗯...你是谁？";
		mes "你不觉得来这里还太早吗？";
		close;
	}
	if (ma_tomas == 0) {
		mes "[托马斯，村长]";
		mes "塞缪尔！";
		mes "你到这里就结束了吗？";
		cutin "ma_tomas02",2;
		next;
		mes "[塞缪尔]";
		mes "是的，海军上将！";
		mes "将包括我刚收到的在内的 3000 个箱子全部移至仓库。下一盒预计将在 5 小时内送达！";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "塞缪尔！";
		mes "我要告诉你多少次，叫我村长，而不是上将！";
		next;
		mes "[塞缪尔]";
		mes "对不起！村长！";
		mes "我会改正自己的！";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "嗯嗯！";
		mes "把它们整理好并安排在那里。在下一个盒子到达之前，您必须完成那里的工作！";
		next;
		mes "[托马斯，村长]";
		mes "右边有海参、海鞘、海葵！楼下海带海带，送凤尾鱼和鼓到聚集地。让其余的杂七杂八地堆放在角落里！";
		next;
		mes "[塞缪尔]";
		mes "是的！村长！";
		mes "右边是海藻、海参、海鞘、海葵！楼下有海苔和眼镜！送凤尾鱼和鼓到集合地点！让其余的杂七杂八地堆放在角落里！";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "事实并非如此。";
		mes "右边是海参、海鞘、海葵。楼下有海带和海带。凤尾鱼和鼓到了聚集地。把剩下的东西分类地堆放在角落里。";
		emotion ET_THINK;
		next;
		mes "[塞缪尔]";
		mes "是的！！";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "呼呼……";
		mes "似乎还没有结束。";
		mes "还有成堆的文书工作要做……除非我在下一个盒子到达之前完成它们，否则我会遇到麻烦。";
		emotion ET_OHNO;
		next;
		mes "[托马斯，村长]";
		mes "那么，接下来的箱子数量是1300......";
		mes "接下来，楼下的 700 个箱子要装船……";
		next;
		switch(select("试着和他说话。：停下来，因为他看起来很忙。")) {
		case 1:
			mes "[托马斯，村长]";
			mes "嗯，你是谁？";
			mes "你不熟悉。抱歉，如果不是那么紧急的话你会再来吗？";
			cutin "ma_tomas01",2;
			next;
			switch(select("这是我第一次来马兰多。:另一只猫告诉我来这里。:我稍后会再来。")) {
			case 1:
				mes "[托马斯，村长]";
				mes "……所以我告诉你，你的脸不熟悉。";
				emotion ET_THINK;
				next;
				mes "[托马斯，村长]";
				mes "嗯……抱歉，但是正如我之前告诉过你的，如果不是那么紧急的话，你能和其他猫谈谈吗，因为我还有很多工作要做，没有时间和你说话。";
				break;
			case 2:
				mes "[托马斯，村长]";
				mes "...无论如何，让我继续工作总是好的。";
				mes "无情的人...";
				emotion ET_FRET;
				next;
				mes "[托马斯，村长]";
				mes "嗯……话虽如此，如果不是那么紧急的话，你会和其他猫谈谈吗，因为我还有很多工作要做，没有时间和你说话？";
				break;
			case 3:
				mes "[托马斯，村长]";
				mes "对此感到抱歉。";
				mes "请再次回到我身边，虽然我不知道我什么时候才能有空。";
				close2;
				cutin "",255;
				end;
			}
			next;
			mes "[托马斯，村长]";
			mes "这些天我感觉工作压力很大，虽然作为村长相信我、依靠我也挺好的……";
			next;
			mes "[托马斯，村长]";
			mes "这太过分了，因为他们把所有访客都送到了我这里。";
			next;
			mes "[托马斯，村长]";
			mes "你来得正是时候。前往现在召开的^0000FF例会^000000。";
			mes "集合地点是^0000FF走廊尽头^000000。";
			set ma_tomas,1;
			setquest 11209;
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[托马斯，村长]";
			mes "对此感到抱歉。";
			mes "请再次回到我身边，虽然我不知道我什么时候才能有空。";
			close2;
			cutin "",255;
			end;
		}
	} else if (ma_tomas == 1) {
		mes "[托马斯，村长]";
		mes "那么，接下来的 1000 个盒子要移到上面......";
		cutin "ma_tomas02",2;
		next;
		mes "[托马斯，村长]";
		mes "400盒作为物资发放......";
		mes "还有...";
		next;
		mes "[塞缪尔]";
		mes "上将！";
		mes "右边的鲈鱼、海冻、海绵排列整齐！";
		mes "楼下有海藻和猕猴桃！凤尾鱼和鳕鱼到聚集地！让其余的杂七杂八地堆放在角落里？";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "....";
		emotion ET_THINK;
		next;
		mes "[托马斯，村长]";
		mes "....";
		mes ".....";
		next;
		mes "[托马斯，村长]";
		mes "....";
		mes ".....";
		mes "......";
		next;
		mes "[托马斯，村长]";
		mes "你！！";
		mes "我跟你说了多少次了！喵~";
		mes "啊？！";
		emotion ET_FRET;
		cutin "ma_tomas03",2;
		next;
		mes "[托马斯，村长]";
		mes "右边是海参、海鞘、海葵。楼下有海带和海带。凤尾鱼和鼓到了聚集地。把剩下的东西分类地堆放在角落里。";
		next;
		mes "[托马斯，村长]";
		mes "啊？！如果你真想把鲈鱼放在右边，那就让自己整天站在那里吧！喵~";
		emotion ET_HUK, getnpcid(0, "Samuel#mal");
		next;
		mes "[托马斯，村长]";
		mes "没有你我已经够忙了。你让我心烦意乱！喵~";
		mes "上那边的船怎么样？喵！";
		next;
		mes "[托马斯，村长]";
		mes "哎呀！！！";
		mes "!!!!!!";
		emotion ET_HUK;
		next;
		mes "[托马斯，村长]";
		mes "嗯嗯……";
		mes "呃……你还在这里做什么？";
		mes "去参加现在在走廊尽头举行的例会。";
		mes "咳咳……";
		emotion ET_PROFUSELY_SWEAT;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas == 2) {
		mes "[托马斯，村长]";
		mes "嗯嗯……";
		mes "呃……你还在这里做什么？";
		mes "去参加现在在走廊尽头举行的例会。";
		mes "咳咳……";
		emotion ET_PROFUSELY_SWEAT;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas < 35) {
		mes "[托马斯，村长]";
		mes "会议进展如何？";
		mes "好久没来了，最近很忙……啧……";
		emotion ET_PROFUSELY_SWEAT;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas == 35) {
		mes "[托马斯，村长]";
		mes "呵呵！";
		mes "曾经出现过这样的问题！";
		emotion ET_AHA;
		cutin "ma_tomas04",2;
		next;
		mes "[托马斯，村长]";
		mes "我很不安，因为我太忙了，无法照顾你。";
		mes "你自己已经习惯了马兰多。";
		emotion ET_SMILE;
		next;
		mes "[托马斯，村长]";
		mes "那么，作为村长和猫协会的提督，我希望你也能和我和睦相处！";
		set ma_tomas,100;
		completequest 11237;
		getitem 6422,30; //Egrade_Coin
		close2;
		cutin "",255;
		end;
	}
	mes "[托马斯，村长]";
	mes "哈哈哈！";
	mes "你好吗？";
	mes "如果有什么困难就来找我。";
	emotion ET_SMILE;
	cutin "ma_tomas04",2;
	close2;
	cutin "",255;
	end;
}

mal_in02,182,61,3	script	President of Meeting#mal	421,{
	if (ma_tomas == 0) {
		mes "[会议主席]";
		mes "请安静，例会一会儿就要开始啦~";
		close;
	} else if (ma_tomas == 1) {
		mes "[会议主席]";
		mes "哇~哇~现在我们正在进行一场令人难以置信的促销活动...好吧，不，但是一个会议。";
		mes "请保持沉默。";
		next;
		mes "[会议主席]";
		mes "今天的主要议程一如既往的是^ff99cc星星糖果^000000。";
		mes "虽然我已经走过很多地方，但还是第一次听到^0000FF这么难学的语言^000000。";
		next;
		mes "[会议主席]";
		mes "她根本无法沟通的事物正在成为一个日益严重的问题。";
		next;
		mes "[会议主席]";
		mes "对下一个议程如有意见请发言。";
		next;
		mes "[会议主席]";
		mes "嗯...是的。那么，请先说^6666ccScottfold^000000。";
		set ma_tomas,2;
		changequest 11209,11210;
		emotion ET_WRAP, getnpcid(0, "Scottfold#mal");
		close;
	} else if (ma_tomas == 2) {
		mes "[会议主席]";
		mes "嗯...是的。请先发言，^6666cc斯科特福尔^000000。";
		emotion ET_WRAP, getnpcid(0, "Scottfold#mal");
		close;
	} else if (ma_tomas == 3) {
		mes "[会议主席]";
		mes "请发言，Koon....接下来。";
		emotion ET_WRAP, getnpcid(0, "Koon#mal");
		close;
	} else if (ma_tomas == 4) {
		mes "[会议主席]";
		mes "Devore博士将持续介绍他的研究。";
		emotion ET_WRAP, getnpcid(0, "Linguist Devore#mal");
		close;
	} else if (ma_tomas == 5) {
		mes "[会议主席]";
		mes "接下来请发言，马里博士。";
		emotion ET_WRAP, getnpcid(0, "Geologist Mali#mal");
		close;
	} else if (ma_tomas == 6) {
		mes "[会议主席]";
		mes "布里！！我了解情况，但请冷静地告诉我们，毕竟是开会。";
		close;
	} else if (ma_tomas == 7) {
		mes "[会议主席]";
		mes "好吧，我们先休息一会儿吧。";
		mes "随着时间的推移，塞缪尔将海藻和金枪鱼带到了这里。";
		close;
	}
	mes "[会议主席]";
	mes "休……召开会议会让你很累。";
	mes "我曾经被称为孜孜不倦的商人，销售额排名第一……";
	next;
	mes "[会议主席]";
	mes "当会议时间延长时，有时我会感到非常难受。";
	emotion ET_CRY;
	close;
}

mal_in02,178,66,5	script	Scottfold#mal	422,{
	if (ma_tomas == 0) {
		mes "[斯科特福尔]";
		mes "参加会议是一件很重要的事情。";
		mes "所有负责任的猫都应该参加，这是绝对正确的。";
		close;
	} else if (ma_tomas == 1) {
		mes "[斯科特福尔]";
		mes "会议马上就要开始了。";
		mes "所以，嘘~~";
		close;
	} else if (ma_tomas == 2) {
		mes "[斯科特福尔]";
		mes "是的，尊敬的总统。";
		mes "至于和星星糖的交流，我们有饼干不是吗？";
		next;
		mes "[会议主席]";
		mes "当然，虽然她总是和会说一点官方语言的《CLR0》》饼干一起《》《CLR1》》，但似乎很难进行深入的交谈。";
		next;
		mes "[会议主席]";
		mes "而且，星星糖对于我们马兰多的生存来说，有着非常重要的地位。许多人认为有必要直接谈论我们未来的方向。";
		next;
		mes "[会议主席]";
		mes "那么下一个……是的，Koon 现在请发言。";
		set ma_tomas,3;
		changequest 11210,11211;
		emotion ET_WRAP, getnpcid(0, "Koon#mal");
		close;
	}
	mes "[斯科特福尔]";
	mes "我们静静地听听对方的介绍。";
	next;
	mes "[斯科特福尔]";
	mes "……虽然这么说，但不知怎的，我也想说点什么。";
	mes "所以，我总是先举手！";
	close;
}

mal_in02,177,58,7	script	Koon#mal	546,{
	if (ma_tomas == 0) {
		mes "[孔]";
		mes "虽然我很忙，但我总是参加这个会议。";
		mes "我希望这个活动在不影响我工作的时间举行。";
		close;
	} else if (ma_tomas == 1) {
		mes "[孔]";
		mes "我期待今天会发生什么。";
		close;
	} else if (ma_tomas == 2) {
		mes "[孔]";
		mes "斯科特福尔是一位热情参与的人。";
		mes "他们说他将成为这次会议的下一任主席。";
		close;
	} else if (ma_tomas == 3) {
		mes "[孔]";
		mes "那么，德沃尔博士的研究进行得怎么样了？";
		next;
		mes "[会议主席]";
		mes "海星的语言即使对于语言学家德沃博士来说也无法理解……";
		next;
		mes "[语言学家德沃]";
		mes "总统！关于这个问题，我想为自己谈谈这项研究。";
		next;
		mes "[会议主席]";
		mes "是的。请继续。";
		set ma_tomas,4;
		changequest 11211,11212;
		emotion ET_WRAP, getnpcid(0, "Linguist Devore#mal");
		close;
	}
	mes "[孔]";
	mes "我希望德沃尔博士的研究早日出来。";
	mes "我对语言也很感兴趣！";
	close;
}

mal_in02,174,64,5	script	Linguist Devore#mal	549,{
	if (ma_tomas < 4) {
		mes "[语言学家德沃]";
		mes "我们大多数的猫在语言方面都特别有天赋。";
		mes "这对我们商人的繁荣有很大的影响。";
		next;
		mes "[语言学家德沃]";
		mes "因为……如果你懂更多的外语，就意味着你可以在更多的领域做生意。";
		close;
	} else if (ma_tomas == 4) {
		mes "[语言学家德沃]";
		mes "大家好。";
		mes "我是一位语言学家德沃尔博士，负责海星语言的研究。";
		next;
		mes "[语言学家德沃]";
		mes "我先说一下确定的结论。自从《<<CLR0>>>海星语言的研究^000000从我们定居马兰多的时候就开始了，至今还没有什么显着的成果。";
		emotion ET_PROFUSELY_SWEAT;
		next;
		mes "[语言学家德沃]";
		mes "当然，可以以某种方式与 ^6666ccBiscuit^000000 进行对话，但这与我们期望解决问题的结果并不接近。";
		next;
		mes "[孔]";
		mes "那么，我们上次找到的那本书研究得怎么样了？";
		next;
		mes "[语言学家德沃]";
		mes "我们假设这本书是用海星语言写的。但一问饼干，原来这是学习海星语言的教科书……";
		next;
		mes "[孔]";
		mes "那么对于学习海星语言是不是很有帮助呢？";
		next;
		mes "[语言学家德沃]";
		mes "我当然是这么想的，但当我尝试按照它所教的方式进行对话时，我们最终发现他们根本听不懂。";
		next;
		mes "[语言学家德沃]";
		mes "如果你看到这本书第一页上的文字，有一个句子看起来像是简短的对话。";
		next;
		mes "[语言学家德沃]";
		mes "就像这样，对于问题“……”，它说：“……”、“……”。 &#65533;&#65533;&#65533;&#65533;&#65533;&#65533;&#65533;&#65533;？";
 		next;
		mes "[语言学家德沃]";
		mes "虽然我尝试像这样和饼干说话，但没有得到任何反馈。";
		next;
		mes "[语言学家德沃]";
		mes "之后，对于这本书，又从另外一边研究了这本书本身的存在。";
		next;
		mes "[会议主席]";
		mes "好的，我们仔细听了德沃尔博士的话。";
		mes "接下来，我们就来总结一下语言学习的进展，听听地质学家马里博士的讲解。";
		set ma_tomas,5;
		changequest 11212,11213;
		emotion ET_WRAP, getnpcid(0, "Geologist Mali#mal");
		close;
	} else if (ma_tomas < 18) {
		mes "[语言学家德沃]";
		mes "呼……";
		mes "海星语言是我学习生涯中最难的事情。";
		next;
		mes "[语言学家德沃]";
		mes "我应该很快就能解决令人费解的海星语言了。";
		mes "看到你们变成这样，我感到很羞愧。";
		emotion ET_PROFUSELY_SWEAT;
		close;
	} else if (ma_tomas == 18) {
		mes "[语言学家德沃]";
		mes "正确的...";
		mes "这个语言世界是如此美丽而神秘。";
		next;
		mes "[语言学家德沃]";
		mes "存在一些谜团，例如为什么相同的生物使用完全不同的语言，或者为什么相距甚远的物种使用相似的语言。";
		next;
		mes "[语言学家德沃]";
		mes "我加入这个小组是因为我认为环游世界对学习更有帮助，而不仅仅是坐在办公桌前看书。";
		next;
		mes "[语言学家德沃]";
		mes "但这只海星很神秘。";
		mes "我根本无法理解。";
		mes "我很怀疑它是真正的“语言”。";
		emotion ET_PROFUSELY_SWEAT;
		next;
		mes "[语言学家德沃]";
		mes "我不知道，尽管我通过各种方式研究它。";
		mes "饼干已经习惯了我们的语言，可以进行简短的交谈，但还不能说是对话。";
		next;
		mes "[语言学家德沃]";
		mes "这样学习我感到很沮丧，但应该先解决，再处理其他事情。";
		next;
		mes "[语言学家德沃]";
		mes "我不明白这里有什么问题！";
		mes "曾经被称为语言大师的我自己！";
		mes "没想到会遇到这种触不可及的东西！";
		next;
		mes "[语言学家德沃]";
		mes "呜呜呜呜啊啊啊！！！";
		mes "我不明白这里有什么问题！";
		emotion ET_HUK;
		next;
		mes "[语言学家德沃]";
		mes "他们为什么在这里以及他们想要什么！";
		mes "如果我能知道就好了！";
		set ma_tomas,19;
		changequest 11225,11226;
		close;
	} else if (ma_tomas == 19) {
		mes "[语言学家德沃]";
		mes "呜呜呜呜啊啊啊！！！";
		mes "我不明白这里有什么问题！";
		emotion ET_HUK;
		next;
		mes "[语言学家德沃]";
		mes "他们为什么在这里以及他们想要什么！";
		mes "如果我能知道就好了！";
		close;
	} else if (ma_tomas == 20) {
		mes "[语言学家德沃]";
		mes "什么？！你说什么？！";
		mes "说得很流畅！";
		mes "怎么会！";
		emotion ET_HUK;
		next;
		mes "[语言学家德沃]";
		mes "除非我亲眼所见，否则我无法相信。";
		mes "他只对我这样说话，不太好吧？";
		next;
		mes "[语言学家德沃]";
		mes "我们一起去听听吧！！";
		set ma_tomas,21;
		changequest 11227,11228;
		close;
	} else if (ma_tomas < 34) {
		mes "[语言学家德沃]";
		mes "这次的研究只是做出了完全错误的猜测！";
		mes "但在你失望之前，我宁愿高兴地得到答案。";
		emotion ET_BEST;
		next;
		mes "[语言学家德沃]";
		mes "一旦我们得到答案，理解海星语言只是时间问题。";
		close;
	} else if (ma_tomas == 34) {
		mes "[语言学家德沃]";
		mes "是真的吗？！";
		mes "饼干是这么说的吗？！";
		emotion ET_HUK;
		next;
		mes "[语言学家德沃]";
		mes "啊啊啊！谢谢你，"+strcharinfo(0)+"！";
		mes "我感到非常感激。";
		next;
		mes "[语言学家德沃]";
		mes "我现在必须去见饼干并说声谢谢。";
		mes "虽然我们无法互相理解，但还是可以表达我的感激之情。";
		next;
		mes "[语言学家德沃]";
		mes "啊，我真的很想把这个好消息告诉我们的酋长托马斯。";
		mes "请！！";
		emotion ET_HELP;
		set ma_tomas,35;
		changequest 11236,11237;
		getitem 6422,30; //Egrade_Coin
		close;
	} else if (ma_tomas == 35) {
		mes "[语言学家德沃]";
		mes "啊，我真的很想把这个好消息告诉我们的酋长托马斯。";
		mes "请！！";
		emotion ET_HELP;
		close;
	}
	mes "[语言学家德沃]";
	mes "哈哈！！";
	mes "对海星的研究进展顺利。";
	mes "如果你，"+strcharinfo(0)+"，不帮助我们，那真的可能是一场灾难。";
	emotion ET_THANKS;
	close;
}

mal_in02,179,57,1	script	Geologist Mali#mal	559,{
	if (ma_tomas < 5) {
		mes "[马里地质学家]";
		mes "马兰多因为这里的地面很软而得名，喵~";
		mes "一碰就硬了喵~";
		emotion ET_SEXY;
		close;
	} else if (ma_tomas == 5) {
		mes "[马里地质学家]";
		mes "马里喵~";
		mes "大家都知道，地面有很多裂缝，喵~";
		next;
		mes "[马里地质学家]";
		mes "这还不是那么严重或危险的问题，喵~";
		mes "由于无法预测星糖什么时候会动，所以还是先把这些修复一下吧喵~";
		next;
		mes "[马里地质学家]";
		mes "不过一如既往的缺劳动力，喵~";
		mes "我们需要更多的参与者，我想，喵~";
		next;
		mes "[马里地质学家]";
		mes "由于每个人都有自己的工作要做，我明白我们都必须忙碌。但我愿意参与这次修复，因为它关系到我们的生活。";
		emotion ET_HELP;
		next;
		mes "[布里干酪]";
		mes "等待！";
		mes "这可不是仅仅靠即时修复就能完成的事情！";
		mes "我父亲前段时间在地震中受了重伤！";
		emotion ET_HUK, getnpcid(0, "Brie#mal");
		next;
		mes "[会议主席]";
		mes "布里先生！！我了解您的情况，但是请您安静一下，因为我们正在开会。";
		set ma_tomas,6;
		changequest 11213,11214;
		emotion ET_WRAP, getnpcid(0, "Brie#mal");
		close;
	} else if (ma_tomas < 13) {
		mes "[马里地质学家]";
		mes "今天你代替你父亲参加了会议，布里。";
		mes "性格不太友善，但是对父母很孝顺，喵~";
		emotion ET_SMILE;
		next;
		mes "[马里地质学家]";
		mes "Brie先生本来并不是我们组的成员，后来得知他的父亲Rican加入新贸易课程开发的消息后也加入了，喵~";
		next;
		mes "[马里地质学家]";
		mes "不过上次Rican受伤的时候Brie好像也被吓到了，喵~";
		mes "我应该多学习，不要让这种事情再次发生，喵~";
		close;
	} else if (ma_tomas == 13) {
		mes "[马里地质学家]";
		mes "马兰多是一个很特别的岛，喵~";
		mes "从字面上看，它很软。";
		next;
		mes "[马里地质学家]";
		mes "虽然我跟着队伍去了很多地方，但我从未见过像马兰多这样松软的地面。";
		mes "如果不小心按到了地面...";
		mes "它有魔力，让你不断地一遍又一遍地做。";
		next;
		mes "[马里地质学家]";
		mes "又软又粘的感觉就是这样的……";
		mes "哈哈~一听就上瘾了...";
		emotion ET_SHY;
		next;
		mes "[马里地质学家]";
		mes "哎呀！！";
		mes "我快要陷入这柔软之中了，喵~！！！";
		emotion ET_HUK;
		next;
		mes "[马里地质学家]";
		mes "虽然有让你失去理智的风险，但它却帮助 Navi 船不至于破裂，喵~";
		next;
		mes "[马里地质学家]";
		mes "对了，它里面并没有特殊的元素，而是普通的泥土组成的，喵~";
		next;
		mes "[马里地质学家]";
		mes "而且！！";
		mes "怎么这么软就被^0000FF破解了^000000，喵~！";
		emotion ET_HUK;
		next;
		mes "[马里地质学家]";
		mes "如果这个^0000FF裂缝继续下去，地下支撑可能会倒塌^000000，喵……";
		next;
		mes "[马里地质学家]";
		mes "修复裂缝的力量有很多，感觉还不够，喵~";
		next;
		mes "[马里地质学家]";
		mes "于是我们就收到了志愿服务的申请，喵~";
		mes "虽然这是志愿服务，但它不是免费的。所以，请随时来找我吧喵~";
		next;
		switch(select("帮忙修复：说完了。")) {
		case 1:
			mes "[马里地质学家]";
			mes "哈哈哈！！！";
			mes "在这个艰难的世界里，多么美丽的年轻人啊！";
			mes "每当遇到你这样的人，我就觉得这样的生活还是挺好的，喵~";
			emotion ET_CRY;
			next;
			mes "[马里地质学家]";
			mes "请听^6666cc我的助手Bob^000000详细讲述，喵~";
			mes "离开这里，参观一下右边的^6666cc房间^000000，喵~";
			set ma_tomas,14;
			setquest 11221;
			close;
		case 2:
			mes "[马里地质学家]";
			mes "呜呼呼。";
			mes "我~会~等~等~你~~";
			emotion ET_BIGTHROB;
			close;
		}
	} else if (ma_tomas == 14) {
		mes "[马里地质学家]";
		mes "哈哈哈！！！";
		mes "在这个艰难的世界里，多么美丽的年轻人啊！";
		mes "每当遇到你这样的人，我就觉得这样的生活还是挺好的，喵~";
		emotion ET_CRY;
		next;
		mes "[马里地质学家]";
		mes "请听^6666cc我的助手Bob^000000详细讲述，喵~";
		mes "离开这里，参观一下右边的^6666cc房间^000000，喵~";
		close;
	} else if (ma_tomas == 15 || ma_tomas == 16) {
		mes "[马里地质学家]";
		mes "裂缝修复进展顺利吗喵？";
		mes "别太过分了喵~";
		mes "身体要是再差那就不好了喵~";
		close;
	} else if (ma_tomas == 17) {
		mes "[马里地质学家]";
		mes "啊!鲍勃对你的出色工作赞不绝口，喵~";
		mes "下次有机会的话请再帮助我们，喵~";
		emotion ET_BEST;
		next;
		mes "[语言学家德沃]";
		mes "我做了这个，因为海星研究已经完成，你不需要做这么辛苦的工作！";
		mes "呜呜呜！！！";
		emotion ET_CRY, getnpcid(0, "Linguist Devore#mal");
		next;
		mes "[马里地质学家]";
		mes "哦哦！你在说什么Dr. Devore，喵~！！！！";
		mes "我完全不这么认为~~喵~！！！";
		emotion ET_HUK;
		next;
		mes "[马里地质学家]";
		mes "大家都知道Dr. Devore你学习很努力，喵~！！！";
		mes "你已经尽力了，要自信一点，喵~！";
		set ma_tomas,18;
		completequest 11224;
		setquest 11225;
		setquest 11243;
		getitem 6422,20; //Egrade_Coin
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11240) > -1 || checkquest(11241) > -1) {
			mes "[马里地质学家]";
			mes "请听^6666cc我的助手Bob^000000详细讲述，喵~。";
			mes "离开这里，参观一下右边的^6666cc房间^000000，喵~";
			close;
		} else if (checkquest(11242) > -1) {
			mes "[马里地质学家]";
			mes "啊!鲍勃对你的出色工作赞不绝口，喵~";
			mes "下次有机会的话请再帮助我们，喵~";
			changequest 11242,11243;
			getitem 6422,4; //Egrade_Coin
			close;
		} else {
			if (checkquest(11243,PLAYTIME) == 0 || checkquest(11243,PLAYTIME) == 1) {
				mes "[马里地质学家]";
				mes "别太过分了喵~";
				mes "身体要是再差那就不好了喵~";
				close;
			}
			if (checkquest(11243,PLAYTIME) == 2)
				erasequest 11243;
			mes "[马里地质学家]";
			mes "今天还有很多修复工作要做！";
			mes "看来这不是一件容易解决的事情，喵~";
			next;
			switch(select("我会帮忙：我会停下来。")) {
			case 1:
				mes "[马里地质学家]";
				mes "请听^6666cc我的助手Bob^000000详细讲述，喵~";
				mes "离开这里，参观一下右边的^6666cc房间^000000，喵~";
				setquest 11240;
				close;
			case 2:
				mes "[马里地质学家]";
				mes "那你就休息一下吧喵~";
				mes "那就下次有机会再见吧喵~";
				close;
			}
		}
	}
	mes "[马里地质学家]";
	mes "又软又粘的感觉就是这样的……";
	mes "哈哈~一听就上瘾了...";
	emotion ET_SEXY;
	close;
}

mal_in02,140,94,0	script	Bob#mal	553,{
	if (ma_tomas < 14) {
		mes "[鲍勃]";
		mes "你鞠躬哇！弓！哇！我喵！喵！喵！";
		mes "我很喜欢美味的鱼汁，喵~";
		emotion ET_DELIGHT;
		close;
	} else if (ma_tomas == 14) {
		// Dialogue in repeatable quest is identical.
		// Uses a variable to determine the quest mode.
		set @mal_bob_q,1;
	L_Quest1:
		set .@i, @mal_bob_q;
		set @mal_bob_q,0;
		mes "[鲍勃]";
		mes "你鞠躬哇！弓！哇！我喵！喵！喵！";
		mes "我很喜欢美味的鱼汁，喵~";
		emotion ET_DELIGHT;
		next;
		mes "[鲍勃]";
		mes "啊啊啊啊！！！！！！！！！";
		mes "你是来参加志愿服务的吗？！";
		emotion ET_HUK;
		next;
		if (checkweight(1201,1) == 0) {
			mes "[鲍勃]";
			mes "嗯……做志愿服务的时候身心都要轻松！";
			mes "看来你东西太多了，减轻点吧~";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes "[鲍勃]";
			mes "嗯……做志愿服务的时候身心都要轻松！";
			mes "看来你的东西很重，减轻一点吧~";
			close;
		}
		switch(select("是的。：没有。")) {
		case 1:
			mes "[鲍勃]";
			mes "呵呵...";
			mes "印象深刻！";
			mes "我很感动！";
			mes "令人印象深刻的心灵在我心中跳舞！";
			emotion ET_HUK;
			next;
			mes "[鲍勃]";
			mes "我对待人们就好像我看不起他们并对人类有偏见一样！";
			mes "我有种想哭的感觉！！！！";
			mes "印象深刻！";
			mes "印象天马飓风！！！";
			emotion ET_HUK;
			next;
			select("停下来！告诉我如何修复裂缝。");
			mes "[鲍勃]";
			mes "啊!";
			next;
			mes "[鲍勃]";
			mes "呼...";
			mes "我对第一次见到的人很粗鲁，这给我留下了深刻的印象。";
			next;
			mes "[鲍勃]";
			mes "修复裂缝相当简单。";
			mes "任何人都可以通过这个^0000FF修复套件^000000轻松完成！";
			next;
			mes "[鲍勃]";
			mes "用灰色和白色粘土的混合物填充该部分，并用订书机修复裂缝。";
			mes "我将跳过解释如何使用其他工具，因为您已经知道了。";
			next;
			mes "[鲍勃]";
			mes "啊，对了...";
			mes "^0000ff不幸的是，你可能会掉进裂缝的缝隙中，所以请小心。^000000";
			if (.@i == 1) {
				set ma_tomas,15;
				changequest 11221,11222;
			} else
				changequest 11240,11241;
			getitem 6434,1; //Fix_Kit
			close;
		case 2:
			mes "[鲍勃]";
			mes "啊，对了...";
			mes "我懂了...";
			mes "失望的...";
			mes "呼呼嘘嘘~";
			emotion ET_OTL;
			close;
		}
	} else if (ma_tomas == 15) {
	L_Quest2:
		if (checkweight(1201,1) == 0) {
			mes "- 注意 ！！ -";
			mes "- 由于你的物品太多 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻 -";
			mes "- 然后再试一次。 -";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes "- 注意 ！！ -";
			mes "- 由于您的物品太重 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻 -";
			mes "- 然后再试一次。 -";
			close;
		}
		mes "[鲍勃]";
		mes "修复裂缝相当简单。";
		mes "任何人都可以通过这个^0000FF修复套件^000000轻松完成！";
		if (countitem(6434) == 0)
			getitem 6434,1; //Fix_Kit
		next;
		mes "[鲍勃]";
		mes "用灰色和白色粘土的混合物填充该部分，并用订书机修复裂缝。";
		mes "我将跳过解释如何使用其他工具，因为您已经知道了。";
		next;
		mes "[鲍勃]";
		mes "啊，对了...";
		mes "^0000ff不幸的是，你可能会掉进裂缝的缝隙中，所以请小心。^000000";
		close;
	} else if (ma_tomas == 16) {
		mes "[鲍勃]";
		mes "呵呵~~~~~~~~~~~~~~~~~~~~~~";
		mes "太完美了！";
		emotion ET_BEST;
		next;
		mes "[鲍勃]";
		mes "粘合剂填充得恰到好处！";
		mes "完美的订书机工作！！";
		mes "无语又绝妙的终结技！！";
		next;
		mes "[鲍勃]";
		mes "印象深刻！";
		mes "神秘！";
		mes "震惊！";
		emotion ET_HUK;
		next;
		mes "[鲍勃]";
		mes "你确实做得很好！";
		mes "我会告诉马里博士！";
		if (countitem(6434) > 0)
			delitem 6434,1; //Fix_Kit
		set ma_tomas,17;
		changequest 11223,11224;
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11240) > -1) {
			set @mal_bob_q,2;
			goto L_Quest1;
		} else if (checkquest(11241) > -1)
			goto L_Quest2;
	}
	mes "[鲍勃]";
	mes "你鞠躬哇！弓！哇！我喵！喵！喵！";
	mes "我很喜欢美味的鱼汁，喵~";
	emotion ET_DELIGHT;
	close;
}

-	script	Crack#mal0	-1,{
	if (.off) end;	// Official script uses a 1-second timer to disable cracks. Added to prevent abuse.
	if (ma_tomas == 15 || checkquest(11241) > -1) {
		if (countitem(6434) < 1) {
			mes "- 修复裂缝 -";
			mes "- 您需要一个修复套件。 -";
			close;
		}
		set .@ma_cr1, rand(1,10);
		if (.@ma_cr1 < 5) {
			mes "- 地面有点裂了。 -";
			mes "- 使用订书机。 -";
			set .off,1;
			donpcevent "Crackt"+substr(strnpcinfo(2),3,getstrlen(strnpcinfo(2))-1)+"#mal::OnEnable";
			close;
		} else if (.@ma_cr1 == 7) {
			mes "-随着裂缝的打开-";
			mes "- 在中心，-";
			mes "-地面变软-";
			mes "- 你立刻就 -";
			mes "- 被吸进地下。 -";
			close2;
			warp "mal_dun01",0,0;
			end;
		} else {
			while (1) {
				switch(select("修复缝隙：使用订书机。")) {
				case 1:
					switch(rand(1,3)) {
					case 1:
						mes "- 混合两种颜色 -";
						mes "- 粘合剂并把它放在 -";
						mes "- 一丝不苟地破解。 -";
						break;
					case 2:
						mes "- 使用丰满的海鞘 -";
						mes "- 对于破裂的间隙。-";
						break;
					case 3:
						mes "- 使用滑溜的海参 -";
						mes "- 对于破裂的间隙。-";
						break;
					}
					next;
					break;
				case 2:
					mes "- 使用订书机来修补裂缝 -";
					mes "- 并修复得很好。 -";
					next;
					mes "- 似乎有裂缝 -";
					mes "- 填得很好。 -";
					next;
					if (rand(1,3) == 2) {
						mes "- 我们回去报告一下吧。 -";
						if (ma_tomas == 15) {
							set ma_tomas,16;
							changequest 11222,11223;
						}
						if (checkquest(11241) > -1) {
							changequest 11241,11242;
						}
					} else {
						mes "- 让我们来寻找-";
						mes "- 其他裂缝。 -";
					}
					set .off,1;
					donpcevent "Crackt"+substr(strnpcinfo(2),3,getstrlen(strnpcinfo(2))-1)+"#mal::OnEnable";
					close;
				}
			}
		}
	}
	mes "- 我可以看到裂缝。 -";
	mes "- 好像还有 -";
	mes "- 还没有足够的支持者。 -";
	close;
OnEnable:
	enablenpc();
	end;
OnDisable:
	set .off,0;
	disablenpc();
	end;
}
malangdo,114,157,0	duplicate(Crack#mal0)	Crack#mal1	550
malangdo,284,237,0	duplicate(Crack#mal0)	Crack#mal2	550
malangdo,134,150,0	duplicate(Crack#mal0)	Crack#mal3	550
malangdo,173,199,0	duplicate(Crack#mal0)	Crack#mal4	550
malangdo,233,197,0	duplicate(Crack#mal0)	Crack#mal5	550
malangdo,137,239,0	duplicate(Crack#mal0)	Crack#mal6	550
malangdo,239,157,0	duplicate(Crack#mal0)	Crack#mal7	550
malangdo,221,155,0	duplicate(Crack#mal0)	Crack#mal8	550
malangdo,217,109,0	duplicate(Crack#mal0)	Crack#mal9	550
malangdo,162,183,0	duplicate(Crack#mal0)	Crack#mal10	550

-	script	Crackt0#mal	-1,{
	end;
OnInit:
	disablenpc();
	end;
OnEnable:
	enablenpc();
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc();
	end;
OnTimer1000:
	donpcevent "Crack#mal"+substr(strnpcinfo(1),6,getstrlen(strnpcinfo(1))-1)+"::OnDisable";
	end;
OnTimer30000:
	donpcevent "Crack#mal"+substr(strnpcinfo(1),6,getstrlen(strnpcinfo(1))-1)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
-	duplicate(Crackt0#mal)	Crackt1#mal	-1
-	duplicate(Crackt0#mal)	Crackt2#mal	-1
-	duplicate(Crackt0#mal)	Crackt3#mal	-1
-	duplicate(Crackt0#mal)	Crackt4#mal	-1
-	duplicate(Crackt0#mal)	Crackt5#mal	-1
-	duplicate(Crackt0#mal)	Crackt6#mal	-1
-	duplicate(Crackt0#mal)	Crackt7#mal	-1
-	duplicate(Crackt0#mal)	Crackt8#mal	-1
-	duplicate(Crackt0#mal)	Crackt9#mal	-1
-	duplicate(Crackt0#mal)	Crackt10#mal	-1

mal_in02,181,55,3	script	Brie#mal	545,{
	if (ma_tomas < 6) {
		mes "[布里干酪]";
		mes "抱歉，我不想和你说话。请别打扰我。";
		close;
	} else if (ma_tomas == 6) {
		mes "[布里干酪]";
		mes "对不起，总统。";
		next;
		mes "[布里干酪]";
		mes "虽然星星糖支撑着马兰多的土地，";
		mes "我们根本不明白它的目的或原因。";
		mes "我们是否应该期望什么也找不到？";
		next;
		mes "[会议主席]";
		mes "正如德沃尔博士所说，最好等待结果，因为他还在学习……";
		next;
		mes "[布里干酪]";
		mes "如果星星糖离开了，而你只是等待，你会怎么做？";
		mes "马兰多可能会破产。我不能就这样在这里等待。";
		next;
		mes "[会议主席]";
		mes "但是，布里，我们知道除了等待别无他法。";
		mes "上次星糖试图让支架立起来时，发出了巨大的裂痕，因为她似乎受到了惊吓，动作太大了。";
		next;
		mes "[马里地质学家]";
		mes "另外，因为《星糖》的位置对这个岛来说是支柱的作用，所以在她周围设置支柱的话，中心似乎就会塌下来《<<CLR1>>>，喵~";
		next;
		mes "[马里地质学家]";
		mes "由于这个大型地下室空间的性质，如果该中心倒塌，我们无法预料接下来会发生什么。所以我们的研究人员认为我们应该尽可能小心地对待它，喵~";
		next;
		mes "[布里干酪]";
		mes "...";
		next;
		mes "[会议主席]";
		mes "我们知道Rican的受伤可能会影响Yggdrasil Berry的交易，所以不用太担心。";
		next;
		mes "[会议主席]";
		mes "至于这件事，我们将与我们的负责人托马斯讨论并制定计划。";
		next;
		mes "[布里干酪]";
		mes "是的...";
		next;
		mes "[会议主席]";
		mes "好吧，我们暂时休息一下吧。";
		mes "随着时间的推移，塞缪尔将海藻和金枪鱼带到了这里。";
		set ma_tomas,7;
		completequest 11214;
		setquest 11215;
		close;
	} else if (ma_tomas == 7) {
		mes "[布里干酪]";
		mes "什么？！";
		mes "你再唠叨我就不会听。";
		next;
		switch(select("关于Rican：我会停下来。")) {
		case 1:
			mes "[布里干酪]";
			mes "至于我的父亲？";
			mes "他是这座岛上的世界树浆果的主人。";
			next;
			mes "[布里干酪]";
			mes "他只能做一些小事，比如按下烘干机的按钮，直到他的腿从地震中恢复过来。";
			mes "世界树浆果的数量急剧减少。";
			next;
			mes "[布里干酪]";
			mes "我一直在代替他收割它们，但是...";
			next;
			mes "[布里干酪]";
			mes "无论如何，我对此不太了解，因为我才刚刚开始。如果你想询问Yggdrasil Berry的事，就去我在马兰多^6666cc西边的房子^000000吧。";
			next;
			mes "[布里干酪]";
			mes "我父亲今天又会呆在那里说他真的很无聊......";
			set ma_tomas,8;
			changequest 11215,11216;
			close;
		case 2:
			mes "[布里干酪]";
			mes "呼……";
			close;
		}
	} else if (ma_tomas < 12) {
		mes "[布里干酪]";
		mes "无论如何，我对此不太了解，因为我才刚刚开始。如果你想询问Yggdrasil Berry的事，就去我在马兰多^6666cc西边的房子^000000吧。";
		next;
		mes "[布里干酪]";
		mes "我父亲今天又会呆在那里说他真的很无聊......";
		close;
	} else if (ma_tomas == 12) {
		mes "[布里干酪]";
		mes "马里博士，请让我帮忙修复裂缝！";
		mes "你以前给我打电话比较频繁，但为什么现在却说不能把工作交给我呢？";
		next;
		mes "[马里地质学家]";
		mes "不，喵~";
		mes "布里，你一定要帮帮你爸爸，喵~";
		next;
		mes "[布里干酪]";
		mes "但如果这座岛塌了，那么再大惊小怪也没用了！";
		next;
		mes "[马里地质学家]";
		mes "就跟先有鸡还是先有蛋的情况一样，喵~";
		mes "如果我们出售世界树果出现问题，就买不到修复裂缝的工具了，喵~";
		next;
		mes "[布里干酪]";
		mes "...";
		next;
		mes "[马里地质学家]";
		mes "所以，回家去帮助你爸爸吧，喵~";
		next;
		mes "[布里干酪]";
		mes "好吧，如果他的腿康复了，我会再回来的。";
		next;
		mes "[马里地质学家]";
		mes "好的。";
		mes "我会等你喵~";
		next;
		mes "[马里地质学家]";
		mes "现在等他回家，我就去找参加者了，喵~";
		mes "干杯!";
		set ma_tomas,13;
		completequest 11220;
		close;
	}
	mes "[布里干酪]";
	mes "呼……我想我已经不再挑剔了，因为我感到紧张。";
	mes "现在我只想到的只是挑剔的收获。";
	close;
}

mal_in01,114,169,5	script	Rican#mal	547,{
	if (ma_tomas < 9) {
		mes "[黎肯]";
		mes "呜呜来了...";
		mes "哇啊啊啊啊啊……";
		mes "我已经等不及了...就这样呆在家里！！";
		emotion ET_SLEEPY;
		next;
		mes "[黎肯]";
		mes "我的腿什么时候才能恢复，什么时候？！";
		mes "他们应该很快就会好起来，这样我就可以像以前一样工作了......";
		mes "但我几乎无法动弹。";
		if (ma_tomas < 8)
			close;
		next;
		mes "[黎肯]";
		mes "我只能整天按着按钮~";
		mes "这根本就不令人兴奋啊~";
		mes "越来越不愿意做事了~Doobie dooba~";
		emotion ET_SLEEPY;
		next;
		select("打扰一下。这是瑞肯的房子吗？");
		mes "[黎肯]";
		mes "啊？";
		mes "你是谁！";
		mes "我是黎肯人！";
		mes "很高兴见到你，因为我现在很无聊……";
		mes "告诉我现在发生了什么！现在！";
		emotion ET_HUK;
		next;
		select("询问有关 Yggdrasil 浆果的问题。");
		mes "[黎肯]";
		mes "尤格德拉西尔浆果？";
		mes "你……你知道一些事情！";
		mes "嗯，哈哈哈！";
		mes "只有少数猫知道 Yggdrasil Berry！";
		emotion ET_SPARK;
		next;
		mes "[黎肯]";
		mes "好吧，在我与像你这样的人类进行交易之前，世界树浆果并不被认为是一种非常了不起的水果。";
		next;
		mes "[黎肯]";
		mes "它曾经分布在我的老城区各处。味道不好还导致消化不良喵~";
		mes "猫自然需要吃鱼。";
		emotion ET_SEXY;
		next;
		mes "[黎肯]";
		mes "但如果人类吃了这个，它就会让你充满能量。";
		next;
		mes "[黎肯]";
		mes "一开始我根本没想到它可以卖！";
		next;
		mes "[黎肯]";
		mes "呵呵~";
		mes "那时候简直太棒了...";
		next;
		mes "[黎肯]";
		mes "很久以前...";
		mes "我们一行人离开小镇前往新的贸易航线。";
		emotion ET_SHY;
		next;
		mes "[黎肯]";
		mes "事实上，我们统治了城镇周围的地区，寻找未开发的地区就像是一个挑战。";
		next;
		mes "[黎肯]";
		mes "但发现未知才是男人的浪漫不是吗？";
		emotion ET_COOL;
		next;
		mes "[黎肯]";
		mes "嗯，无论如何，开头还是很美好的。";
		mes "在海上漂浮一两个月后...";
		next;
		mes "[黎肯]";
		mes "海里有足够的鱼，但它让我感到无聊。我最想吃调料，比如萝卜配鸡肉。";
		emotion ET_HUNGRY;
		next;
		mes "[黎肯]";
		mes "虽然我们漂流了很长一段时间，但我们无法登陆任何岛屿。相反，我们遇到了风暴。";
		next;
		mes "[黎肯]";
		mes "我还是第一次见到如此猛烈的龙卷风。";
		mes "当时我就失去了理智，以为我会死掉。";
		next;
		mes "[黎肯]";
		mes "我不知道其他的船怎么样，但是Navi这艘船很幸运地降落在这个岛上。";
		next;
		mes "[黎肯]";
		mes "咳咳！";
		mes "你能相信吗？";
		mes "^0000FF那艘巨大的飞船刚刚飞过，呼~~就像一艘飞艇一样，落在了这座岛屿的中央！^000000";
		emotion ET_HUK;
		next;
		mes "[黎肯]";
		mes "无论如何，我活了下来，但船上的大部分货物都被洗劫一空，只剩下世界树浆果了。";
		next;
		mes "[黎肯]";
		mes "啊？如果我们不吃它们，为什么还要装载它们？";
		mes "这……这就是秘密……";
		emotion ET_SWEAT;
		next;
		mes "[黎肯]";
		mes "好吧，这并不重要。当我们派出侦察小组去那里时，我们发现那片土地上居住着其他物种，与我们不同。";
		mes "那是你们人类的土地。";
		next;
		mes "[黎肯]";
		mes "不管过程如何，我们都按照我们最初的预期找到了新的交易区域……我们还有一个小问题，就是还不知道如何回到我们的Howmetown……";
		next;
		mes "[黎肯]";
		mes "我们猫开始销售，具有强大的生存能力。";
		mes "但我们只有世界树浆果，对吧？";
		mes "我们出售它时并没有抱太大期望，但可以卖得很热。";
		next;
		mes "[黎肯]";
		mes "据传闻，它在人类中以很高的价格出售，并且对人类产生了显着的影响。";
		mes "于是我们最终决定出售Yggdrasil Berry，利润不断增长。";
		next;
		mes "[黎肯]";
		mes "但我们卖的是干的，^0000FF与人类原来认识的有点不同，而且效果较差，而且很难生吃^000000。";
		next;
		mes "[黎肯]";
		mes "因为它在我们准备时就消失了，所以这对我们团队来说绝对是最好的。";
		emotion ET_GOODBOY;
		next;
		mes "[黎肯]";
		mes "顺便说一句，由于我在这个重要的赛季受伤了，如果我不能在截止日期前交付订购的金额，就会损害我的信誉！";
		mes "交易就是信誉！！！";
		emotion ET_HUK;
		next;
		mes "[黎肯]";
		mes "为此，您愿意帮助我吗？";
		mes "虽然儿子在帮助我，但我们能准备的东西还是不够。";
		next;
		switch(select("我会帮助他：我不会。")) {
		case 1:
			mes "[黎肯]";
			mes "呵呵！";
			mes "从第一次见面我就对你产生了好感！";
			next;
			mes "[黎肯]";
			mes "收获世界树浆果非常容易。";
			mes "挖地就可以得到，喵~";
			emotion ET_HUK, playerattached();
			next;
			select("?!");
			mes "[黎肯]";
			mes "啊？";
			mes "原来不是从地里生出来的吗？";
			emotion ET_HUK, playerattached();
			next;
			select("它不是长在树上吗？");
			mes "[黎肯]";
			mes "嗯，米德加德的世界树浆果可以做到这一点。";
			mes "但是^6666cc我们从地下挖出了我们的世界树浆果^000000。";
			emotion ET_HUK, playerattached();
			next;
			mes "[黎肯]";
			mes "您可以在马兰多岛轻松获得它。给我带30个左右吧";
			mes "啊!一定要保守秘密给儿子~";
			mes "那么请^ff99cc！！！^000000请^ff99cc!!!^000000请~~~";
			emotion ET_CHUP;
			set ma_tomas,9;
			changequest 11216,11217;
			close;
		case 2:
			mes "[黎肯]";
			mes "哦？那么没关系，如果你无法帮助它。";
			mes "我受伤的腿感觉很糟糕......-呻吟-";
			close;
		}
	} else if (ma_tomas == 9) {
		if (countitem(6435) < 30) {
			mes "[黎肯]";
			mes "您可以在马兰多岛轻松获得它。给我带30个左右吧";
			mes "啊!一定要保守秘密给儿子~";
			mes "那么请^ff99cc！！！^000000请^ff99cc!!!^000000请~~~";
			emotion ET_CHUP;
			close;
		}
		mes "[黎肯]";
		mes "噢噢！！";
		mes "这清新的味道！！！";
		mes "哈哈~好新鲜，干得好！";
		mes "你擅长收获世界树浆果吗？";
		next;
		mes "[黎肯]";
		mes "那你会把它放到我面前的机器里吗？";
		set ma_tomas,10;
		changequest 11217,11218;
		close;
	} else if (ma_tomas == 10) {
		mes "[黎肯]";
		mes "噢噢！！";
		mes "这清新的味道！！！";
		mes "哈哈~好新鲜，干得好！";
		mes "你擅长收获世界树浆果吗？";
		next;
		mes "[黎肯]";
		mes "那你会把它放到我面前的机器里吗？";
		close;
	} else if (ma_tomas == 11) {
		if (checkweight(1201,1) == 0) {
			mes "- 注意 ！！ -";
			mes "- 由于你的物品太多 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻-";
			mes "- 然后再试一次。 -";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes "- 注意 ！！ -";
			mes "- 由于您的物品太重 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻-";
			mes "- 然后再试一次。 -";
			close;
		}
		mes "[黎肯]";
		mes "呼呼~有你的帮助我就放心了。";
		mes "我一度怀疑是不是突然太过分了，结果却恰到好处！";
		next;
		mes "[黎肯]";
		mes "顺便说一下，我儿子还没有消息，他说他去开会了。";
		mes "我希望他不要再打扰马里博士了……";
		next;
		mes "[黎肯]";
		mes "自从我的腿受伤后，他似乎更频繁地拜访马里医生。";
		mes "如果他这样做的话，研究会变得更长......";
		next;
		mes "[黎肯]";
		mes "如果你看到我儿子，请告诉他尽快回来~";
		mes "这是给你买好吃的东西的，因为你辛苦了。";
		set ma_tomas,12;
		getitem 6422,20; //Egrade_Coin
		changequest 11219,11220;
		setquest 11239;
		close;
	} else if (ma_tomas == 12) {
		mes "[黎肯]";
		mes "自从我的腿受伤后，他似乎更频繁地拜访马里医生。";
		mes "如果他这样做的话，研究会变得更长......";
		mes "如果你看到我儿子，请告诉他尽快回来~";
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11238) != -1) {
			if (countitem(6435) < 30) {
				mes "[黎肯]";
				mes "您需要 30 份才能获得一套！";
				close;
			}
			mes "[黎肯]";
			mes "非常可靠！";
			mes "你不想和 Yggdrasil Berry 做生意吗？";
			delitem 6435,30; //Fresh_Fruit
			erasequest 11238;
			setquest 11239;
			getitem 6422,5; //Egrade_Coin
			close;
		} else if (checkquest(11239,PLAYTIME) == 0 || checkquest(11239,PLAYTIME) == 1) {
			mes "[黎肯]";
			mes "您想休息一会儿吗？";
			mes "距离上次上班还不到一天呢~";
			close;
		} else {
			if (checkquest(11239,PLAYTIME) == 2)
				erasequest 11239;
			mes "[黎肯]";
			mes "呵呵~";
			mes "你又来帮我了？";
			mes "你真是太忠诚了！";
			next;
			switch(select("我会帮忙：我不会。")) {
			case 1:
				mes "[黎肯]";
				mes "与以前执行的任务相同。";
				mes "30 世界树浆果。您可以在马兰多轻松找到它！";
				mes "啊!一定要保守秘密给儿子~";
				mes "那么请^ff99cc！！！^000000请^ff99cc!!!^000000请~~~";
				emotion ET_CHUP;
				setquest 11238;
				close;
			case 2:
				mes "[黎肯]";
				mes "是的？既然来了那就来这里玩玩吧~";
				close;
			}
		}
	}
	mes "[黎肯]";
	mes "呜呜来了...";
	mes "哇啊啊啊啊啊……";
	mes "我已经等不及了...就这样呆在家里！！";
	next;
	mes "[黎肯]";
	mes "我只能整天按着按钮~";
	mes "这根本就不令人兴奋啊~";
	mes "越来越不愿意做事了~Doobie dooba~";
	close;
}

mal_in01,116,168,0	script	Dry Machine#mal	563,{
	if (ma_tomas == 10) {
		if (countitem(6435) < 30) {
			mes "[黎肯]";
			mes "您需要 30 份才能获得一套！";
			close;
		}
		switch(select("把水果放进去：不要。")) {
		case 1:
			mes "[黎肯]";
			mes "我自己按一下按钮！！！";
			emotion ET_HUK, getnpcid(0, "Rican#mal");
			next;
			mes "- 机器开始运转 -";
			mes "- 当他按下按钮时。 -";
			delitem 6435,30; //Fresh_Fruit
			set ma_tomas,11;
			changequest 11218,11219;
			close;
		case 2:
			mes "[黎肯]";
			mes "啊……你不放进去吗？";
			close;
		}
	}
	mes "- 咕咕咕咕 -";
	close;
}

-	script	Suspicious Sand Pile#0	-1,{
	if (.off) end;	// Official script uses a 1-second timer to disable sand piles. Added to prevent abuse.
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (ma_tomas == 9 || checkquest(11238) > -1) {
		if (rand(1,5) == 4) {
			mes "- 当我把手放在沙子里时 -";
			mes "- 一股清新的气味散发出来。 -";
			getitem 6435,1; //Fresh_Fruit
		} else {
			mes "- 当我把手放在沙子里时 -";
			mes "- 我感觉我在触摸 -";
			mes "- 不好的事情。 -";
			mes "- 啊，啊！感觉很糟糕...-";
			emotion ET_HUK, playerattached();
		}
		set .off,1;
		donpcevent "Water Sand"+strnpcinfo(2)+"#mal::OnEnable";
		close;
	}
	mes "- 看起来很可疑。 -";
	mes "- 但这只是沙子... -";
	close;
OnEnable:
	enablenpc();
	end;
OnDisable:
	set .off,0;
	disablenpc();
	end;
}
malangdo,221,139,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#1	557
malangdo,208,174,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#2	557
malangdo,191,223,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#3	557
malangdo,150,195,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#4	557
malangdo,116,196,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#5	557
malangdo,178,145,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#6	557
malangdo,142,120,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#7	557
malangdo,136,122,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#8	557
malangdo,152,143,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#9	557
malangdo,242,175,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#10	557

-	script	Water Sand0#mal	-1,{
OnInit:
	disablenpc();
	end;
OnEnable:
	enablenpc();
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc();
	end;
OnTimer1000:
	donpcevent "Suspicious Sand Pile#"+substr(strnpcinfo(1),10,getstrlen(strnpcinfo(1))-1)+"::OnDisable";
	end;
OnTimer30000:
	donpcevent "Suspicious Sand Pile#"+substr(strnpcinfo(1),10,getstrlen(strnpcinfo(1))-1)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
-	duplicate(Water Sand0#mal)	Water Sand1#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand2#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand3#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand4#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand5#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand6#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand7#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand8#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand9#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand10#mal	-1

mal_dun01,136,120,6	script	Linguist Devore#mald	549,{
	end;
OnInit:
	disablenpc "Linguist Devore#mald";
	end;
OnEnable:
	enablenpc "Linguist Devore#mald";
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc "Linguist Devore#mald";
	end;
OnTimer100000:
	donpcevent "Linguist Devore#mald::OnDisable";
	end;
}

mal_dun01,136,122,3	script	Biscuit#mal	551,{
	if (ma_tomas < 20) {
		mes "- 有一些奇怪的事情。 -";
		mes "- 感觉好像有点 -";
		mes "- 你不应该进行目光接触。 -";
		close;
	} else if (ma_tomas == 20) {
		mes "[饼干]";
		mes "星糖就这样牺牲了自己，而那些家伙却只是为了自己而在她周围立下柱子。";
		mes "唷！！！";
		emotion ET_ANGER;
		next;
		mes "[饼干]";
		mes "他们和她说话，但当我和她说话时他们不理我。";
		mes "我一点也不喜欢他们！！！";
		emotion ET_ANGER;
		next;
		mes "- 与德沃尔博士的话不同，饼干看起来说话很流利。 -";
		next;
		mes "- 我认为最好尽快让德沃尔博士知道这一点。 -";
		close;
	} else if (ma_tomas == 21) {
		mes "[饼干]";
		mes "嗯？";
		mes "这是什么？";
		mes "你有什么要告诉我的吗？";
		next;
		mes "[饼干]";
		mes "嗯，那个家伙往往就是无视我的话的人。";
		mes "他说话犹豫不决，让我感到不舒服。";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你听到了吗？德沃尔博士？";
		donpcevent "Linguist Devore#mald::OnEnable";
		next;
		mes "[语言学家德沃]";
		mes "嗯？你是什么意思？";
		mes "我什么也听不到。";
		emotion ET_QUESTION, getnpcid(0, "Linguist Devore#mald");
		next;
		mes "["+strcharinfo(0)+"]";
		mes "啊？饼干说：“好吧，那个家伙常常无视我的话。他说话犹豫不决，让我感到不舒服。”？";
		next;
		mes "[语言学家德沃]";
		mes "什么？你们在聊什么？";
		mes "我什么也听不到。";
		emotion ET_QUESTION, getnpcid(0, "Linguist Devore#mald");
		next;
		mes "["+strcharinfo(0)+"]";
		mes "啊？";
		emotion ET_QUESTION, playerattached();
		next;
		mes "[语言学家德沃]";
		mes "啊？！";
		mes "啊？！？！？！？！？！？";
		mes "啊！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！";
		emotion ET_HUK, getnpcid(0, "Linguist Devore#mald");
		next;
		mes "[语言学家德沃]";
		mes "如果……如果是这个原因的话！";
		mes "我们可能完全误解了！";
		emotion ET_HUK, getnpcid(0, "Linguist Devore#mald");
		next;
		mes "[语言学家德沃]";
		mes "天哪，我们不可能知道，因为我们住在这里只和我们自己在一起。";
		next;
		mes "[语言学家德沃]";
		mes "每一种生物都有自己的听觉和发声区域。但我们和饼干的领域略有不同！";
		emotion ET_HUK, getnpcid(0, "Linguist Devore#mald");
		next;
		mes "[语言学家德沃]";
		mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
		mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
		next;
		mes "[语言学家德沃]";
		mes "呼~呼……尽管研究了很多年，也没有发现这个原因……";
		next;
		mes "[语言学家德沃]";
		mes "现在不是做这件事的时候！";
		mes "我现在应该改变学习方式。";
		next;
		mes "[语言学家德沃]";
		mes "我会回到会议并报告此事。";
		mes "那么接下来的事情就请你处理吧！";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "等等，德沃尔博士，接下来到底会发生什么……？";
		mes "我应该怎么办...？";
		emotion ET_THINK, playerattached();
		next;
		mes "[语言学家德沃]";
		mes "哈哈哈~你是那种能和饼干对话的人。请尝试与他交谈。";
		mes "不管你和他谈论什么，这对我的学习都会有帮助。";
		next;
		mes "[饼干]";
		mes "嘿嘿……别小看我！";
		emotion ET_ANGER;
		donpcevent "Linguist Devore#mald::OnDisable";
		set ma_tomas,22;
		completequest 11228;
		setquest 11229;
		close;
	} else if (ma_tomas == 22 || ma_tomas == 23 || ma_tomas == 24) {
		mes "[饼干]";
		mes "……你在看什么……";
		next;
		while(1) {
			switch(select("询问星星糖果。：询问饼干。：询问马兰多。")) {
			case 1:
				mes "[饼干]";
				mes "星星糖？";
				mes "啧啧！";
				mes "没办法了，这些卑微的家伙。";
				emotion ET_ANGER;
				next;
				mes "[饼干]";
				mes "你应该认出了星糖之前那种神秘的感觉吧！";
				mes "她才是真正美丽的人。";
				next;
				mes "[饼干]";
				mes "她多么美丽啊……嗯……";
				mes "太漂亮了。";
				mes "太美了……但我不知道该怎么解释……";
				emotion ET_PROFUSELY_SWEAT;
				next;
				mes "[饼干]";
				mes "嗯...";
				mes "这就是为什么用声音说话的人会令人恼火。";
				emotion ET_ANGER;
				next;
				select("用声音说话？");
				mes "[饼干]";
				mes "像我们这样高度进化的人用我们的思想而不是声音说话。";
				mes "你心里一想，马上就给别人了，是这样的吗？";
				next;
				mes "[饼干]";
				mes "在其他地方，它曾经被称为超声波或心灵感应。";
				next;
				mes "[饼干]";
				mes "所以我们不需要更多的解释或华丽的辞藻......";
				mes "呜呜，太让我烦恼了！";
				if (ma_tomas == 22)
					set ma_tomas,23;
				if (ma_tomas == 25)
					close;
				next;
			case 2:
				mes "[饼干]";
				mes "我？";
				mes "我是星糖的助手，是海星一族的新星，多才多艺！";
				emotion ET_SPARK;
				next;
				mes "[饼干]";
				mes "啊啊啊……";
				mes "我当初当她助理的时候，曾经被人称为天才、帅助理等等……";
				mes "我感觉一条闪亮的光路向我走来……";
				next;
				mes "[饼干]";
				mes "但如果老人家看到了，他们会把我晒干的……";
				mes "那是一种像火焰一样的生活……呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜";
				emotion ET_CRY;
				if (ma_tomas == 23)
					set ma_tomas,24;
				if (ma_tomas == 25)
					close;
				next;
			case 3:
				mes "[饼干]";
				mes "这个岛是美丽的星星糖可以休息的地方。";
				mes "表面柔软，内部水分高，是海星的最佳栖息地。";
				next;
				mes "[饼干]";
				mes "现在，那些猫已经如愿占据了。";
				mes "这是一个问题，因为星糖太善良了……";
				if (ma_tomas == 24) {
					set ma_tomas,25;
					changequest 11229,11230;
				}
				if (ma_tomas == 25)
					close;
				next;
			}
		}
	} else if (ma_tomas == 25) {
		mes "[饼干]";
		mes "喂，你还没回去吗？";
		mes "如果有时间的话，给星星糖买点果冻吃。";
		next;
		switch(select("好的：为什么是我？")) {
		case 1:
			mes "[饼干]";
			mes "在这里你可以买到果冻。";
			mes "没那么难，你应该在星糖吃饭时间之前回来！";
			mes "一顿饭吃30粒果冻就够了。";
			set ma_tomas,26;
			changequest 11230,11231;
			close;
		case 2:
			mes "[饼干]";
			mes "为什么是你？";
			mes "我太忙了，无法帮助她和那些听不到我声音的猫伙伴，所以我应该问你。";
			next;
			mes "[饼干]";
			mes "多么粗鲁...";
			emotion ET_ANGER;
			next;
			mes "[饼干]";
			mes "你不是我的下属，我不能强行命令你。但如果星糖不能按时吃饭，你要记住，这座岛将会彻底崩溃。";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "……这不是请求，而是威胁……";
			emotion ET_THINK, playerattached();
			close;
		}
	} else if (ma_tomas == 26) {
		// Dialogue in repeatable quest is identical.
		// Uses a variable to determine the quest mode.
		set @mal_bob_q,1;
	L_Quest:
		set .@i, @mal_bob_q;
		set @mal_bob_q,0;
		if (countitem(12624) < 30) {
			mes "[饼干]";
			mes "根本不够啊~";
			mes "我至少需要 30 个美味果冻。";
			close;
		}
		mes "[饼干]";
		mes "你把它们搞得很好。";
		mes "给她准备饭菜不会有任何问题。";
		delitem 12624,30; //Delicious_Jelly
		if (.@i == 1) {
			set ma_tomas,27;
			changequest 11231,11232;
		} else {
			erasequest 11244;
			setquest 11245;
			getitem 6422,5; //Egrade_Coin
		}
		next;
		mes "[饼干]";
		mes "虽然果冻看起来很奇怪，但是味道很好……";
		mes "星星糖似乎也很喜欢。";
		next;
		mes "[饼干]";
		mes "星星糖，吃饭啦~";
		mes "呵呵，你怎么不吃呢？";
		mes "你没有胃口吗？";
		close;
	} else if (ma_tomas == 27) {
		mes "[饼干]";
		mes "呼……没胃口是理所当然的……";
		next;
		mes "[饼干]";
		mes "珍贵的星糖怎么会这样支撑地下室的地面，而且是在岛屿的地下洞穴里，还这么干燥！";
		next;
		mes "[饼干]";
		mes "而且，这个滑溜溜的东西也让星糖很烦恼。";
		mes "你无法避免压力。";
		next;
		select("滑溜溜的东西？");
		mes "[饼干]";
		mes "唔？这样的事情算什么啊。";
		mes "滑溜溜的东西。";
		mes "其丑陋的外表一直困扰着星糖。";
		next;
		mes "[饼干]";
		mes "它试图上岛，尤其是在像今天这样的暴风雨中。我在这里躲了一段时间。那些猫来了，把她弄成了这样。";
		next;
		mes "[饼干]";
		mes "感谢星星糖果，她的皮肤...";
		mes "......";
		next;
		mes "[饼干]";
		mes "哇！";
		mes "这是啥啊！！！";
		mes "她的皮肤是！！！";
		mes "她的皮肤上长了一个脓肿，曾经像宝石一样闪闪发光！";
		emotion ET_HUK;
		next;
		mes "[饼干]";
		mes "自从她来了之后，她的皮肤就变得干燥了！";
		mes "对于我们的海星来说，缺水意味着可怕的死亡！";
		next;
		mes "[饼干]";
		mes "啊啊啊！她真是太善良了，为了拯救这样的事情，她牺牲了自己。呜呜呜。";
		emotion ET_CRY;
		next;
		mes "[饼干]";
		mes "啊啊啊……";
		mes "我不能离开去照顾她，没有人可以帮忙吗~";
		next;
		mes "[饼干]";
		mes "有没有人帮忙啊ppppp~";
		next;
		mes "[饼干]";
		mes "嘿，你在那里...";
		mes "就算我这样问，你也会不理我，站在那儿吗？";
		next;
		select("我会帮忙。：这是不可避免的，所以我会帮忙。：我承认这是我的命运，所以我会帮忙。：我会为星糖做任何我能做的事。");
		mes "[饼干]";
		mes "态度好！";
		mes "呼啦~";
		next;
		mes "[饼干]";
		mes "然后请找到刷子来给她洗澡，并拿一个篮子来运水。";
		mes "也许它们堆放在仓库里。";
		set ma_tomas,28;
		changequest 11232,11233;
		close;
	} else if (ma_tomas == 28) {
		if (countitem(6433) && countitem(6432)) {
			mes "[饼干]";
			mes "哦！";
			mes "你成功地把工具带来了。";
			mes "现在可以逆时针方向清洗干性皮肤了！";
			mes "右边，然后从她的左腿开始……！";
			set ma_tomas,29;
			changequest 11233,11234;
			close;
		} else if (countitem(6433) && countitem(6431)) {
			mes "[饼干]";
			mes "哦！";
			mes "你成功地把工具带来了。";
			mes "现在你可以从外面取海水了。";
			next;
			mes "[饼干]";
			mes "我记得有一个地方是一流的，位于马兰多东部。";
			mes "用这山洞里收集的水给她洗澡是不对的！";
			next;
			mes "[饼干]";
			mes "小心不要让水洒出来，因为它很重，搬运起来很重。";
			close;
		} else {
			mes "[饼干]";
			mes "嗯……如果你没有合适的工具，那就很难了……";
			mes "不过对于我这样的小人物来说，这并不重要。";
			next;
			mes "[饼干]";
			mes "像星星糖这样巨大的皮肤，里面充满了藤壶、牡蛎和贻贝！";
			emotion ET_HUK;
			close;
		}
	} else if (ma_tomas < 33) {
		mes "[饼干]";
		mes "哦！";
		mes "你成功地把工具带来了。";
		mes "现在可以逆时针方向清洗干性皮肤了！";
		mes "右边，然后从她的左腿开始……！";
		close;
	} else if (ma_tomas == 33) {
		if (checkweight(1201,1) == 0) {
			mes "- 注意 ！！ -";
			mes "- 由于你的物品太多 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻-";
			mes "- 然后再试一次。 -";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes "- 注意 ！！ -";
			mes "- 由于您的物品太重 -";
			mes "- 你无法获得该物品。 -";
			mes "- 让你的身体变轻-";
			mes "- 然后再试一次。 -";
			close;
		}
		mes "[饼干]";
		mes "干得好！";
		mes "现在我看到她美丽的容颜已经恢复了。";
		emotion ET_COOL;
		next;
		mes "[饼干]";
		mes "每天不清洁皮肤就会变差。";
		mes "有句话说……清洁皮肤比化妆重要得多。";
		emotion ET_BEST;
		next;
		mes "[饼干]";
		mes "你做得很好。";
		mes "我突然这么问，你却帮了我……";
		mes "说实话，我以为你会离开。";
		next;
		mes "[饼干]";
		mes "这是一种奖励。向 Dvor 博士……或 Devore 说我的话，无论那只猫叫什么名字。";
		next;
		mes "[饼干]";
		mes "无需等到研究结束。我们可以通过你来谈谈，最好还是谈谈目前的情况……";
		next;
		mes "[饼干]";
		mes "这不适合你……也不适合你们所有人。倒不如让星糖尽快休息一下吧！";
		emotion ET_HNG;
		set ma_tomas,34;
		erasequest 11235;
		setquest 11236;
		getitem 6422,100; //Egrade_Coin
		getitem 12636,20; //Malang_Sp_Can
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11244) > -1) {
			set @mal_bob_q,2;
			goto L_Quest;
		} else if (checkquest(11245,PLAYTIME) == 0 || checkquest(11245,PLAYTIME) == 1) {
			mes "[饼干]";
			mes "当我需要你的时候我会打电话给你，所以不用担心！";
			close;
		} else {
			if (checkquest(11245,PLAYTIME) == 2)
				erasequest 11245;
			mes "[饼干]";
			mes "星星糖吃饭的时间到了。";
			mes "来点果冻吧";
			next;
			switch(select("我来帮忙：我会停下来。")) {
			case 1:
				mes "[饼干]";
				mes "在这里你可以买到果冻。";
				mes "没那么难，你应该在星糖吃饭时间之前回来！";
				mes "一顿饭吃30粒果冻就可以了。";
				setquest 11244;
				close;
			case 2:
				mes "[饼干]";
				mes "什么，你说你让我们的星星糖饿了？！";
				close;
			}
		}
	}
	mes "[饼干]";
	mes "星星糖确实不错。";
	mes "尽管很难忍受，她却从未失去笑容……";
	close;
}

mal_in02,102,94,3	script	Cleaning Staff#mal	544,2,2,{
OnTouch:
	if (checkweight(1201,1) == 0) {
		mes "- 注意 ！！ -";
		mes "- 由于你的物品太多 -";
		mes "- 你无法获得该物品。 -";
		mes "- 让你的身体变轻 -";
		mes "- 然后再试一次。 -";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "- 注意 ！！ -";
		mes "- 由于您的物品太重 -";
		mes "- 你无法获得该物品。 -";
		mes "- 让你的身体变轻 -";
		mes "- 然后再试一次。 -";
		close;
	}
	mes "[清洁人员]";
	mes "都是你的。这里有各种清洁工具。";
	next;
	switch(select("铲斗：清洁刷：停止。")) {
	case 1:
		mes "[清洁人员]";
		mes "你说的是桶！";
		mes "来啦~";
		next;
		mes "[清洁人员]";
		mes "请将清洁工具退还给任何商家。";
		mes "谢谢你的光临~";
		getitem 6431,1; //Bucket
		close;
	case 2:
		mes "[清洁人员]";
		mes "你说的是清洁刷！";
		mes "来啦~";
		next;
		mes "[清洁人员]";
		mes "请将清洁工具退还给任何商家。";
		mes "谢谢你的光临~";
		getitem 6433,1; //Clean_Brush
		close;
	case 3:
		mes "[清洁人员]";
		mes "谢谢你的光临~";
		close;
	}
	close;
}

malangdo,246,184,0	script	1st Rate Point	111,{
	if (checkweight(1201,1) == 0) {
		mes "- 注意 ！！ -";
		mes "- 由于你的物品太多 -";
		mes "- 你无法获得该物品。 -";
		mes "- 让你的身体变轻-";
		mes "- 然后再试一次。 -";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "- 注意 ！！ -";
		mes "- 由于您的物品太重 -";
		mes "- 你无法获得该物品。 -";
		mes "- 让你的身体变轻 -";
		mes "- 然后再试一次。 -";
		close;
	}
	if (countitem(6431) == 0) {
		mes "- 取水 -";
		mes "- 您需要一个^0000FF存储桶^000000。 -";
		close;
	}
	mes "- 水看起来很纯净。 -";
	next;
	switch(select("取水。：停止。")) {
	case 1:
		mes "- 水桶变得显着 -";
		mes "- 重如水充满它。 -";
		specialeffect EF_POTION8;
		delitem 6431,1; //Bucket
		getitem 6432,1; //Full_Bucket
		close;
	case 2:
		mes "- 没有喝到水。 -";
		close;
	}
}

mal_dun01,133,125,5	script	Star Candy#mal	552,{
	if (ma_tomas == 19) {
		mes "[星星糖果]";
		mes "....";
		mes ".....";
		mes "......";
		next;
		mes "[饼干]";
		mes "粗鲁的！你怎么和珍贵的星星糖说话！";
		next;
		mes "[饼干]";
		mes "你看起来和平常来的人不一样……";
		mes "不过，你看起来也很奇怪。";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "？！";
		mes "你可以说话！";
		emotion ET_HUK, playerattached();
		next;
		mes "[饼干]";
		mes "什么？";
		mes "你从来没见过我说话吗？";
		mes "你怎么了？";
		next;
		mes "[饼干]";
		mes "既然能和你说话，你看起来就比那些蠢货要好。";
		mes "虽然我学会了用他们的语言说话，但他们听不懂。";
		next;
		mes "[饼干]";
		mes "我们宝贝星糖谦虚地支持他们，他们也这样对待她。";
		mes "他们不知道如何表达感谢！";
		emotion ET_ANGER, getnpcid(0, "Biscuit#mal");
		next;
		select("支持？");
		mes "[饼干]";
		mes "反正！";
		mes "善待他们是没有用的。";
		mes "他们不知道星糖有多努力。";
		next;
		mes "[饼干]";
		mes "这个岛曾经是她的，但在她躲避风暴来到这里的短暂时间内，那些猫突然被扔到了岛上。";
		next;
		mes "[饼干]";
		mes "由于这里的地面非常松软，星糖就被夹在了中间，现在的情况就是这样。";
		next;
		mes "[饼干]";
		mes "其实，不管那些不好的事情，她都可以出去，但她还是坚持着，担心有人受伤。";
		next;
		mes "[饼干]";
		mes "啊啊啊……";
		mes "多么美好的心灵啊...";
		next;
		mes "[饼干]";
		mes "有一次，她觉得不舒服，稍微动了动，看到他们，就惊慌失措。从那以后，她就再也没有动过。我很担心她是否身体不好。";
		next;
		mes "[饼干]";
		mes "星糖就这样牺牲了自己，而那些家伙却只是为了自己而在她周围立下柱子。";
		mes "唷！！！";
		emotion ET_ANGER, getnpcid(0, "Biscuit#mal");
		next;
		mes "[饼干]";
		mes "他们和她说话，但当我和她说话时他们不理我。";
		mes "我一点也不喜欢他们！！！";
		next;
		mes "- 与德沃尔博士的话不同，饼干看起来说话很流利。 -";
		next;
		mes "- 我认为最好尽快让德沃尔博士知道这一点。 -";
		set ma_tomas,20;
		changequest 11226,11227;
		close;
	}
	mes "[星星糖果]";
	mes "....";
	mes ".....";
	mes "......";
	close;
}

-	script	#skin_mal	-1,{
	set .@index, atoi(strnpcinfo(2));
	switch(.@index) {
		case 29: set .@str$,"dry"; break;
		case 30: set .@str$,"prickly"; break;
		case 31: set .@str$,"chapped"; break;
		case 32: set .@str$,"hard"; break;
		default:
			mes "发生错误。";
			close;
	}
	if (ma_tomas != .@index) {
		mes "- 我为皮肤感到难过 -";
		mes "- 就这样"+.@str$+"。 -";
		close;
	}
	if (!countitem(6433) || !countitem(6432)) {
		mes "-你需要-";
		mes "- 清洁刷 -";
		mes "- 还有满满一桶。 -";
		close;
	}
	mes "- 将水倒在"+.@str$+"皮肤上。 -";
	delitem 6432,1; //Full_Bucket
	getitem 6431,1; //Bucket
	next;
	if (rand(1,2) == 1)
		set .@menu$,"Brush.:Stop.:";
	else
		set .@menu$,":Stop.:Brush.";
	switch(select(.@menu$)) {
	case 1:
	case 3:
		mes "- 浇水 -";
		mes "- 这"+.@str$+"皮肤 -";
		mes "- 并且用力地刷它。 -";
		specialeffect EF_BUBBLE;
		if (rand(1,3) > 1)
			close;
		next;
		mes "- 这"+.@str$+"皮肤变了――";
		mes "- 柔软滋润。 -";
		switch(rand(1,50)) {
		case 7:
			next;
			mes "[星星糖果]";
			mes "呼呼呼~";
			mes "那很痒。";
			break;
		case 21:
			next;
			mes "[星星糖果]";
			mes "你真是一个好人。";
			break;
		case 29:
			next;
			mes "[星星糖果]";
			mes "既然不能动，那最难的就是站立。";
			break;
		case 30:
			next;
			mes "[星星糖果]";
			mes "啊~感觉不错~";
			mes "我感觉痒了好久。";
			break;
		case 49:
			next;
			mes "[星星糖果]";
			mes "非常感谢。";
			break;
		default:
			set ma_tomas, ma_tomas+1;
			if (.@index == 32)
				changequest 11234,11235;
			close;
		}
		cutin "ma_starcandy",2;
		set ma_tomas, ma_tomas+1;
		if (.@index == 32)
			changequest 11234,11235;
		close2;
		cutin "",255;
		end;
	case 2:
		mes "- 所有的水 -";
		mes "- 沉入地下。 -";
		close;
	}
}
mal_dun01,143,137,0	duplicate(#skin_mal)	Dry Skin#29	111
mal_dun01,131,150,0	duplicate(#skin_mal)	Prickly Skin#30	111
mal_dun01,116,144,0	duplicate(#skin_mal)	Chapped Skin#31	111
mal_dun01,120,129,0	duplicate(#skin_mal)	Hard Skin#32	111

malangdo,190,167,7	script	Portali#mal	546,{
	if (ma_tomas < 100) {
		mes "[传送门]";
		mes "我与一个不成熟的家伙没有任何关系！";
		close;
	}
	mes "[传送门]";
	mes "嗯...";
	mes "即使你是人，你身上也有猫的味道……";
	next;
	mes "[传送门]";
	mes "但是……你想回我的家乡吗？";
	mes "我会让你用我发现的新技能前往米德加尔特之地！";
	mes "它不是免费的。我需要罐头食品！";
	next;
	switch(select("去：不去：价格？")) {
	case 1:
		if (countitem(12636) < 4) {
			mes "[传送门]";
			mes "没有罐头你要去哪里......？";
			close;
		}
		switch(select("符文-米德加特:黑森林共和国:阿鲁纳费尔兹王国")) {
		case 1:
			switch(select("演员")) {
				case 1: callsub L_Warp,"Prontera",4,"prontera",155,111;
				case 2: callsub L_Warp,"Morocc",4,"morocc",159,255;
				case 3: callsub L_Warp,"Alberta",4,"alberta",95,66;
				case 4: callsub L_Warp,"Al De Baran",4,"aldebaran",126,120;
				case 5: callsub L_Warp,"Payon",4,"payon",198,135;
				case 6: callsub L_Warp,"Geffen",4,"geffen",120,100;
			}
		case 2:
			switch(select("艾因布罗赫:莱特哈尔岑:朱诺:休格尔")) {
				case 1: callsub L_Warp,"Einbroch",6,"einbroch",229,196;
				case 2: callsub L_Warp,"Lighthalzen",6,"lighthalzen",214,150;
				case 3: callsub L_Warp,"Juno",6,"yuno",157,220;
				case 4: callsub L_Warp,"Hugel",6,"hugel",95,121;
			}
		case 3:
			switch(select("雷切尔：静脉")) {
				case 1: callsub L_Warp,"Rachel",5,"rachel",138,113;
				case 2: callsub L_Warp,"Veins",5,"veins",212,144;
			}
		}
	case 2:
		mes "[传送门]";
		mes "好的...";
		close;
	case 3:
		mes "[传送门]";
		mes "3 符文米德加特！";
		mes "黑森林 6 分，阿鲁纳费尔茨 5 分。";
		mes "黑森林是禁止魔法的国家，而阿鲁纳费尔兹似乎中了诅咒！";
		close;
	}
	end;
L_Warp:
	if (countitem(12636) < getarg(1)) {
		mes "[传送门]";
		mes "没有罐头你要去哪里......？";
		close;
	}
	mes "[传送门]";
	mes "然后到"+getarg(0)+"～";
	delitem 12636,getarg(1); //Malang_Sp_Can
	close2;
	warp getarg(2),getarg(3),getarg(4);
	end;
}

// Malangdo Island :: mal_ppl
//============================================================
malangdo,137,200,6	script	Pipielle	549,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (BaseLevel < 60) {
		mes "[皮皮埃尔]";
		mes "哇，这天气真好。你也喜欢这样的天气吗？但我现在需要做我的工作。";
		next;
		mes "[皮皮埃尔]";
		mes "如果你是一个更强大的冒险家，我会请求你的帮助......";
		next;
		mes "^770099这只猫正在做某事，但她请求 60 级以上的帮助。^000000";
		close;
	}
	set .@fish_ss1$, "What are you doing?";
	if (countitem(6451) > 29)
		set .@fish_ss2$, "I caught a lot of strange fishes!";
	else
		set .@fish_ss2$, (30-countitem(6451))+" of ^bbbbbbUnidentified Fish are required.^000000";
	if (ma_tomas == 100)
		set .@fish_ss3$, "I met an Admiral Tomas...";
	mes "[皮皮埃尔]";
	mes "你能过来帮我打开你的包吗？";
	next;
	switch(select(.@fish_ss1$,.@fish_ss2$,.@fish_ss3$)) {
	case 1:
		mes "[皮皮埃尔]";
		mes "这附近有很多美丽的鱼。所以我站在这里感觉我的心在跳动。";
		next;
		select("我觉得我的心跳得更快了……");
		mes "[皮皮埃尔]";
		mes "你怎么只知道吃啊！我的心不仅仅因为食物而跳动。";
		next;
		mes "[皮皮埃尔]";
		mes "我以前在人类大学学习过，在那里学会了说话，所以不要把我当作动物。";
		next;
		mes "[皮皮埃尔]";
		mes "我是一名鱼类研究学者。";
		mes "研究鱼类对猫来说很重要。";
		next;
		select("你的研究进行得怎么样了？");
		mes "[皮皮埃尔]";
		mes "我是托马斯海军上将的好朋友，但自从我们到达这里以来，我们的船就没有再出海过。";
		next;
		mes "[皮皮埃尔]";
		mes "船员们似乎都很孤独。";
		next;
		mes "[皮皮埃尔]";
		mes "一位大学学者来到这里对我们进行研究，他认为发现一只已经会说他的语言的猫真是太神奇了。";
		mes "所以他一直在帮助我教导其他人。";
		next;
		select("这就是我理解所有猫的原因吗？");
		mes "[皮皮埃尔]";
		mes "是的，完全正确！";
		mes "在那位学者到来之前，我是少数能与人类交谈的猫之一。";
		next;
		mes "[皮皮埃尔]";
		mes "不管怎样，我现在正在收集标本来研究这里的怪物。我希望你能帮助我。";
		next;
		if(select("我能帮你什么？：我必须拒绝。") == 2) {
			mes "[皮皮埃尔]";
			mes "哦好的。如果你改变主意，请再来。";
			close;
		}
		mes "[皮皮埃尔]";
		mes "有一种叫做“倾倒者”的怪物，它正在吃掉章鱼和涵洞地牢中的所有鱼。";
		next;
		mes "[皮皮埃尔]";
		mes "冬天突然出现，处理掉之后还能收集到不明鱼的标本吗？";
		next;
		mes "[皮皮埃尔]";
		mes "您可以从倾倒怪物那里获得不明鱼，因此请收集 30 条。";
		close;
	case 2:
		if (countitem(6451) > 29) {
			//saveppl Unknown_Fish
			delitem 6451,30; //Unknown_Fish
			mes "[皮皮埃尔]";
			mes "哦，谢谢你！我将采集这些样本。";
			next;
			mes "[皮皮埃尔]";
			mes "我想送你一些东西，但最后一件现在缺货了，所以我就在这里写下你的名字。";
			next;
			mes "[皮皮埃尔]";
			mes "即使在很远的地方我也可以给你带来好消息，但这只有在我真的很幸运的情况下才有可能......";
			close;
		}
		mes "[皮皮埃尔]";
		mes "抱歉，请收集 30 条不明鱼类标本。";
		close;
	case 3:
		mes "[皮皮埃尔]";
		mes "哦，你遇到了托马斯海军上将……怎么样？";
		next;
		if(select("他看起来很温柔：他看起来很糟糕") == 2) {
			mes "[皮皮埃尔]";
			mes "唔...";
			mes "坦白说，我是托马斯海军上将的忠实粉丝。你能对自己的话负责吗？";
			next;
			if(select("开个玩笑！：哦，是的，他真的很糟糕！") == 2) {
				mes "[皮皮埃尔]";
				mes "他是吗？";
				mes "好吧，这确实取决于个人口味...";
				close;
			}
		}
		mes "[皮皮埃尔]";
		mes "他是吗？";
		mes "我就知道你会这么说。";
		next;
		mes "[皮皮埃尔]";
		mes "托马斯海军上将是一位传奇人物，他带领我们所有人航行到了这个岛屿。我想那是我一生中最幸福的时刻。";
		next;
		mes "[皮皮埃尔]";
		mes "请多多帮助他。可以信任的人并不多。这是我个人的要求。";
		next;
		mes "[皮皮埃尔]";
		mes "这是照顾托马斯海军上将的一份小礼物。";
		set ma_tomas,101;
		getitem 6422,200; //Egrade_Coin
		mes "^0000ff收到200枚E级硬币。^000000";
		close;
	}
}

// Help the Bad Cats in Danger :: mal_bad_guys
//============================================================
malangdo,175,206,3	script	Gobonge#ml	561,{
	if (checkweight(1201,1) == 0) {
		mes "- 由于物品太多而无法进行下一步。 -";
		close;
	}
	if (checkquest(1152,PLAYTIME) == 0) {
		mes "[戈邦格]";
		mes "嗯，调查还不够。";
		mes "我们需要回到基本点。";
		mes "明天再来吧。";
		mes "我可能胃痛";
		mes "像往常一样。";
		close;
	} else if (checkquest(1152,PLAYTIME) == 1) {
		erasequest 1152;
		set malang_bad_guys,0;
	} else if (checkquest(1152,PLAYTIME) == 2) {
		completequest 1152;
		erasequest 1152;
		set malang_bad_guys,0;
	}
	if (BaseLevel < 60) {
		mes "[戈邦格]";
		mes "你是来帮忙的吗";
		mes "或寻求帮助？";
		mes "你看起来好弱啊，哈哈";
		mes "去狩猎更多的波利人吧！";
		close;
	}
	if (malang_bad_guys == 0) {
		mes "[戈邦格]";
		mes "你愿意倾听我的悲伤吗？";
		next;
		switch(select("我当然会。:不，我不会。")) {
		case 1:
			mes "[戈邦格]";
			mes "这是一个悲伤的故事。";
			mes "像往常一样，我打开了袋子";
			mes "看到奇怪的猫";
			mes "向他们展示。";
			next;
			mes "[戈邦格]";
			mes "有很多罐头。";
			mes "由于形状不同，我认为它是新的";
			mes "但这是坏罐头！";
			mes "我吃太多了并且";
			mes "马上就上床睡觉了";
			mes "所以我什么也做不了...";
			next;
			mes "[戈邦格]";
			mes "顺便说一句，你有...";
			mes "漂亮的衣服。";
			mes "我不能让你走";
			mes "这让我很伤心！";
			emotion ET_CRY;
			next;
			switch(select("你活该受苦！：需要帮助吗？")) {
			case 1:
				mes "[戈邦格]";
				mes "是的，你是！";
				close;
			case 2:
				mes "[戈邦格]";
				mes "你知道什么是关怀。";
				mes "请寻找不良供应商";
				mes "并向我们的敌人报仇！";
				next;
				switch(select("不，我不想！：是的，我会做！")) {
				case 1:
					mes "[" + strcharinfo(0) + "]";
					mes "为了马兰多的和平，";
					mes "就永远躺在床上。";
					next;
					mes "[戈邦格]";
					mes "我会！";
					mes "等我好了，我先让你平安！";
					close;
				case 2:
					mes "[戈邦格]";
					mes "好吧，你能做到吗？";
					mes "敌人一定在码头附近";
					mes "我们从哪里得到捆绑包的。";
					mes "我们应该让他们帮忙";
					mes "我们的猫的幸福！";
					setquest 1145;
					set malang_bad_guys,1;
					close;
				}
			}
		case 2:
			mes "[戈邦格]";
			mes "你为什么在这里！";
			mes "如果我是平常的话，我会刻一些东西";
			mes "用你的泪水...";
			mes "让你的包在这里吧！";
			emotion ET_CRY;
			close;
		}
	} else if (malang_bad_guys == 1) {
		mes "[戈邦格]";
		mes "敌人一定在码头附近";
		mes "我们从哪里得到捆绑包的。";
		mes "我们应该让他们帮忙";
		mes "我们的猫的幸福！";
		close;
	} else if (malang_bad_guys > 1 && malang_bad_guys < 7) {
		mes "[戈邦格]";
		mes "我很累，因为";
		mes "缺乏禁止的不良活动。";
		close;
	} else if (malang_bad_guys == 7) {
		if (countitem(6426) > 29) {
			mes "[戈邦格]";
			mes "是浣熊让我们胃痛吗？";
			mes "噢，坏浣熊！";
			mes "气得我又胃疼了！";
			mes "好吧，我就展现一下我的力量吧";
			mes "我可以起床了。";
			next;
			mes "[戈邦格]";
			mes "我需要时间集中精力治疗我的胃痛。";
			mes "你现在可以走了！";
			erasequest 1151;
			set malang_bad_guys,8;
			getitem 12636,20; //Malang_Sp_Can
			delitem 6427,1; //Bad_Can_Sack
			delitem 6426,30; //Bad_Can
			close;
		}
		mes "[戈邦格]";
		mes "如何知道坏罐头的来源？";
		mes "你现在有时间慢下来吗？";
		emotion ET_CRY;
		close;
	} else if (malang_bad_guys == 8) {
		mes "[戈邦格]";
		mes "巡逻队长想回去";
		mes "尽快糟糕的世界。";
		mes "我希望你先去安抚他。";
		mes "怎么样？";
		next;
		switch(select("真麻烦，我辞职了：当然会！")) {
		case 1:
			mes "[戈邦格]";
			mes "哈哈，你觉得这个词不好。";
			mes "我希望你成为我们的员工之一。";
			next;
			mes "[戈邦格]";
			mes "抱歉，但你现在该走了";
			mes "这样我就可以集中精力治疗胃痛。";
			setquest 1152;
			set malang_bad_guys,9;
			close;
		case 2:
			mes "[戈邦格]";
			mes "好的，那我有时间";
			mes "集中精力治疗我的胃痛。";
			setquest 1153;
			set malang_bad_guys,10;
			close;
		}
	} else if (malang_bad_guys == 9) {
		mes "[戈邦格]";
		mes "嗯，调查还不够。";
		mes "我们需要回到基本点。";
		mes "明天再来吧。";
		mes "我可能胃痛";
		mes "像往常一样。";
		close;
	} else if (malang_bad_guys > 9 && malang_bad_guys < 12) {
		mes "[戈邦格]";
		mes "快去和巡逻队长一起玩耍吧！";
		close;
	} else if (malang_bad_guys == 12) {
		mes "[戈邦格]";
		mes "你代替我们做了坏事。";
		mes "很高兴听到这个消息？";
		mes "这就是老师眼中最好的学生吗？";
		emotion ET_SWEAT;
		next;
		mes "[戈邦格]";
		mes "你应该得到奖励！";
		mes "我需要多休息一下";
		mes "那么明天我们就来调查一下吧！";
		erasequest 1155;
		setquest 1152;
		set malang_bad_guys,13;
		getitem 6422,5; //Egrade_Coin
		close;
	} else if (malang_bad_guys == 13) {
		mes "[戈邦格]";
		mes "明天再来吧。";
		mes "我可能胃痛";
		mes "像往常一样。";
		close;
	}
OnEnable:
	enablenpc "Gobonge#ml";
	close;
OnDisable:
	disablenpc "Gobonge#ml";
	close;
}

malangdo,181,205,3	script	Gobulee#ml1	547,{
	mes "[戈布利]";
	mes "多么好的时机出现啊！";
	mes "当我们健康的时候你应该过来。";
	close;
}

malangdo,180,202,3	script	Gobyungee#ml1	547,{
	mes "[戈宾吉]";
	mes "我什至无法直视另一只猫的眼睛，因为我病得太严重，无法正常犯罪。";
	close;
}

malangdo,186,201,3	script	Gosigee#ml1	547,{
	mes "[Gosigee]";
	mes "我希望我有一些提神铋丸......";
	mes "与此同时，队长只想着抓住坏人并报仇！";
	mes "...";
	next;
	mes "[Gosigee]";
	mes "如此专一的人，我们怎能追随！";
	close;
}

malangdo,177,202,3	script	Gonanee#ml2	547,{
	mes "[戈纳尼]";
	mes "我们是马兰多唯一的暴力团伙，我们感到非常自豪。";
	mes "我只是躺在床上感觉不太舒服。";
	close;
}

malangdo,183,202,3	script	Godoree#ml3	547,{
	mes "[戈多瑞]";
	mes "我看到周围有陌生的猫";
	mes "最近码头。";
	mes "他们是游客吗？";
	mes "我应该 - 检查 - 他们的口袋";
	mes "一旦我好起来...";
	close;
}

malangdo,203,116,5	script	Suspious Dealer#ml	543,{
	mes "他似乎在专心地听。";
	mes "当听到你走近时，他假装完全没有注意到。";
	next;
	mes "[可疑经销商]";
	mes "哦，痛苦，哦，这一切的痛苦......";
	close;
}

malangdo,205,116,3	script	Very Suspious Dealer#ml1	543,{
	mes "听故事的时候";
	mes "有一段时间，他听到有人吵闹，就装作无所谓的样子。";
	next;
	mes "[可疑经销商]";
	mes "今天的雾霾会不会更严重？";
	close;
}

malangdo,197,120,5	script	A Foolish Cat#ml	546,{
	mes "[一只愚蠢的猫]";
	mes "如果你留在这里，你";
	mes "可以听到他们所说的一切。";
	mes "不知道具体是什么，但是";
	mes "你确实听到了一切。";
	mes "呵呵...";
	close;
}

malangdo,196,120,0	script	#ml1	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 1 || malang_bad_guys == 2) {
		mes "你听到可疑经销商之间的对话。";
		next;
		mes "[可疑经销商]";
		mes "因为就在这时，发生了意想不到的抢劫……";
		mes "我们伟大的工作被推迟了。";
		next;
		mes "[非常可疑的经销商]";
		mes "别担心这个东西，我把它放在靠近气球袋的地方";
		mes "Ship Navi在北边，我把它隐藏得很好。";
		next;
		mes "您需要在 Navi 船中检查气球袋北面附近的地方。";
		if (malang_bad_guys == 1) {
			erasequest 1145;
			setquest 1146;
			set malang_bad_guys,2;
		}
		close;
	} else if (malang_bad_guys > 2 && malang_bad_guys < 8) {
		mes "你仍然听到可疑的对话。";
		next;
		mes "[可疑经销商]";
		mes "但附近的气球袋还在";
		mes "太担心了！";
		next;
		mes "[非常可疑的经销商]";
		mes "噢，你是多么胆怯啊！";
		mes "我把它完美地藏在了 Navi 飞船里。";
		mes "放松！";
		next;
		mes "[可疑经销商]";
		mes "其余部分由员工负责。";
		mes "我们应该相信。";
		next;
		mes "我们需要先调查一下Navi。";
		mes "让我们看看 Navi 船上的其他人。";
		if (malang_bad_guys == 3) {
			erasequest 1147;
			setquest 1148;
			set malang_bad_guys,4;
		}
		close;
	} else if (malang_bad_guys > 7) {
		mes "你仍然听到可疑的谈话。";
		next;
		mes "[可疑经销商]";
		mes "星星糖依然健康，";
		mes "会发生什么？";
		next;
		mes "[非常可疑的经销商]";
		mes "决不...";
		mes "我们应该得到更多的坏罐头。";
		close;
	}
	end;
}

malangdo,155,179,0	script	#ml2	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 2 || malang_bad_guys == 3) {
		mes "有一份备忘录。";
		next;
		mes "[备忘录]";
		mes "这不是我们想要的，呵呵！";
		next;
		mes "...一定要听商人的谈话。";
		if (malang_bad_guys == 2) {
			erasequest 1146;
			setquest 1147;
			set malang_bad_guys,3;
		}
		close;
	}
	end;
}

malangdo,171,163,3	script	Awfully Suspious Dealer	543,{
	if (malang_bad_guys < 4) {
		mes "[非常可疑的经销商]";
		mes "我们不再卖它们，另找商人！";
		close;
	} else if (malang_bad_guys == 4) {
		mes "[非常可疑的经销商]";
		mes "坏罐头？";
		mes "由于这里的工作量很大";
		mes "不能有短时间说话吗？";
		next;
		switch(select("看起来很可疑？：我知道这里的一切！")) {
		case 1:
			mes "[非常可疑的经销商]";
			mes "我和你同一条船！";
			close;
		case 2:
			mes "[非常可疑的经销商]";
			mes "...";
			mes "你搜过 Navi 号的休息室吗？";
			mes "...";
			next;
			mes "[非常可疑的经销商]";
			mes "好像发错地方了~";
			mes "去干别的事吧~！";
			next;
			mes "您需要搜索 Navi 船的休息室吗？";
			erasequest 1148;
			setquest 1149;
			set malang_bad_guys,5;
			close;
		}
	} else if (malang_bad_guys == 5) {
		mes "[非常可疑的经销商]";
		mes "一个在 Navi 船周围搜索 Gozangee 的想法";
		mes "就是喜欢骑一技能";
		mes "用煎锅，那是白痴的事情。";
		mes "我不推荐。";
		close;
	} else if (malang_bad_guys == 6) {
		if (countitem(6427) == 0) {
			mes "[非常可疑的经销商]";
			mes "你搜过 Navi 号的休息室吗？";
			mes "但手里还是什么都没有。";
			mes "我告诉过你什么都没有。";
			mes "...";
			next;
			mes "[非常可疑的经销商]";
			mes "……一定有什么……";
			close;
		}
		mes "[非常可疑的经销商]";
		mes "哦！那是^0000FF一袋坏罐子^000000，不是吗？";
		mes "你从哪里得到的？惊人的！";
		next;
		switch(select("不要假装不知道！：需要向他们展示我们的将军！")) {
		case 1:
			mes "[非常可疑的经销商]";
			mes "它看起来棒极了。";
			mes "没有什么可拥有的了吗？";
			emotion ET_DELIGHT;
			close;
		case 2:
			mes "[非常可疑的经销商]";
			mes "放松！";
			mes "让我们一起享受只有我们自己的微笑和乐趣吧。";
			next;
			mes "[非常可疑的经销商]";
			mes "说实话，我是浣熊欢呼队的一员。";
			mes "无家可归的浣熊社区";
			mes "成为黑市集团。";
			mes "我要把浣熊欢呼队的总部设在这里";
			mes "赶走一群猫后。";
			next;
			switch(select("你是领导吗？：让我清除一下坏罐子的用法。：可以按照你的要求工作吗？")) {
			case 1:
				mes "[非常可疑的经销商]";
				mes "这是庆幸的误会，";
				mes "我只是一个小职员。";
				mes "我不知道领导是谁。";
				close;
			case 2:
				mes "[非常可疑的经销商]";
				mes "那是...";
				mes "为了食物...";
				mes "请不要再问我了！";
				close;
			case 3:
				mes "[非常可疑的经销商]";
				mes "你瞧不起浣熊万岁队吗？";
				mes "多看看！献给我站在岛上的星星糖果";
				mes "我会让他们肚子疼";
				mes "有很多坏罐头。";
				mes "你不期待吗？";
				next;
				mes "[非常可疑的经销商]";
				mes "我不能用手让他吃饭";
				mes "到闪亮珊瑚区的生物，这是星星糖的基本食物";
				mes "我还在给他们喂坏罐头。";
				mes "你一定会看到惊人的反应，等着吧！";
				next;
				mes "情况很严重。";
				mes "一旦猫们明白了，";
				mes "你可能会感到困惑。";
				mes "我们先把坏罐子撤了，";
				mes "位于闪亮的珊瑚区。";
				erasequest 1150;
				setquest 1151;
				set malang_bad_guys,7;
				close;
			}
		}
	} else if (malang_bad_guys == 7) {
		mes "[非常可疑的经销商]";
		mes "请忘记我告诉过你的话。";
		mes "请...";
		mes "当你收到 30 个坏罐头之后";
		mes "在闪亮的珊瑚区";
		mes "不要告诉猫";
		mes "或报告这个事实！";
		close;
	}
	mes "[非常可疑的经销商]";
	mes "所以你把所有事情都报告了？";
	mes "...";
	mes "现在是时候开始新的生活了";
	mes "发簇组...";
	close;
}

mal_in02,184,72,3	script	Gozangee#ml	547,{
	mes "[戈桑吉]";
	mes "我的胃太痛了...";
	mes "应该忍耐自己！";
	mes "...做坏事...";
	close;
}

mal_in02,184,77,0	script	#ml3	-1,2,2,{
OnTouch:
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多了。 -";
		close;
	}
	if (malang_bad_guys == 4) {
		mes "我来到...";
		mes "知道不该知道的事";
		mes "出现在任何人面前。";
		mes "就当我没看到这个吧。";
		close;
	} else if (malang_bad_guys == 5) {
		mes "这是...！";
		mes "...";
		next;
		mes "一个装着坏罐子的袋子。";
		next;
		mes "让我们把这个带给一个人";
		mes "位于甲板上非常可疑的经销商中。";
		erasequest 1149;
		setquest 1150;
		set malang_bad_guys,6;
		getitem 6427,1; //Bad_Can_Sack
		close;
	} else if (malang_bad_guys == 6) {
		mes "我看到一袋坏罐头。";
		mes "位于甲板上。";
		mes "让我们把这个带给一个人";
		mes "位于甲板上非常可疑的经销商中。";
		close;
	}
	end;
}

malangdo,125,147,3	script	Patrol Leader#ml	545,{
	if (checkweight(1201,1) == 0) {
		mes "- 由于物品太多而无法进行下一步。 -";
		close;
	}
	if (malang_bad_guys < 10) {
		mes "[巡逻队长]";
		mes "小心分配";
		mes "最近这里有坏罐头";
		mes "所以应该注意。";
		close;
	} else if (malang_bad_guys == 10) {
		mes "[巡逻队长]";
		mes "所以你会做坏事而不是";
		mes "床上躺着一簇头发？";
		mes "这将会是令人兴奋的！";
		mes "太兴奋了...";
		next;
		mes "[巡逻队长]";
		mes "戈邦格和他的朋友们";
		mes "喜欢在光辉中折磨^0000FF红埃鲁玛^000000";
		mes "珊瑚面积比什么都重要。";
		next;
		mes "[巡逻队长]";
		mes "折磨20个^0000FF红Eruma^000000后向我报告";
		mes "一阵子。";
		mes "我就骂你这个巡警队长！";
		next;
		switch(select("哪个巡逻队长会这样做？：加油！！")) {
		case 1:
			mes "[巡逻队长]";
			mes "这就是我做这件事的味道！";
			close;
		case 2:
			mes "[巡逻队长]";
			mes "我会预料到各种不良活动。";
			erasequest 1153;
			setquest 1154;
			set malang_bad_guys,11;
			close;
		}
	} else if (malang_bad_guys == 11) {
		if (checkquest(1154,HUNTING) == 2) {
			mes "[巡逻队长]";
			mes "哇，你对^0000FF红Eruma^000000做得太糟糕了！";
			mes "你的工作给我留下了深刻的印象。";
			next;
			mes "[预防犯罪人员]";
			mes "队长，我们又有工作了，对吧？";
			emotion ET_CRY;
			emotion ET_CRY, getnpcid(0, "Crime Prevention Staff#ml");
			next;
			mes "[巡逻队长]";
			mes "隐藏你的眼泪，保存你的眼泪！";
			mes "当发现不良活动的线索时，你应该哭";
			mes "在犯罪现场！";
			emotion ET_CRY;
			emotion ET_CRY, getnpcid(0, "Crime Prevention Staff#ml");
			next;
			mes "[巡逻队长]";
			mes "调查完了我就骂你！";
			mes "现在就来参观戈邦格吧。";
			erasequest 1154;
			setquest 1155;
			set malang_bad_guys,12;
			close;
		}
		mes "[巡逻队长]";
		mes "星空珊瑚区内部，";
		mes "折磨20个^0000FF红Eruma^000000后向我报告";
		mes "一阵子。";
		mes "我就骂你这个巡警队长！";
		close;
	}
	mes "[巡逻队长]";
	mes "调查完我就骂你";
	mes "结束了！";
	mes "现在就来参观戈邦格吧。";
	close;
}

malangdo,129,146,3	script	Crime Prevention Staff#ml	545,{
	if (malang_bad_guys > 11) {
		mes "[预防犯罪人员]";
		mes "有工作去做就意味着快乐的事情！";
		mes "我叫你去做各种不好的事情！";
		close;
	}
	mes "[预防犯罪人员]";
	mes "一群猫，";
	mes "吃了坏罐头";
	mes "胃痛。";
	mes "他们躺在北方";
	mes "的地方，但仍然愤怒地滚滚。";
	next;
	mes "[预防犯罪人员]";
	mes "哈哈……村子变了";
	mes "平和、平静，但感觉";
	mes "有点空虚。这不是";
	mes "我们可以拥有的常见场景。";
	mes "我们去那里看看？";
	close;
}

malangdo,3,1,3	script	Guidance for quest#ml	543,{
	if (callfunc("F_GM_NPC",1854,0) < 1) {
		mes "[助手]";
		mes "这个安全码是什么？";
		mes "离开！";
		close;
	}
	mes "[助手]";
	mes "现在选择，赶快行动吧！";
	next;
	switch(select("NPC出现！：NPC罢工！：重置设置项：30个坏罐头：就在收集罐头之前：开始寻找巡逻队长")) {
	case 1:
		donpcevent "Gobonge#ml::OnEnable";
		mes "[助手]";
		mes "首次亮相！";
		close;
	case 2:
		donpcevent "Gobonge#ml::OnDisable";
		mes "[助手]";
		mes "退席！";
		close;
	case 3:
		mes "[助手]";
		mes "是啊！";
		set malang_bad_guys,0;
		erasequest 1152;
		close;
	case 4:
		mes "[助手]";
		mes "欠？";
		getitem 6426,30; //Bad_Can
		close;
	case 5:
		mes "[助手]";
		mes "是啊！";
		erasequest 1150;
		setquest 1151;
		set malang_bad_guys,7;
		close;
	case 6:
		mes "[助手]";
		mes "是啊！";
		set malang_bad_guys,10;
		close;
	}
}

// Clean the Ship :: mal_day_qook
//============================================================
mal_in02,76,63,7	script	Cleanyang	544,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (BaseLevel < 60) {
		mes "水手猫伤心地哭泣。";
		next;
		mes "[清洁阳]";
		mes "喵新喵";
		mes "什么…喵…有什么…去…嘿嘿~";
		mes "你不必知道。喵呜呜呜...";
		next;
		mes "他没有继续说话。";
		mes "他可能会摇头说这样的话。";
		mes "'你还年轻。所以你不明白我的痛苦和悲伤……”";
		next;
		mes "不知道要好得多。";
		close;
	}
	if (mal_qook == 0) {
		mes "水手猫伤心地哭泣。";
		emotion ET_CRY;
		next;
		mes "[清洁阳]";
		mes "喵喵喵～";
		mes "这是怎么回事……呃……呃……";
		mes "你不必知道。呵呵……呵呵……";
		emotion ET_CRY;
		next;
		mes "无法继续交谈。";
		next;
		switch(select("给他加油：忽略。")) {
		case 1:
			mes "我站在他身边安慰他受伤的心。";
			next;
			emotion ET_CRY;
			mes "[清洁阳]";
			mes "这不公平啊……呵呵……";
			mes "厨师……他总是骂我。";
			next;
			mes "[清洁阳]";
			mes "我总是很认真地打扫卫生。";
			mes "我不知道他们来自哪里……嘿嘿……";
			mes "它们渗透到成分中......";
			next;
			select("他们？");
			mes "[清洁阳]";
			mes "是的，它们速度快、体积小、坚硬且黑色闪亮。";
			mes "喵……还有，白白的，蠕动的……";
			mes "我的厨师很干净。";
			next;
			mes "[清洁阳]";
			mes "没关系。清洁、害虫和";
			mes "不管怎样……不公平的是";
			mes "原来我还真的杀了害虫呢喵。";
			mes "另外，我也很勤奋地打扫卫生。";
			next;
			mes "[清洁阳]";
			mes "顺便说一句，他们一次又一次地过来。";
			mes "我不知道他们来自哪里。";
			next;
			switch(select("别再问了：问害虫来处。")) {
			case 1:
				emotion ET_CRY;
				mes "[清洁阳]";
				mes "……你的脸怎么了？";
				mes "您害怕派出差事吗？";
				mes "你在想我什么…喵喵…？";
				mes "这不公平……喵喵……";
				next;
				mes "可怜的水手猫 Cleanyang 开始哭泣。";
				mes "别管他了。";
				close;
			case 2:
				mes "[清洁阳]";
				mes "有人会去那里检查吗？";
				mes "请您搜索一下Navi 船的各处吗？";
				mes "我不能这样生活！喵喵！";
				next;
				mes "[清洁阳]";
				mes "肯定有什么我不知道的事情。喵。";
				mes "喵……我会把这里打扫干净的。请找一些东西代替我。";
				set mal_qook,1;
				setquest 7260;
				close;
			}
		case 2:
			mes "你离开哭泣的猫并向后退。";
			close;
		}
	} else if (mal_qook == 1) {
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
			emotion ET_HUK;
			mes "[清洁阳]";
			mes "呃。那是什么？喵。";
			mes "这是猫的船饼干……可能会放很久……";
			mes "决不...！";
			next;
			select("是的，就是这样。");
			emotion ET_SCRATCH;
			mes "[清洁阳]";
			mes "由于水手们隐藏并留下了猫的船上饼干，那里到处都是昆虫。";
			mes "我被骂的原因只是磨牙机？";
			mes "喵！";
			next;
			select("Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.");
			mes "[清洁阳]";
			mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
			mes "这是硬面包，航行时容易保存，喵。";
			mes "太硬了，只要咬这个，说不定你的犬齿就会断掉，喵。";
			next;
			mes "[清洁阳]";
			mes "它只用盐和面粉烘烤，可以保存很长时间，这就是为什么它没有任何味道。";
			mes "更重要的是......看看这个。";
			next;
			mes "Cleanyang用锤子和凿子打破了猫的船饼干";
			mes "并撞到地板上。然后...";
			next;
			mes "[清洁阳]";
			mes "......你能看到有东西从这里出来吗？";
			mes "这是象鼻虫......";
			mes "这就是一座昆虫的城堡。";
			next;
			mes "[清洁阳]";
			mes "也许有人真的不想吃这个。";
			mes "这些昆虫是我们在岛上定居并更改菜单之前留下的。";
			next;
			mes "[清洁阳]";
			mes "定居这个岛上后，由于食材新鲜，我们没有做猫船饼干。";
			mes "........";
			next;
			mes "[清洁阳]";
			mes "请把这个给厨师看，并告诉他 Cleanyang 真的清理得很好。";
			mes "呃……我还是怕厨师……";
			mes "...请！喵！";
			set mal_qook,2;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7260;
			setquest 7264;
			next;
			mes "[清洁阳]";
			mes "啊，那只猫的船饼干还可以，你就试试吃吧。";
			mes "Do you wonder what is that?这是一顿很棒的食物，尽管看起来不太好......";
			close;
		}
		mes "[清洁阳]";
		mes "请搜索船舶Navi并找到出发地。";
		mes "我只相信你。";
		close;
	} else if (mal_qook == 2) {
		mes "[清洁阳]";
		mes "如果你把猫的船饼干给厨师看，那些昆虫就来自那里，";
		mes "我的误会将会得到解决。";
		next;
		select("你为什么不自己去呢？");
		mes "[清洁阳]";
		mes "嗯……我还得清理……";
		mes "我还是害怕我的厨师，所以拜托。";
		close;
	} else if (mal_qook == 3) {
		mes "[清洁阳]";
		mes "厨师生气了。";
		mes "只能求饶了！";
		close;
	} else if (mal_qook == 4) {
		mes "[清洁阳]";
		mes "你说厨师对猫的船饼干更不高兴吗？";
		mes "从此以后，我再也不用哭了？";
		next;
		mes "[清洁阳]";
		mes "如果厨师需要什么，就给他拿吧~";
		mes "这样对彼此都好吗？";
		next;
		mes "[清洁阳]";
		mes "当厨师满意、高兴的时候，就来吧。";
		mes "因为我很紧张，到那时我可能无法清理干净。喵……";
		close;
	} else if (mal_qook == 5) {
		mes "[清洁阳]";
		mes "你完成了厨师想要的工作吗？";
		mes "对了，为什么突然要做猫的船饼干呢？";
		next;
		select("为您准备的新菜单。");
		mes "[清洁阳]";
		mes "呜呜――!!";
		mes "基姆哦！！";
		mes "喵呼呼……呜呜呜！";
		next;
		mes "[清洁阳]";
		mes "不！！！！！！！！！！";
		mes "没有猫的船饼干就是天堂。我不想再去地狱了！！！！";
		mes "呜呜呜呜呜呜呜呜呜~";
		next;
		switch(select("下巴下面发痒。：敲鼻尖。：敲屁股。")) {
		case 1:
			mes "[清洁阳]";
			mes "喵……酷酷酷……";
			mes "嘉陵...";
			mes "哇哇啊……果尔戈里……";
			next;
			break;
		case 2:
			mes "[清洁阳]";
			mes "恩嘉-！";
			mes "呃 Isyanyananyanayanyan！";
			mes "你到底在做什么！";
			next;
			break;
		case 3:
			mes "[清洁阳]";
			mes "Heu keeyangyang";
			mes "Heunyang... Euhnyang-!";
			mes "你在干什么！";
			next;
			break;
		}
		mes "[清洁阳]";
		mes "请停下来...";
		mes "现在，冷静点。";
		mes "我明白厨师的这句话和宏伟的计划。";
		next;
		mes "[清洁阳]";
		mes "嘿，帮助我的人类，你，你！";
		mes "你能帮我一个忙吗？";
		mes "如果菜单改变并提供猫的船饼干，它们肯定会出现......";
		next;
		select("什么？");
		mes "[清洁阳]";
		mes "猫猫啊！";
		mes "偷偷藏着猫的船饼干的猫。";
		mes "没有人说不想吃并扔掉，因为他们是吓人的厨师。";
		next;
		mes "[清洁阳]";
		mes "果然，他们开始藏起猫的船饼干……";
		mes "而且还会被虫子侵扰！";
		mes "厨师又要骂了！";
		next;
		mes "[清洁阳]";
		mes "所以明天我们会提供猫船饼干，让我每天都能见到你。";
		mes "你做得很好。这是一份感谢信。";
		set mal_qook,6;
		getitem 12636,30; //Malang_Sp_Can
		getexp 80000,80000;
		setquest 7267;
		close;
	}
	switch(rand(3)) {
	case 0:
		mes "[清洁阳]";
		mes "噢噢噢噢...";
		mes "呜呼呼呼……";
		mes "太可怕了……我买了猫的船饼干，但我不知道它是什么时候做的。";
		mes "真的很难。我差点失去了牙齿。";
		break;
	case 1:
		mes "[清洁阳]";
		mes "厨师可能会忘记他给我骂昆虫的一切。";
		mes "他被猫的船饼干吓了一跳。这个案子比清理工作还大吗？";
		break;
	case 2:
		mes "[清洁阳]";
		mes "我是清洁猫Cleanyang~";
		mes "喵～";
		mes "挠挠别人家的门喵~";
		mes "喵～呃？你听到了吗？";
		mes "这是我的清洁歌。";
		break;
	}
	next;
	mes "[清洁阳]";
	mes "顺便问一下，这是怎么回事？";
	next;
	switch(select("是时候承诺了~：我是来看看结果的~：摇屁股~")) {
	case 1:
		if (checkquest(7267,PLAYTIME) == 0) {
			mes "[清洁阳]";
			mes "呃？还没有。";
			mes "今天的猫的船饼干还没有提供，等一会儿就知道了。";
			mes "可能是在厨师分发猫船饼干之后。";
			close;
		}
		if (checkquest(7268) != -1) {
			mes "[清洁阳]";
			mes "今天我为您服务。";
			mes "最近，还有9个地方藏着猫的船饼干。";
			next;
			mes "[清洁阳]";
			mes "有人认为善良的天使把它们全都收走了，就像我收集并扔掉一样。";
			mes "他仍然把它们藏在那个地方。";
			next;
			mes "[清洁阳]";
			mes "这很容易，因为我不必到处搜索，但是......";
			mes "请搜索经常隐藏的9个地点。";
			close;
		}
		if (checkquest(7267,PLAYTIME) == 2)
			completequest 7267;
		erasequest 7267;
		mes "[清洁阳]";
		mes "今天有人藏猫的船饼干吗？";
		mes "大概他就在那儿吧？";
		next;
		switch(select("今天尝试搜索。：也许不是今天。")) {
		case 1:
			mes "[清洁阳]";
			mes "今天我为您服务。";
			mes "Navi 船的内部，还有家和猫塔。连一片草叶都不放过。";
			mes "到处搜寻。";
			setquest 7268;
			close;
		case 2:
			mes "[清洁阳]";
			mes "你这样认为吗？";
			mes "如果是这样，那是好事。";
			mes "不管怎样，它没有被昆虫侵扰，因为我们发现它们并立即清除。";
			mes "这就够了。";
			close;
		}
	case 2:
		if (checkquest(7268) == -1) {
			mes "[清洁阳]";
			mes "嗯？今天没有人要求收集猫的船饼干。";
			mes "顺便问一下，结果报告是什么？";
			mes "你生病了吗？";
			close;
		}
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1 && checkquest(7269) != -1 && checkquest(7270) != -1 &&
		    checkquest(7271) != -1 && checkquest(7272) != -1 && checkquest(7273) != -1 && checkquest(7274) != -1 && checkquest(7275) != -1) {
			mes "[清洁阳]";
			mes "嗯，冉冉升起的猫船饼干店！";
			mes "你都收集齐全了吗？";
			mes "我想这已经足够了。";
			next;
			mes "[清洁阳]";
			mes "只要把寻找猫的船饼干全部拿走就可以了。";
			mes "味道还不错，而且很有弹性……";
			next;
			mes "[清洁阳]";
			mes "好吧，今天的工作就够了。请明天来！";
			mes "明天还有猫的船饼干！";
			mes "呀哈哈哈哈~";
			setquest 7267;
			erasequest 7268;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7269;
			erasequest 7270;
			erasequest 7271;
			erasequest 7272;
			erasequest 7273;
			erasequest 7274;
			erasequest 7275;
			getexp 30000,40000;
			getitem 12636,10; //Malang_Sp_Can
			close;
		}
		mes "[清洁阳]";
		mes "你都找到了吗？";
		next;
		mes "[清洁阳]";
		mes "有人认为善良的天使把它们全都收走了，就像我收集并扔掉一样。";
		mes "他仍然把它们藏在那个地方。";
		next;
		mes "[清洁阳]";
		mes "这很容易，因为我不必到处搜索，但是";
		mes "请搜索经常隐藏的9个地点。";
		close;
	case 3:
		mes "[清洁阳]";
		mes "喵呜-！";
		mes "你在干什么？喵！";
		mes "Goru 开始...";
		next;
		mes "[清洁阳]";
		mes "嗯。";
		mes "嘿，别那样做。";
		mes "……这不是犯罪吗？喵。";
		close;
	}
}

mal_in02,29,67,0	script	#CaptainRoom3	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (mal_qook == 1) {
		if (checkquest(7261) == -1) {
			mes "船长室的一角堆放着大量垃圾。";
			mes "Cleanyang可能不会清洁角落，因为它不在他的手中。";
			next;
			mes "[托马斯海军上将]";
			mes "呃？你在那儿做什么？";
			mes "不要碰那个！";
			cutin "ma_tomas03",2;
			next;
			switch(select("对不起：我会打扫的！")) {
			case 1:
				mes "[托马斯海军上将]";
				mes "我们有共同的兴趣可以交谈。";
				mes "没有理由像你一样去那里搜索。";
				mes "请别打扰我。";
				cutin "ma_tomas01",2;
				cutin "ma_tomas03",255;
				break;
			case 2:
				cutin "ma_tomas03",255;
				mes "无视托马斯，在垃圾下搜寻。";
				mes "而当时...";
				next;
				emotion ET_HUK;
				mes "黑影刚刚走过的地方，也不知道留下了多久。";
				mes "找到一块猫的船饼干。";
				switch(rand(3)) {
					case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
					case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
				}
				setquest 7261;
				getitem 11536,1; //Cat_Hard_Biscuit
				next;
				if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
					mes "我想我搜索得足够多了。";
					mes "让我们告诉Cleanyang，由于猫的船饼干放置时间太长，所以出现了昆虫。";
					close;
				}
				mes "这是昆虫出现的原因之一。";
				close;
			}
		}
		mes "这里曾经是昆虫的栖息地，因为有人留下了猫的船饼干。";
		mes "我认为现在没问题了，因为我们把它们全部删除了。";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7261) == -1) {
			mes "船长室的一角堆放着大量垃圾。";
			mes "Cleanyng 可能不会清洁角落，因为它不在他的手中。";
			mes "他伸手在垃圾下面搜寻。";
			next;
			mes "而当时...";
			mes "黑影刚刚经过的地方，找到最近藏起来的猫的船饼干。";
			emotion ET_HUK;
			switch(rand(3)) {
				case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
				case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
				case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
			}
			setquest 7261;
			getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "这里曾经是昆虫的栖息地，因为有人留下了猫的船饼干。";
		mes "我认为现在没问题了，因为我们把它们全部删除了。";
		close;
	}
	mes "我在这里没有任何事。";
	close;
}

mal_in02,183,49,0	script	#MeetingFloor4	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7263) == -1) {
			mes "这是地板上的通风窗。离烹饪台真的很近";
			mes "我试图忽略这一点，但它在我的脑海里。我应该怎么办？";
			next;
			switch(select("粗略地看一下：看看这个。")) {
			case 1:
				mes "我仔细查看了通风窗，但没有发现任何问题。";
				close;
			case 2:
				mes "从上面看起来不错……我把它摘下来了，因为它在我的脑海里。";
				mes "我可以看到通风口底部有东西。";
				mes "而当时...";
				next;
				mes "黑影刚刚走过的地方，也不知道停留了多久。";
				mes "找到一块猫的船饼干。";
				emotion ET_HUK;
				switch(rand(2)) {
					case 0: monster "mal_in02",182,50,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",184,50,"Quick Dark Shadow",2209,1;
				}
				setquest 7263;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "我想我搜索得足够多了。";
						mes "让我们告诉Cleanyang，由于猫的船饼干放置时间太长，所以出现了昆虫。";
					} else
						mes "这是昆虫出现的原因之一。";
				}
				close;
			}
		}
		mes "这里曾经是昆虫的栖息地，因为有人留下了猫的船饼干。";
		mes "我认为现在没问题了，因为我们把它们全部删除了。";
		close;
	}
	mes "我在这里没有任何事。";
	close;
}

mal_in02,103,22,0	script	#MalBed5	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7262) == -1) {
			mes "这是水手的床。头发太多了，而且很乱。";
			mes "床底下的角落是够不到的，所以我想得太多了。";
			next;
			switch(select("稍微抬高床垫。：在床底下搜索。")) {
			case 1:
				mes "我轻轻地推动并抬起接触墙边缘的部分。";
				mes "而当时...";
				next;
				mes "黑影刚刚走过的地方，也不知道停留了多久。";
				mes "找到一块猫的船饼干。";
				emotion ET_HUK;
				monster "mal_in02",102,23,"Quick Dark Shadow",2209,1;
				setquest 7262;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "我想我搜索得足够多了。";
						mes "让我们告诉Cleanyang，由于猫的船饼干放置时间太长，所以出现了昆虫。";
					} else
						mes "这是昆虫出现的原因之一。";
				}
				close;
			case 2:
				mes "我在床底下翻遍了，也没发现什么问题。";
				mes "也许 Cleanyang 已经清理干净了。状态已经相当不错了";
				close;
			}
		}
		mes "这里曾经是昆虫的栖息地，因为有人留下了猫的船饼干。";
		mes "我认为现在没问题了，因为我们把它们全部删除了。";
		close;
	}
	mes "水手的床。";
	mes "上面附着了很多猫毛。";
	close;
}

malangdo,141,178,0	script	#Darkweed6	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7269) == -1) {
			mes "猫塔附近的休息区杂草丛生。";
			mes "它很容易被忽视，所以它在我的脑海里。";
			next;
			switch(select("在杂草中搜索。：在椅子下搜索。")) {
			case 1:
				mes "我决定去寻找人们视线之外的森林。";
				mes "而当时...";
				next;
				mes "来自黑影刚刚经过、最近有人躲藏的地方。";
				mes "找到一块猫的船饼干。";
				emotion ET_HUK;
				monster "malangdo",141,178,"Quick Dark Shadow",2209,1;
				setquest 7269;
				getitem 11536,1; //Cat_Hard_Biscuit
				close;
			case 2:
				mes "我在休息区的椅子底下找了一下，没有发现任何问题。";
				mes "虽然是在室外，但条件还是不错的。";
				close;
			}
		}
		mes "猫塔附近的休息区杂草丛生。";
		mes "我们已经在这里收集了藏猫的船饼干。";
		close;
	}
	mes "猫塔下面长出了很多杂草。";
	mes "好像很难清洗。";
	close;
}

malangdo,133,134,0	script	Strange Pile of Sand#7	557,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		set .@quest, (strnpcinfo(0) == "Strange Pile of Sand#7")?7270:7275;
		if (checkquest(.@quest) == -1) {
			mes "那堆沙子滚滚滚滚，就像一座坟墓。里面应该有东西。";
			mes "据传，猫有大便后用沙子掩埋的习惯……";
			next;
			switch(select("避开这个肮脏的地方。：该死的-！")) {
			case 1:
				mes "[" + strcharinfo(0) + "]";
				mes "正确的！";
				mes "这可能是猫的坟墓...不要碰它们！";
				mes "回避回避~";
				break;
			case 2:
				mes "闭上眼睛，开始挖那堆沙子！";
				mes "于是，有什么东西很快从那里出来，又消失了。";
				mes "和...";
				next;
				mes "来自黑影刚刚经过、最近有人躲藏的地方。";
				mes "找一些猫的船饼干片。";
				setquest .@quest;
				if (!rand(3)) {
					emotion ET_HUK;
					getmapxy(.@map$,.@x,.@y,BL_NPC);
					monster .@map$,.@x,.@y,"Quick Dark Shadow",2209,1;
				} else
					getitem 11536,1; //Cat_Hard_Biscuit
				close;
			}
		}
		mes "我们已经收集了埋猫的船饼干。";
		close;
	}
	mes "- 看起来很奇怪。 -";
	mes "- 就是这样... -";
	close;
}
malangdo,197,237,0	duplicate(Strange Pile of Sand#7)	Strange Pile of Sand#12	557

malangdo,232,131,0	script	#UnderStairs8	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7271) == -1) {
			mes "低矮的楼梯下长出了一些杂草。";
			mes "楼梯下掉下来的东西真的很难找到。。";
			next;
			mes "平躺并仔细观察楼梯下方。";
			mes "而当时...";
			next;
			mes "来自黑影刚刚经过、最近有人躲藏的地方。";
			mes "找一些猫的船饼干片。";
			setquest 7271;
			if (!rand(3)) {
				emotion ET_HUK;
				monster "malangdo",231,130,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "有时，有人在楼梯下拉人的脚踝玩耍";
		mes "现在，我看不到顽皮的男孩或任何奇怪的东西。";
		next;
		mes "我们已经收集了埋猫的船饼干。";
		close;
	}
	mes "在楼梯下脱离人们的手。";
	mes "有时，当我寻找丢失的玩具时，我会环顾四周。";
	close;
}

mal_in01,74,20,0	script	#CornerTower9	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7272) == -1) {
			mes "这个猫塔是用来玩耍和休息的。";
			mes "由于立足点与地面之间存在间隙，因此灰尘堆积。";
			next;
			mes "将细长的杆推入缝隙中并搜索一些东西。";
			mes "而当时...";
			next;
			mes "来自黑影刚刚经过、最近有人躲藏的地方。";
			mes "找一些猫的船饼干片。";
			setquest 7272;
			if (!rand(3)) {
				emotion ET_HUK;
				monster "mal_in01",73,19,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "我们已经收集了埋猫的船饼干。";
		close;
	}
	mes "猫塔附近有猫床。";
	mes "特别是，有些猫喜欢偏僻的地方。";
	close;
}

mal_in01,159,225,0	script	#CornerLocker10	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7273) == -1) {
			mes "在猫的游戏玩家使用的墙壁和储物柜之间的缝隙角落里，";
			mes "我可以看到那里有东西。如果掉在那里，真的很难找到物体。";
			next;
			mes "将细长的杆推入缝隙中并搜索一些东西。";
			mes "而当时...";
			next;
			mes "来自黑影刚刚经过、最近有人躲藏的地方。";
			mes "找一些猫的船饼干片。";
			setquest 7273;
			if (!rand(3)) {
				emotion ET_HUK;
				monster "mal_in01",159,225,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "我们已经收集了埋猫的船饼干。";
		close;
	}
	mes "缝隙的一角位于猫玩家使用的储物柜与墙壁之间。";
	mes "如果把小玩具扔在那里，永远也找不到它们。";
	close;
}

mal_in01,24,72,0	script	#FootholdTower11	844,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7274) == -1) {
			mes "这座猫塔是马兰多玩耍和休息的地方。";
			mes "由于立足点与地面之间存在间隙，因此灰尘堆积。";
			next;
			mes "将细长的杆推入缝隙中并搜索一些东西。";
			mes "而当时...";
			next;
			mes "来自黑影刚刚经过、最近有人躲藏的地方。";
			mes "找一些猫的船饼干片。";
			setquest 7274;
			if (!rand(3)) {
				emotion ET_HUK;
				monster "mal_in01",24,71,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "猫塔最底部的立足点缝隙里有一个痕迹，显示曾经有东西被卡住。";
		mes "我们已经收集了埋猫的船饼干。";
		close;
	}
	mes "这座猫塔是马兰多玩耍和休息的地方。";
	mes "当我在猫塔上看猫时，它看起来就像是一棵树上有猫......";
	close;
}

// Help Chef Nyas :: mal_day_qook
//============================================================
mal_in02,187,58,3	script	Chef Nyas	548,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的物品太多，无法继续任务。 -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[厨师尼亚斯]";
		mes "发生什么事了男孩？";
		mes "我不想和你说话。离我远点！";
		next;
		mes "我被不舒服的猫忽视了。";
		mes "如果我变强了，可能就不会被忽视了……";
		close;
	}
	if (mal_qook < 2) {
		mes "[厨师尼亚斯]";
		mes "我是整个舰队中独一无二的厨师。";
		mes "你想要我的东西吗？";
		next;
		mes "[厨师尼亚斯]";
		mes "平时虽然没有空闲时间，也会很乐意端上一盘汤，但是现在！";
		mes "由于一个愚蠢的人的粗心，成分中长满了虫子！";
		next;
		mes "[厨师尼亚斯]";
		mes "所以，等我的怒火变得平静如平静的大海时，再回来吧！";
		mes "话说，哪里傻了！";
		close;
	} else if (mal_qook == 2) {
		mes "[厨师尼亚斯]";
		mes "我是整个舰队中独一无二的厨师。";
		mes "你想要我的东西吗？";
		next;
		switch(select("展示猫的船饼干：讲讲Cleanyang的故事。")) {
		case 1:
			mes "[厨师尼亚斯]";
			mes "嗯？这是猫的船饼干吗？";
			mes "特别是，我能从这块饼干上感受到时间的流动。";
			mes "顺便问一下，你怎么能有这个？";
			next;
			mes "他正在讲述他发现猫的船饼干的地方的故事";
			mes "解释一下 Cleanyang 的故事。";
			next;
			break;
		case 2:
			mes "[厨师尼亚斯]";
			mes "为什么这么蠢？";
			mes "你是想在平静的海面上制造一场雷霆风暴吗？！";
			next;
			mes "安抚愤怒的厨师";
			mes "解释一个关于Cleanyang的误解，讲述猫船饼干的始末。";
			next;
			break;
		}
		mes "[厨师尼亚斯]";
		mes "那么这是因为猫巴士而发生的吗？";
		mes "是的，这个故事是关于这个的吗？";
		next;
		select("你很快就明白了。");
		mes "[厨师尼亚斯]";
		mes "…………他真是个混蛋！";
		mes "另外，什么？在船长室再找一个？！";
		next;
		mes "[厨师尼亚斯]";
		mes "托马斯……";
		mes "他本来应该领先水手的位置，但他错了？";
		mes "坐下。";
		next;
		mes "[厨师尼亚斯]";
		mes "这只猫的船饼干是！总是感谢食物可以帮助我们在长途航行中缓解饥饿！";
		mes "不管是什么味道，它总能在生死的十字路口拯救我们！";
		next;
		mes "[厨师尼亚斯]";
		mes "虽然情况不是一个月、两个月甚至一千天都不能用火！";
		mes "这是在公海上保证的福食！";
		next;
		mes "[厨师尼亚斯]";
		mes "多少猫厨师都为制作猫船饼干而犯难！";
		mes "因为我们在岛上安顿下来了，军纪就放松了！已经忘记危险的情况了吗？！";
		next;
		mes "厨师非常愤怒并且非常沮丧。";
		mes "他咕哝着，咬牙切齿，发出威胁的声音。";
		mes "等他平静下来后再回来。";
		set mal_qook,3;
		erasequest 7264;
		setquest 7265;
		close;
	} else if (mal_qook == 3) {
		if (!rand(3)) {
			mes "[厨师尼亚斯]";
			mes "你在吗？我的突破很糟糕。";
			mes "当你为我而战时，我做了一个重大决定。";
			next;
			mes "[厨师尼亚斯]";
			mes "到了岛上定居后，由于食物的丰富，心态变得堕落。";
			mes "所以，我会改变菜单，一日一餐提供猫船饼干！";
			next;
			mes "[厨师尼亚斯]";
			mes "制作猫船饼干需要这种成分。";
			mes "这个岛上没有小麦，所以我需要你的帮助。";
			next;
			mes "[厨师尼亚斯]";
			mes "磨面粉和揉面团的任何事情都是可能的。";
			mes "请带那种^4d4dff10粒^000000和^4d4dff 1原味酱^000000。";
			mes "用海水代替盐..";
			next;
			mes "[厨师尼亚斯]";
			mes "我们能轻松地将它们运到陆地上吗？";
			mes "剩下的我会得到我需要的。";
			next;
			mes "[厨师尼亚斯]";
			mes "我会调整他们对罐头食品的疯狂口味。";
			mes "他的逼近就像平静的大海却掀起了可怕的雷雨";
			mes "我会给予海神愤怒般的痛苦！喵~~!!";
			next;
			mes "厨师的神色相当严肃。";
			mes "我先把结果告诉Cleanyang吧。";
			set mal_qook,4;
			erasequest 7265;
			setquest 7266;
			close;
		}
		mes "大厨还在努力平息心中的怒火。";
		mes "也许需要更多时间。";
		close;
	} else if (mal_qook == 4) {
		if (countitem(577) >= 10 && countitem(7454) > 0) {
			mes "[厨师尼亚斯]";
			mes "终于到了。哇，这片土地很不一样。";
			mes "这足以处理。";
			next;
			mes "[厨师尼亚斯]";
			mes "如果你没事的话，我想每天都得到这些食物。";
			mes "如果你不介意的话，明天再来吧。";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			set mal_qook,5;
			erasequest 7266;
			setquest 7276;
			close;
		}
		mes "[厨师尼亚斯]";
		mes "制作猫船饼干需要这种成分。";
		mes "这个岛上没有小麦，所以我需要你的帮助。";
		next;
		mes "[厨师尼亚斯]";
		mes "磨面粉和揉面团的任何事情都是可能的。";
		mes "请带那种^4d4dff10粒^000000和^4d4dff 1原味酱^000000。";
		mes "用海水代替盐...";
		close;
	}
	mes "[厨师尼亚斯]";
	mes "你就在那里。";
	mes "还没到吃饭时间……你怎么来了？";
	next;
	switch(select("今天的工作是什么？:送外卖:只是无聊...")) {
	case 1:
		if (checkquest(7276,PLAYTIME) == 0) {
			mes "[厨师尼亚斯]";
			mes "现在，猫的船饼干正在这个烤箱里烘烤。";
			mes "都是为了你的外卖。";
			next;
			mes "[厨师尼亚斯]";
			mes "安静的波浪，带着一点点咸味和咸味。";
			mes "大海的美食来了，让水手们心潮澎湃。";
			next;
			mes "[厨师尼亚斯]";
			mes "今天猫船饼干的材料已经够多了。";
			mes "下次让我订购吧。";
			close;
		}
		if (mal_food > 0) {
			mes "[厨师尼亚斯]";
			mes "嗯？你很迟钝。";
			mes "你已经拿走了我的订单清单吗？";
			mes "只要照顾好他们就可以了。";
			close;
		}
		if (checkquest(7276,PLAYTIME) == 2)
			completequest 7276;
		mes "[厨师尼亚斯]";
		mes "给你。";
		mes "我现在需要猫船饼干的原料。幸运的是，您来得正是时候。";
		if (checkquest(7276) != -1)
			erasequest 7276;
		next;
		mes "[厨师尼亚斯]";
		mes "你能从陆地上带一些猫船饼干的材料吗？";
		mes "既然你都这么说了，那我还有一件事要拜托……";
		next;
		switch(select("我今天很忙。:当然，你需要什么？")) {
		case 1:
			mes "[厨师尼亚斯]";
			mes "这是一个悲伤的消息。";
			mes "不过，没关系。猫的船饼干本来就是准备好的食物。";
			mes "反正今天的饼干等二月圆的时候就送上来了。";
			next;
			switch(select("那么磨牙机？：蠕虫城堡...：不要扔掉？")) {
			case 1:
				mes "[厨师尼亚斯]";
				mes "你想听我说什么？";
				mes "喵！！";
				mes "猫船饼干的硬度就像大海里高贵的耐力！";
				mes "不要忽视这一点！";
				close;
			case 2:
				mes "[厨师尼亚斯]";
				mes "只有不注意保存的白痴才会这么说。";
				mes "充分干燥并密封于阴凉干燥处。啧啧。";
				next;
				mes "[厨师尼亚斯]";
				mes "无论如何，这都是关于蛋白质的吗？";
				mes "如果你想的话，晚上为什么不吃东西呢！";
				close;
			case 3:
				mes "[厨师尼亚斯]";
				mes "切勿乱扔食物！";
				mes "当你被猫的船饼干击中时，你会瘀伤或流血，但是";
				mes "不是这个原因！！！";
				mes "不要玩食物！";
				close;
			}
		case 2:
			if (mal_food == 0) {
				mes "[厨师尼亚斯]";
				mes "猫船饼干的材料和平常一样是10粒谷物和1原味酱。";
				mes "我想研究人类的食物，所以带一份吧。";
				next;
				mes "[厨师尼亚斯]";
				mes "我好奇的食物是...";
				set .@i, rand(1,66);

				// IDs grouped in 5s incrementally.
				setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
				mes "^4d4dff "+getitemname(.@StartID[(.@i-1)/5]+((.@i-1)%5))+" ^000000 。";

				set mal_food,.@i;
				setquest 7280+.@i;
				mes "一道菜就够了，所以请一起做。";
				next;
				mes "[厨师尼亚斯]";
				mes "您必须携带由新鲜食材制成的菜肴。";
				mes "^ff0000我会拒绝方便食品。^000000";
				close;
			}
			mes "[厨师尼亚斯]";
			mes "嘿，我的朋友，你记性不好。";
			mes "你已经拿到我的订单清单了吗？";
			close;
		}
	case 2:
		if (mal_food == 0) {
			mes "[厨师尼亚斯]";
			mes "你还记得我要求带什么吗？";
			mes "我不知道。";
			close;
		} else if (mal_food > 66) {
			mes "[厨师尼亚斯]";
			mes "我说要带什么？";
			mes "我不记得了？";
			mes "你来这里是不是有什么事？";
			close;
		}
		mes "[厨师尼亚斯]";
		mes "那是猫的船饼干和人类食物的成分吗？";
		mes "让我检查一下你带了什么...";
		next;
		set .@i, mal_food;

		// IDs grouped in 5s incrementally.
		setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
		set .@food, .@StartID[(.@i-1)/5]+((.@i-1)%5);

		if (countitem(577) >= 10 && countitem(7454) > 0 && countitem(.@food) > 0) {
			mes "[厨师尼亚斯]";
			mes "伟大的。";
			mes "这就是那个食物！";
			mes "这将是一个很好的参考。干得好。";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			delitem .@food,1;
			setquest 7276;
			set mal_food,0;
			erasequest 7280+.@i;
			
			// Quantities grouped in 10s repeating.
			// [ 3, 3, 6, 6, 9, 9, 12, 12, 15, 18 ]
			// Last group [ 61 - 66 ] receives 25 constant.
			getitem 6422, ((.@i < 61)?((.@i%10)?3*(((.@i%10)+1)/2):18):25); //Egrade_Coin

			getexp 50000,80000;
			next;
			mes "[厨师尼亚斯]";
			mes "好的，你明天能来吗？";
			mes "当你的时刻来临的时候，我非常兴奋。";
			mes "哇哇";
			close;
		}
		mes "[厨师尼亚斯]";
		mes "嗯……";
		mes "我是不是高估了你的能力？";
		mes "仔细检查缺少的物品并妥善携带。";
		next;
		mes "[厨师尼亚斯]";
		mes "与没有辨别力的幼猫没有什么不同。";
		close;
	case 3:
		mes "[厨师尼亚斯]";
		mes "你像虎鲸一样大胆。";
		mes "如果你没有什么事，就不要碰蔬菜，走开。";
		close;
	}
}

// Play with Baby Cats :: mal_nyadventurer
//============================================================
malangdo,165,223,4	script	Expert Cat#nya_01	561,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- 您有太多物品无法继续此任务。 -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[拉托]";
		mes "看来是来客了。";
		mes "这个岛看起来怎么样？";
		mes "很难相信，但这片土地非常松软，所以我们把这个岛命名为马兰多。";
		next;
		mes "[拉托]";
		mes "如果你是一个更专业的冒险家，我会问你一件事......";
		mes "好吧，我不会这么做。";
		close;
	}
	if (nyadven == 0) {
		mes "[拉托]";
		mes "嘿。";
		mes "我是拉托，有空吗？";
		next;
		switch(select("是的，我当然知道。：对不起，但我现在很忙。")) {
		case 1:
			mes "[拉托]";
			mes "好吧，没什么特别的，但是你能帮我一个忙吗？";
			mes "你看到来这里的路上聚集的孩子们了吗？";
			next;
			select("孩子们？");
			mes "[拉托]";
			mes "是的，是的，宝贝们。";
			mes "他们是商人和船员中最小的孩子。";
			mes "他们担心自己可能无法回家。";
			next;
			mes "[拉托]";
			mes "他们已经厌倦了在这个小岛上的生活。";
			mes "他们已经尝过大海和冒险的滋味了……";
			next;
			mes "[拉托]";
			mes "他们曾经玩过制作东西，但似乎也厌倦了......";
			mes "如果可以的话，你愿意陪他们玩一会儿吗？";
			next;
			switch(select("呃，当然...：我没有足够的时间。")) {
			case 1:
				mes "[拉托]";
				mes "哦，谢谢你！";
				mes "那么，他们在哪里呢？";
				mes "也许接近开始指南针......？";
				next;
				mes "[拉托]";
				mes "他们太活跃了，我不知道他们现在在哪里。";
				break;
			case 2:
				mes "[拉托]";
				mes "哦真的吗？";
				mes "即使您现在无法执行此操作，也没关系。";
				break;
			}
			mes "如果您遇到他们，请花时间与他们在一起。";
			next;
			mes "[拉托]";
			mes "最小的是查罗，有着金色的皮毛。";
			mes "Roku 的毛皮是黑色的，Rosy 的毛皮是白色的。";
			mes "请照顾他们。";
			set nyadven,1;
			setquest 7242;
			close;
		case 2:
			mes "[拉托]";
			mes "哦真的吗？";
			mes "很抱歉打扰您。";
			close;
		}
	} else if (nyadven == 1) {
		mes "[拉托]";
		mes "最小的是查罗，有着金色的皮毛。";
		mes "Roku 的毛皮是黑色的，Rosy 的毛皮是白色的。";
		next;
		mes "[拉托]";
		mes "如果这些孩子们都好好长大的话，我们就可以期待着回家的那一天了。";
		mes "因此，请多多关照他们。";
		close2;
	} else if (nyadven < 13) {
		mes "[拉托]";
		mes "孩子们是否打扰你太多？";
		mes "什么……冒险者团？你玩过冒险者团的玩具吗？";
		next;
		mes "[拉托]";
		mes "当我们第一次遭遇海难来到这个岛上时，我真的很担心他们......";
		mes "他们认为第一次航行是一次巨大的冒险……";
		next;
		mes "[拉托]";
		mes "他们看起来很兴奋，就像发烧了一样。";
		mes "给他们做玩具、安抚他们，仿佛就在昨天……";
		next;
		mes "拉托似乎在进行棕色研究。";
		close;
	} else if (nyadven == 13) {
		if (countitem(6430) < 6) {
			mes "你没有带来画作的碎片。";
			mes "请随身携带。";
			close;
		}
		mes "[拉托]";
		mes "这是怎么回事？";
		mes "虽然我请你照顾孩子，但照顾孩子应该很辛苦吧？";
		mes "对不起，我应该照顾他们......";
		next;
		mes "你递给拉托一幅画。";
		next;
		mes "[拉托]";
		mes "哦，这是一幅画？";
		mes "啊！！！";
		mes "这幅画已经被撕掉了吗？";
		next;
		mes "[拉托]";
		mes "他们说这是给我的礼物吗？";
		mes "呵呵，一幅画？";
		mes "哈哈哈哈哈哈！";
		next;
		mes "[拉托]";
		mes "好吧，我自己把这幅画补上。";
		mes "他们还是一样。";
		mes "我觉得我应该先担心一下我自己...";
		next;
		mes "[拉托]";
		mes "你和孩子们一起玩真是太好了。";
		mes "这是给您的。";
		delitem 6430,6; //Picture_Piece
		set nyadven,14;
		getitem 6422,100; //Egrade_Coin
		completequest 7259;
		next;
		mes "[拉托]";
		mes "我欠你一个大人情！";
		mes "今天我们喝酒吧！";
		mes "喵～";
		close;
	} else {
		mes "[拉托]";
		mes "嘿，怎么样？如果你有时间请看一下。";
		next;
		switch(select("看图：别看图。")) {
		case 1:
			mes "[拉托]";
			mes "是的，他们画出了这幅充满幸福的图画。";
			next;
			cutin "mal_nyapic",4;
			mes "欣赏相框中的图片。";
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[拉托]";
			mes "这么好看的照片你为什么不看看呢？";
			mes "我很失望。";
			close;
		}
	}
}

malangdo,211,203,4	script	[Meow Team] Charo#nya_11	560,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- 您有太多物品无法继续此任务。 -";
		close;
	}
	if (nyadven == 0) {
		mes "有些猫看起来比其他船员年轻。";
		mes "他们正在严肃地讨论着面前这台奇怪的机器。";
		close;
	} else if (nyadven == 1) {
		mes "有些猫看起来比其他船员年轻。";
		mes "他们正在严肃地讨论着面前这台奇怪的机器。";
		mes "他们看起来就像拉托告诉我的那些孩子。";
		next;
		switch(select("一言不发地看着他们：现在很忙。")) {
		case 1:
			mes "你试着在不打扰他们的情况下听他们的谈话。";
			next;
			mes "[查罗]";
			mes "什么时候能修好？什么时候完成？";
			mes "这不是最后一张吗？";
			next;
			mes "[玫瑰色]";
			mes "嗯……你连尝试一下都没有吗？";
			mes "无论如何，我们有麻烦了。";
			mes "玻璃珠碎了。";
			next;
			mes "[年份]";
			mes "我们没有额外的玻璃珠吗？";
			next;
			mes "[玫瑰色]";
			mes "不，我们没有。";
			mes "没有它我们就无法解决这个问题，对吗？";
			next;
			mes "猫们同时看向你。";
			next;
			switch(select("我有一个备用的玻璃珠！：你们为什么盯着我看？")) {
			case 1:
				if (countitem(746) == 0) {
					mes "[年份]";
					mes "没有玻璃珠。";
					mes "不要对我们撒谎。";
					close;
				}
				mes "[查罗]";
				mes "真的吗？哦真的吗？";
				mes "这是一颗珠子！还有一颗闪亮的玻璃珠！";
				next;
				mes "[玫瑰色]";
				mes "唔。这足以取代它。";
				mes "像这样...";
				next;
				mes "[年份]";
				mes "然后这里，这个？";
				mes "完毕。";
				next;
				mes "[查罗]";
				mes "令人兴奋！";
				mes "好吧，冒险家！我们将给您使用这台机器的权利！";
				mes "只要你愿意就试试这个！！";
				next;
				mes "[查罗]";
				mes "冒险家！这是一罐美味的罐头。";
				mes "在这个岛上，你可以用罐头买到任何你想要的东西。它是可以交易的。";
				mes "Rosy、Roku 和我收集了它们。";
				next;
				mes "[查罗]";
				mes "还有冒险家！";
				mes "如果你是一个真正的冒险家，";
				mes "你会清除所有 Nyadventures";
				mes "喵勇敢团队制作！";
				mes "只要你愿意，就随时挑战吧！";
				delitem 746,1; //Glass_Bead
				set nyadven,2;
				getitem 12636,30; //Malang_Sp_Can
				close;
			case 2:
				mes "[玫瑰色]";
				mes "当你站在那里时，我们只是看着你。";
				close;
			}
		case 2:
			mes "我稍后会再来。";
			close;
		}
	} else if (nyadven == 2) {
		mes "[查罗]";
		mes "我们修好了杜鲁杜鲁指南针，现在我们只需要一位访客......";
		mes "嘿，你想成为访客吗？";
		emotion ET_SURPRISE;
		next;
		select("访客？");
		mes "[查罗]";
		mes "这是喵冒险团队制作的冒险课程。";
		mes "特别是这次我们增加了学习课程。";
		mes "解决起来很简单，只需要按照顺序在这个岛上找到指南针即可。";
		next;
		switch(select("我会尝试一下：退出。")) {
		case 1:
			mes "[查罗]";
			mes "这是你的冒险卡。";
			mes "这是我们用您给我们的玻璃珠固定的杜鲁杜鲁指南针。";
			mes "这就是起始指南针。";
			next;
			mes "[查罗]";
			mes "如果你把冒险卡放在这里，游戏就会开始！";
			mes "该机器用于测试冒险的基本要素。";
			next;
			mes "[查罗]";
			mes "不要忘记成功冒险的目的地。";
			mes "你应该找到一种方法尽快到达目的地。";
			next;
			mes "[查罗]";
			mes "你会很好的，因为你是一个好人，给了我们玻璃珠。";
			next;
			mes "从黄猫查罗那里得到冒险卡。";
			mes "如果我将这张卡放入入门指南针的插槽中，似乎可以工作。";
			set nyadven,3;
			getitem 6428,1; //Bravery_Card_A
			changequest 7242,7243;
			next;
			mes "[查罗]";
			mes "如果您将冒险卡刮到开始罗盘，游戏就会开始！";
			mes "入门指南针会让您知道应该去哪里。";
			next;
			mes "[查罗]";
			mes "^4d4dff如果你走遍了所有的罗盘，你终于会在Navi船上看到喵铃了！";
			mes "敲响新的钟声！^000000";
			close;
		case 2:
			mes "[查罗]";
			mes "啊……你不会这么做的……";
			mes "一...";
			mes "呜呜~";
			mes "喵～";
			next;
			mes "[玫瑰色]";
			mes "嘿，冒险家。别让孩子哭了！";
			close;
		}
	} else if (nyadven == 3) {
		if (nyadven02 == 28) {
			mes "[查罗]";
			mes "哦？这不是布比的失败邮票吗？";
			mes "我真的很失望。";
			mes "再试一次~你一定能成功的！";
			set nyadven02,0;
			if (checkquest(7257) > -1)
				erasequest 7257;
			close;
		}
		mes "[查罗]";
		mes "如果您将冒险卡刮到开始罗盘，游戏就会开始！";
		mes "入门指南针会让您知道应该去哪里。";
		next;
		mes "[查罗]";
		mes "^4d4dff如果你走遍了所有的罗盘，你终于会在Navi船上看到喵铃了！";
		mes "敲响新的钟声！^000000";
		close;
	} else if (nyadven == 4) {
		if (countitem(6428) == 0) {
			mes "[查罗]";
			mes "你的冒险卡在哪里？";
			mes "你应该随身携带它。";
			mes "你不可能是认真的，你把它和其他垃圾一起扔掉了！";
			close;
		}
		mes "[查罗]";
		mes "我听到了！";
		mes "我听到喵铃的声音了！";
		mes "你太棒了！";
		mes "接下来将会是一个大案子！";
		next;
		select("下一个？");
		mes "[查罗]";
		mes "当您携带该卡时，您就是喵勇敢队的成员。";
		mes "无论如何，我们需要像你这样的冒险家，因为这是一个大案子。";
		next;
		mes "[查罗]";
		mes "这是为了袖口。";
		mes "这座岛上似乎安放了一颗炸弹。";
		mes "侦探已经着手处理这个案子了。";
		next;
		mes "[查罗]";
		mes "你也应该去那里！";
		next;
		switch(select("为什么我必须去那里？：真是一次冒险！我要买它！")) {
		case 1:
			mes "[查罗]";
			mes "这是一个大案子！";
			mes "而且这个岛可能会爆炸！";
			mes "哦，你可能会对这个事实视而不见。";
			mes "把冒险卡还给我！";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,5;
			erasequest 7243;
			close;
		case 2:
			mes "[查罗]";
			mes "你拥有作为冒险者的强大能力！";
			mes "请帮助陷入困境的侦探和他的朋友，拯救这个岛屿！";
			next;
			mes "[查罗]";
			mes "但请确保这应该秘密进行！";
			mes "因此您需要获得此认证。";
			mes "侦探不应该误会你是敌人！";
			next;
			mes "- 将冒险卡A更改为冒险卡B。 -";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			erasequest 7243;
			next;
			mes "[查罗]";
			mes "伟大的侦探和他的朋友将在纳维号周围。";
			close;
		}
	} else if (nyadven == 5) {
		mes "[查罗]";
		mes "你愿意帮助侦探和他的朋友吗？";
		mes "不是吗？";
		next;
		switch(select("是的，我愿意。：不，我不这样做。")) {
		case 1:
			mes "[查罗]";
			mes "你拥有作为冒险者的强大能力！";
			mes "请帮助陷入困境的侦探和他的朋友，拯救这个岛屿！";
			next;
			mes "[查罗]";
			mes "但请确保这应该秘密进行！";
			mes "因此您需要获得此认证。";
			mes "侦探不应该误会你是敌人！";
			next;
			mes "- 将冒险卡A更改为冒险卡B。 -";
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			next;
			mes "[查罗]";
			mes "这位伟大的侦探和他的朋友将在 Navi 船上。";
			close;
		case 2:
			mes "[查罗]";
			mes "天哪，大侦探和航船导航……";
			close;
		}
	} else if (nyadven > 5 && nyadven < 12) {
		mes "[查罗]";
		mes "伟大的侦探和他的朋友将在纳维号周围。";
		close;
	} else if (nyadven == 12) {
		mes "[查罗]";
		mes "我一直在等你...~";
		mes "噢，我因为匆忙来到这里而呼吸急促。";
		mes "哼……喵……";
		next;
		mes "[查罗]";
		mes "你没有什么可以给我看的吗？";
		mes "让我快点看看吧！";
		mes "把它拿出来！";
		next;
		if (countitem(6430) < 6) {
			mes "[查罗]";
			mes "什么？你没有吗？";
			mes "这不可能是真的。";
			mes "你肯定把这个带在身边了...";
			next;
			mes "[玫瑰色]";
			mes "怎么会发生这样的事呢？";
			mes "这幅画对我们来说非常重要。";
			mes "请把它还给我们。";
			close;
		}
		mes "[查罗]";
		mes "是的，就是这个！";
		mes "这是我们的...";
		mes "但是，我们如何将破碎的碎片拼凑起来呢？";
		next;
		mes "[玫瑰色]";
		mes "我们还需要一块木板和胶水来将它们组装在一起。";
		mes "直接送人太麻烦了！";
		next;
		mes "[年份]";
		mes "拉托，看起来他很高兴。";
		mes "他会明白的。";
		next;
		mes "[查罗]";
		mes "真的...？";
		mes "没有 Rato，就没有 Meow 团队，也没有我们。";
		mes "我觉得只送几张画有点不好意思，但是……";
		next;
		mes "[查罗]";
		mes "我们没有别的办法！";
		mes "拉托亲自处理了这个！";
		mes "不，最好让拉托把它重新组装起来。";
		next;
		mes "[玫瑰色]";
		mes "好主意。";
		mes "这确实是个好主意。";
		mes "我已经厌倦了。";
		next;
		mes "[查罗]";
		mes "你是喵勇敢队的一员。";
		mes "请把这些画交给拉托。";
		mes "并告诉他要珍惜它，当作我们的宝贝……";
		next;
		mes "[查罗]";
		mes "没有拉托，我们就无法组建勇敢队。";
		mes "请。";
		mes "告诉他我们没有忘记我们的家乡岛屿。";
		set nyadven,13;
		changequest 7258,7259;
		close;
	} else if (nyadven == 13) {
		mes "[查罗]";
		mes "请把这个拍拍给拉托。";
		mes "我们画这幅画是为了给拉托看。";
		mes "请。";
		close;
	} else {
		switch(rand(3)) {
		case 0:
			mes "[查罗]";
			mes "给你！我们新勇敢团队的荣誉成员！";
			mes "今天你去哪里冒险了？";
			mes "这些是冒险故事吗？";
			mes "如果没有，那么...";
			next;
			mes "[查罗]";
			mes "你可能是来参加指南针比赛的，就像我们喵勇敢队的巨大金枪鱼一样！";
			mes "喵！";
			close;
		case 1:
			mes "[查罗]";
			mes "嗯，Homnya 和 Nyangson 对我来说太难了。";
			mes "...？";
			mes "我的意思是这本书对我来说很难。";
			close;
		case 2:
			mes "[查罗]";
			mes "你知道拉托有多喜欢你找到的这幅画吗？";
			mes "他把这幅画装裱起来挂在墙上了！";
			mes "喵~";
			next;
			mes "[查罗]";
			mes "我想念我的家乡。";
			mes "但马兰多也是我的家乡。";
			mes "我和大家在一起就很好啦~";
			close;
		}
	}
}

malangdo,214,204,3	script	[Meow Team] Rosy#nya_09	559,{
	if (nyadven < 2) {
		mes "一只长着白色皮毛的小猫正在努力尝试使用这台奇怪的机器。";
		mes "机器可能坏了。";
		close;
	} else if (nyadven == 2) {
		mes "[玫瑰色]";
		mes "嗯？给我们带来玻璃珠的冒险家？";
		mes "我真的很感谢你。";
		mes "我们可以用玻璃珠固定指南针。";
		close;
	} else if (nyadven == 3) {
		mes "[玫瑰色]";
		mes "冒险卡？你会参加杜鲁杜鲁比赛吗？";
		mes "即使我们做到了，也很难说它很有趣。";
		next;
		mes "[查罗]";
		mes "噢，真有趣！非常有趣！";
		mes "这次我又改造了！！";
		mes "这真的会很有趣！";
		next;
		mes "[年份]";
		mes "是的。正如查罗所说，这很有趣。";
		mes "或许。";
		mes "...";
		mes "这是。";
		close;
	} else {
		mes "[玫瑰色]";
		mes "喵...";
		mes "我今天感觉很困。";
		mes "这几天因为说话太多喉咙痛";
		next;
		mes "[玫瑰色]";
		mes "你不同意我的观点吗，朋友？";
		mes "...？";
		mes "哦，我什至没有意识到...";
		next;
		mes "[玫瑰色]";
		mes "忘了它吧！";
		mes "这机器不会坏吗？";
		close;
	}
}

malangdo,215,201,3	script	[Meow Team] Roku#nya_10	553,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- 您有太多物品无法继续此任务。 -";
		close;
	}
	if (nyadven < 2) {
		mes "一只年轻的黑猫帮助忙碌的白猫。";
		mes "也许机器坏了。";
		close;
	} else if (nyadven == 2) {
		mes "[年份]";
		mes "哦？你是给我们玻璃珠的人。";
		mes "多谢。";
		mes "我也很高兴，因为查罗看起来很高兴。";
		close;
	} else if (nyadven == 3) {
		mes "[年份]";
		mes "夏洛喜欢。";
		mes "这会很有趣。";
		close;
	} else if (nyadven == 4) {
		mes "[年份]";
		mes "查罗已经等了太久了。";
		mes "查罗...";
		close;
	}
	mes "[年份]";
	mes "你有什么话要告诉我吗？";
	next;
	switch(select("报告比赛结果。：挑战比赛。：没什么。")) {
	case 1:
		if (countitem(6428) == 0) {
			mes "[年份]";
			mes "Bubi，没有确认印章和卡。";
			mes "如果你是这样的话，你就会有麻烦了。";
			close;
		}
		if (nyadven02 == 27) {
			mes "[年份]";
			mes "好工作。";
			mes "你很聪明。";
			mes "这是给你的礼物。";
			mes "请明天再来。";
			next;
			mes "[年份]";
			mes "查罗非常喜欢你。";
			mes "如果你来他会很高兴。";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,29;
			getitem 6422,3; //Egrade_Coin
			getexp 20000,20000;
			erasequest 7244;
			erasequest 7245;
			close;
		} else if (nyadven02 == 28) {
			mes "[年份]";
			mes "失败的...";
			mes "……对你来说太难了吗？";
			mes "但比赛每天只进行一次。";
			delitem 6428,1; //Bravery_Card_A
			erasequest 7244;
			erasequest 7245;
			next;
			switch(select("再给我一次机会！：好的，我明天试试。")) {
			case 1:
				if (countitem(12636) == 0) {
					mes "[年份]";
					mes "嗯……嗯……嗯……";
					mes "如果你带了马兰多罐头，";
					mes "我再给你一次机会。";
					close;
				}
				mes "[年份]";
				mes "好的。您想用 1 个 Malangdo 罐头换取冒险卡吗？";
				next;
				switch(select("兑换冒险卡A：住手。")) {
				case 1:
					if (countitem(6428)) {
						mes "[年份]";
						mes "你已经有了吗？";
						close;
					}
					mes "[年份]";
					mes "这是你的冒险卡。";
					mes "开始罗盘，开始！";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6428,1; //Bravery_Card_A
					set nyadven02,0;
					if (checkquest(7257) > -1)
						erasequest 7257;
					close;
				case 2:
					mes "[年份]";
					mes "好吧，明天再来。";
					close;
				}
			case 2:
				mes "[年份]";
				mes "好吧，明天再来。";
				close;
			}
		} else if (nyadven02 == 29) {
			mes "[年份]";
			mes "您已经报告了今天的结果。";
			mes "正确的？";
			close;
		} else if (nyadven02 < 27) {
			mes "[年份]";
			mes "你太仓促了。";
			mes "你甚至没有完成比赛。";
			mes "它还在继续。";
			close;
		} else {
			mes "[年份]";
			mes "结果有点奇怪，但是......";
			mes "这既不是完整的比赛，也不是不完整的比赛。";
			next;
			mes "[年份]";
			mes "这是机器的原因吗？";
			mes "让我们取消这场比赛吧。";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			erasequest 7244;
			erasequest 7245;
			close;
		}
	case 2:
		if (nyadven02 == 28) {
			mes "[年份]";
			mes "你失败了吗？";
			mes "您想再试一次吗？";
			mes "我将删除失败结果的报告。";
		} else {
			if (checkquest(7257,PLAYTIME) == 0 || checkquest(7257,PLAYTIME) == 1) {
				mes "[年份]";
				mes "不，还没有。";
				mes "Duruduru 比赛每天只有一次。";
				mes "如果我们这样做的次数多了，机器就会坏掉。";
				close;
			}
			mes "[年份]";
			mes "我知道你会尝试杜鲁杜鲁比赛。";
			mes "我删除了你上次的报告。";
		}
		if (checkquest(7257) > -1)
			erasequest 7257;
		next;
		mes "[年份]";
		mes "你需要一张冒险卡才能再次挑战。";
		mes "您想用 1 个 Malangdo 罐头换取冒险卡吗？";
		next;
		switch(select("购买冒险卡：停止吧。")) {
		case 1:
			if (countitem(6428)) {
				mes "[年份]";
				mes "你已经有了吗？";
				close;
			}
			if (countitem(12636) == 0) {
				mes "[年份]";
				mes "没有什么是免费的。";
				mes "你需要一个马兰多罐头。";
				close;
			}
			mes "[年份]";
			mes "这是你的冒险卡。";
			mes "开始罗盘，开始！";
			delitem 12636,1; //Malang_Sp_Can
			getitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			close;
		case 2:
			mes "[年份]";
			mes "好的。";
			close;
		}
	case 3:
		mes "[年份]";
		mes "你是那个奇怪的人。";
		close;
	}
}

malangdo,212,204,0	script	Beginning Compass#nya_02	844,{
	if (countitem(6428) == 0) {
		mes "有一台奇怪的机器。";
		mes "孩子们说，这是喵勇敢队的“杜鲁杜鲁罗盘”游乐设施。";
		close;
	}
	if (nyadven02 < 11) {
		mes "铁锅里有一张马兰多地图和一个卡片插入器。";
		mes "插入卡后，红色按钮和罐内的地图都会亮起。";
		mes "似乎按下按钮后就开始了。";
		next;
		switch(select("现在开始。：稍后开始。")) {
		case 1:
			mes "按下按钮后，卡就会出来并在地图上显示灯光。";
			if (rand(20) < 10) {
				callsub L_Viewpoint,1,1;
				mes "比赛已经开始了！";
				set nyadven02,11;
				setquest 7244;
				close;
			} else {
				callsub L_Viewpoint,2,1;
				mes "比赛已经开始了！";
				set nyadven02,21;
				setquest 7245;
				close;
			}
		case 2:
			mes "稍后挑战一下。";
			close;
		}
	} else if (nyadven02 >= 11 && nyadven02 <= 15) {
		callsub L_Viewpoint,1,(nyadven02-10);
		close;
	} else if (nyadven02 >= 21 && nyadven02 <= 25) {
		callsub L_Viewpoint,2,(nyadven02-20);
		close;
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "插入卡后按按钮即可显示目的地。";
		mes "它位于岛中央的甲板上方！";
		close;
	}
	mes "Duruduru 指南针中的起始指南针。";
	mes "Duruduru 比赛就是从这个指南针开始的。";
	close;

// callsub L_Viewpoint,<order number>,<start index>;
L_Viewpoint:
	.@index = getarg(1);
	switch(getarg(0)) {
	case 1: // Order 1: Red, Blue, Yellow, Green, White
		setarray .@Colors$[1],"^FF0000","^0000FF","^FFFF00","^00FF00","^cccccc";
		setarray .@Text$[1],"Red","Blue","Yellow","Green","White";
		if (.@index <= 1)
			viewpoint 1,213,89,0,0xFF0000;
		if (.@index <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (.@index <= 3)
			viewpoint 1,73,253,2,0xFFFF00;
		if (.@index <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,111,178,4,0xcccccc;
		break;
	case 2: // Order 2: Yellow, Blue, White, Green, Red
		setarray .@Colors$[1],"^FFFF00","^0000FF","^cccccc","^00FF00","^FF0000";
		setarray .@Text$[1],"Yellow","Blue","White","Green","Red";
		if (.@index <= 1)
			viewpoint 1,73,253,0,0xFFFF00;
		if (.@index <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (.@index <= 3)
			viewpoint 1,111,178,2,0xcccccc;
		if (.@index <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,213,89,4,0xFF0000;
		break;
	}
	for(set .@i,1; .@i<=5; set .@i,.@i+1)
		set .@str$, .@str$+((.@i >= .@index)?.@Colors$[.@i]:"")+.@Text$[.@i]+" ";
	if (.@index > 1)
		mes "插入卡并按下红色按钮后，通往目的地的路径就会亮起。";
	mes "顺序将为"+.@str$+"^000000。";
	return;
}

-	script	#malangdo_compass	-1,{
	if (countitem(6428) == 0) {
		mes "有一台奇怪的机器。";
		mes "这是喵勇敢队的杜鲁杜鲁指南针。";
		close;
	}
	set .@index, atoi(strnpcinfo(2));
	switch(.@index) {
	case 1:
		setarray .@var[0],11,25;
		set .@color$,"red";
		break;
	case 2:
		setarray .@var[0],12,22;
		set .@color$,"blue";
		break;
	case 3:
		setarray .@var[0],13,21;
		set .@color$,"gold";
		break;
	case 4:
		setarray .@var[0],14,24;
		set .@color$,"green";
		break;
	case 5:
		setarray .@var[0],15,23;
		set .@color$,"white";
		break;
	}
	mes "精致的"+.@color$+"灯光环绕着"+strnpcinfo(1)+".";
	if (nyadven02 < 11) {
		mes "插入卡并按下按钮后，屏幕上会出现字符。";
		next;
		mes "^00FF00这是一张尚未开始游戏的卡牌。请返回起始罗盘。^000000";
		close;
	} else if (nyadven02 == .@var[0] || nyadven02 == .@var[1]) {
		mes "插入卡并按下按钮后，屏幕上会出现字符。";
		next;
		mes "欢迎来到激动人心的数字世界！";
		mes "阅读问题后输入准确答案！";
		next;
		while(1) {
			switch(.@index) {
			case 1:
				set .@nori_a, rand(1,999);
				set .@nori_b, rand(1,999);
				set .@nori_c, .@nori_a+.@nori_b;
				mes .@nori_a+" + "+.@nori_b+" = ??";
				break;
			case 2:
				set .@nori_a, rand(1,9);
				set .@nori_b, rand(1,9);
				set .@nori_c, .@nori_a*.@nori_b;
				mes .@nori_a+" x "+.@nori_b+" = ??";
				break;
			case 3:
				set .@nori_a, rand(600,999);
				set .@nori_b, rand(1,599);
				set .@nori_c, .@nori_a-.@nori_b;
				mes .@nori_a+" - "+.@nori_b+" = ??";
				break;
			case 4:
				set .@nori_a, rand(1,99);
				set .@nori_b, rand(1,9);
				set .@nori_d, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_b*.@nori_d);
				mes .@nori_a+" + "+.@nori_b+" x "+.@nori_d+" = ??";
				break;
			case 5:
				set .@nori_a, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_a*.@nori_a);
				mes .@nori_a+" + "+.@nori_a+" x "+.@nori_a+" = ??";
				break;
			}
			next;
			input .@input;
			if (.@input == .@nori_c) {
				mes "输入号码后，卡会随着声音滑出。";
				mes "^4d4dff您已经通过了"+strnpcinfo(1)+"！跑向下一个目的地！^000000";
				mes "你应该跑向下一个目的地。";
				set nyadven02, nyadven02+1;
				close;
			}
			mes "你的答案错了！";
			mes "没有确切的答案你就不能通过这里！";
			mes "阅读问题后输入准确答案！";
			next;
		}
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "插入卡并按下按钮后，屏幕上会出现字符。";
		next;
		mes "罗盘针在地图中间转动。";
		mes "你应该跑向下一个目的地。";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 1,162,177,5,0xcccccc;
		close;
	} else if ((nyadven02 >= 11 && nyadven02 <= 15) || (nyadven02 >= 21 && nyadven02 <= 25)) {
		mes "插入卡并按下按钮后，屏幕上会出现字符。";
		next;
		mes "^FF0000你走错路了！卡和指南针中的路径未对齐！^000000";
		close;
	}
	close;
}
malangdo,213,89,0	duplicate(#malangdo_compass)	Red Flame Compass#1	844
malangdo,128,103,0	duplicate(#malangdo_compass)	Blue Flame Compass#2	844
malangdo,73,253,0	duplicate(#malangdo_compass)	Gold Flame Compass#3	844
malangdo,153,146,0	duplicate(#malangdo_compass)	Forest Compass#4	844
malangdo,111,178,0	duplicate(#malangdo_compass)	Cloud Compass#5	844

malangdo,175,163,0	script	Meowbell#nya_12	844,{
	if (countitem(6428) == 0) {
		mes "有一个与船不相配的精美钟。";
		mes "这个铃是喵勇队在游戏中使用的。";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 2,1,1,5,0xFFFFFF;
		close;
	}
	if (nyadven02 == 16)
		set .@quest,7244;
	else if (nyadven02 == 26)
		set .@quest,7245;
	else {
		mes "甲板上巨大的通知铃旁边还有一个小铃。";
		mes "这是喵勇队的喵铃。";
		next;
		mes "如果您有游戏卡，这是最后敲响的铃声。";
		mes "暂时没什么可说的。";
		close;
	}
	mes "这是喵铃。";
	mes "您将卡插入中间插槽。";
	viewpoint 2,1,1,0,0xFFFFFF;
	viewpoint 2,1,1,1,0xFFFFFF;
	viewpoint 2,1,1,2,0xFFFFFF;
	viewpoint 2,1,1,3,0xFFFFFF;
	viewpoint 2,1,1,4,0xFFFFFF;
	viewpoint 2,1,1,5,0xFFFFFF;
	if (checkquest(.@quest,PLAYTIME) == 0 || checkquest(.@quest,PLAYTIME) == 1) {
		mes "敲喵铃！！";
		set nyadven02,27;
		changequest .@quest,7257;
		next;
		if (nyadven == 3) {
			mes "[水手布比]";
			mes "哦，我很惊讶。";
			mes "你很快就按响了喵铃。";
			mes "我认为你有成为冒险家的天赋。";
			next;
			mes "[水手布比]";
			mes "人们说...";
			mes "这个 Duruduru 游戏的目的";
			mes "就是快速准确地找到并到达目的地。";
			next;
			mes "[水手布比]";
			mes "带着冒险卡前往查罗。";
			mes "我会给你一个成功的确认印章。";
			set nyadven,4;
			close;
		} else {
			mes "[水手布比]";
			mes "呵呵，你真的已经习惯了。";
			mes "你又成功了。";
			mes "我已经把我的爪印放在这里了。";
			mes "现在就跑去拉托。";
			close;
		}
	} else {
		mes "-- 嘟嘟--";
		mes "卡已退出，并发出警告声。";
		set nyadven02,28;
		changequest .@quest,7257;
		next;
		mes "[水手布比]";
		mes "你没有及时按响喵铃。";
		mes "好吧，现在已经脱离我的掌控了。";
		mes "我会给你失败印记！";
		close;
	}
}

malangdo,176,165,3	script	Deckhand Bubi#nya_16	544,{
	mes "[布比]";
	mes "嘿，人类冒险家，你来这里干什么？";
	mes "是啊~这景色真美。";
	next;
	mes "[布比]";
	mes "你是来这里敲响喵铃的人之一吗？";
	mes "我不是喵队的成员，但是我可以给你盖章确认。";
	next;
	mes "[布比]";
	mes "嗯，我的工作？";
	mes "哦，那只是当我不在航行时。";
	mes "我这几天有空。";
	close;
}

malangdo,172,178,7	script	Cat Detective#nya_14	560,{
	cutin "mal_homnya_n",2;
	if (nyadven < 6) {
		mes "[猫侦探]";
		mes "嗯？什么事？";
		mes "嘿，这里有一个可疑的人。";
		next;
		mes "[猫侦探]";
		mes "我可以肯定地知道他喝醉了液体的气味。";
		mes "我很难过，我不能。";
		next;
		mes "[侦探的朋友]";
		mes "哦，我很遗憾听到你有如此天才的分析能力！";
		mes "他没有醉……";
		next;
		mes "[猫侦探]";
		mes "醉酒的人身上总是有液体的味道。";
		mes "但他没有醉，因此他没有醉，朋友。";
		next;
		select("那你的身份是什么？");
		cutin "mal_homnya_s",2;
		mes "[猫侦探]";
		mes "好吧...除了醉酒之外你什么都好！！！";
		next;
		mes "猫的声音听起来有些颤抖。";
		close2;
	} else if (nyadven == 6) {
		mes "[猫侦探]";
		mes "我说什么了？";
		mes "我不是告诉过你很快就会有人过来吗？";
		next;
		mes "[侦探的朋友]";
		mes "伟大的。";
		mes "我只能佩服你的推论。";
		next;
		mes "[Homnya侦探]";
		mes "哈哈，Nyangson，这对我来说没什么。";
		mes "在此之前，我们先来听听参观者的故事。";
		next;
		switch(select("查罗？罗西？：你们是侦探吗？")) {
		case 1:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "不……他们是谁？";
			mes "尼扬森，你认识他们吗？";
			next;
			mes "[尼扬森]";
			mes "我……我也不知道？";
			mes "我不认识夏洛和罗西！";
			next;
			mes "[Homnya]";
			mes "是的。是的。";
			mes "我们是侦探和朋友！";
			next;
			break;
		case 2:
			mes "[Homnya]";
			mes "是的，我是侦探，Homnya。";
			mes "这是我的朋友 Nyangson。他报告了我的案件。";
			next;
			break;
		}
		mes "[Homnya]";
		mes "无论如何，现在这并不重要！";
		mes "我们应该关注当前形势。";
		next;
		mes "[尼扬森]";
		mes "是的，没错，朋友。";
		mes "我们认为……";
		next;
		mes "[Homnya]";
		mes "是的！这绝对是一颗炸弹！";
		mes "很抱歉，我只有分析和侦探的能力，却没有处理炸弹的能力！";
		next;
		cutin "mal_homnya_s",2;
		mes "[尼扬森]";
		mes "你这是什么意思？";
		mes "这没有任何意义！";
		next;
		mes "[Homnya]";
		mes "是的，当它从希望的顶峰变成悲伤的顶峰时，我们呐喊。";
		mes "顶峰！";
		mes "喵！";
		next;
		mes "我不明白这是什么意思，但他们似乎很着急。";
		next;
		switch(select("继续幽默他们：别玩了。")) {
		case 1:
			cutin "mal_homnya_n",2;
			mes "[Homnya]";
			mes "哦，如果你向我们伸出援手，我就会接受。朋友，你觉得怎么样？";
			next;
			mes "[尼扬森]";
			mes "我真的不在乎。我想做的只是举报这个案件。";
			mes "其中一个案件将向公众公开，这是有史以来最奇怪、最奇怪的案件之一。";
			next;
			mes "[Homnya]";
			mes "我知道这位访客有能力处理炸弹。";
			mes "他已经做好了逃离危险的充分准备。";
			next;
			mes "[尼扬森]";
			mes "哦，我听说过。我听说他们也用苍蝇翅膀和蝴蝶翅膀。";
			mes "我从来没想过我能遇到一个真正使用这些东西的人。";
			next;
			mes "[Homnya]";
			mes "是的，我相信这位来访者会解开我们的谜团。";
			mes "那么请停止这该死的机器！";
			next;
			mes "[尼扬森]";
			mes "是的，该死的机器！";
			mes "声音很大而且没用！";
			mes "而且它会被炸毁。";
			next;
			mes "[Homnya]";
			mes "好吧，停止这台机器！";
			set nyadven,7;
			changequest 7246,7247;
			close2;
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "请不要...";
			mes "请按照剧本行动。";
			next;
			mes "[尼扬森]";
			mes "查罗。脚本在哪里？";
			mes "不，霍姆尼亚。我的朋友...";
			next;
			mes "两只小猫出了很多汗。";
			close2;
			break;
		}
	} else if (nyadven == 7) {
		mes "[Homnya]";
		mes "停止这台吵闹的机器！";
		mes "这是你的记忆可以苏醒的时刻！";
		next;
		mes "[尼扬森]";
		mes "是的。是的。";
		mes "这是一种你要处理并突破所有陷阱的训练。";
		mes "是的，这是。";
		close2;
	} else if (nyadven == 8) {
		mes "[Homnya]";
		mes "那是一个可怕的时刻。";
		mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
		mes "再停下来吧。";
		next;
		mes "[Homnya]";
		mes "是的，您需要冒险卡 B 才能操作这台机器。";
		mes "您想买一件新的吗？";
		next;
		mes "[尼扬森]";
		mes "花费一罐马兰多罐。";
		next;
		switch(select("购买冒险卡：不买。")) {
		case 1:
			if (countitem(12636) == 0) {
				mes "[Homnya]";
				mes "我说可以用一只马兰戈罐头换冒险卡~";
				close2;
				break;
			}
			mes "[Homnya]";
			mes "看，这是一台可怕的机器。";
			mes "这是你的冒险卡。";
			mes "这次停止这台机器。";
			delitem 12636,1; //Malang_Sp_Can
			set nyadven,7;
			getitem 6429,1; //Bravery_Card_B
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "什么？";
			mes "但你来这里是为了买一张冒险卡。";
			mes "......";
			next;
			mes "[尼扬森]";
			mes "如果你买了一张冒险卡就不会有任何流血事件......";
			close2;
			break;
		}
	} else if (nyadven == 9) {
		mes "[Homnya]";
		mes "嘿，有个好消息要告诉你。";
		mes "当你为那台机器苦苦挣扎时，我收到了好消息。";
		next;
		mes "[尼扬森]";
		mes "你好，有能力的朋友，你发现了什么？";
		mes "难道这就是隐藏宝藏之类的东西？";
		next;
		mes "[Homnya]";
		mes "隐藏的宝藏？";
		mes "非常相似！";
		mes "它将隐藏在机舱内的多个地方。";
		mes "你应该找到他们！";
		next;
		switch(select("我现在觉得厌倦了：哦，是的！")) {
		case 1:
			mes "[Homnya]";
			mes "哦真的吗？";
			mes "如果你感觉累了，那也没关系。";
			mes "如果你愿意的话，请再来。";
			next;
			mes "[尼扬森]";
			mes "请再来吧~。";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "我就知道你会这么做！";
			mes "我对人有正确的眼光。";
			mes "地点是Navi号船的内部。";
			next;
			mes "[尼扬森]";
			mes "没关系，因为它并不是一个很大的地方。";
			mes "期待您的积极工作！";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else if (nyadven == 10) {
		mes "[Homnya]";
		mes "请找到宝藏的碎片。";
		mes "根据我们的信息，宝藏隐藏在 Navi 号船内。";
		next;
		mes "[尼扬森]";
		mes "找到宝藏后就来这里吧！";
		close2;
	} else if (nyadven == 11) {
		if (countitem(6430) > 5) {
			mes "[Homnya]";
			mes "你已经找到了所有的宝藏。";
			mes "是的，完全正确。";
			mes "你可能认为这幅画只是一幅普通的画。";
			next;
			mes "[Homnya]";
			mes "但...！";
			mes "如果我们这样做...！";
			next;
			mes "[尼扬森]";
			mes "哦，这是……那一刻的……";
			mes "这是我们离开家乡时的情景。";
			next;
			mes "[Homnya]";
			mes "是时候把它还给勇敢的新团队了！";
			mes "让我们还给它吧！";
			mes "喵～";
			next;
			mes "Charo 和 Rosy 分别扮演 Homnya 和 Nyangson";
			mes "检查了画作并再次归还。";
			mes "他们看起来很兴奋。";
			next;
			mes "[Homnya]";
			mes "请还给喵勇敢队吧~";
			mes "送给大家~喵~";
			mes "这些都是真正的宝藏！";
			set nyadven,12;
			erasequest 7250;
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			setquest 7258;
			close2;
		} else {
			mes "[Homnya]";
			mes "出色地？很奇怪。应该有6件宝物。";
			mes "缺少了一些碎片...";
			mes "这是假的吗？我会把它扔掉！";
			next;
			mes "[尼扬森]";
			mes "再去拿宝物吧！";
			delitem 6430,countitem(6430); //Picture_Piece
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			set nyadven,10;
			setquest 7250;
			close2;
		}
	} else if (nyadven == 12 || nyadven == 13) {
		mes "[Homnya]";
		mes "请把你找到的这些宝藏交给喵勇敢队。";
		mes "当你把这些宝贝送给他们时，你就会知道这些宝贝有多么珍贵~";
		next;
		mes "[尼扬森]";
		mes "是的，你会意识到。";
		mes "休息一下很好，但现在我们没有任何空闲时间。";
		close2;
	} else {
		if (countitem(6429) > 0) {
			mes "[Homnya]";
			mes "停止这台吵闹的机器！";
			mes "插入冒险卡，仔细观察机器的反应。然后采取正确的行动！";
			next;
			mes "[尼扬森]";
			mes "没错~";
			close2;
		}
		mes "[Homnya]";
		mes "嘿，尼扬森。";
		mes "英雄来了。";
		mes "他似乎是来修理这台顽皮的机器的。";
		next;
		mes "[尼扬森]";
		mes "我一直很佩服你敏锐的洞察力。";
		mes "他看起来肯定是这样的。";
		mes "那么他会和马兰多・坎一起购买冒险卡吗？";
		next;
		mes "[Homnya]";
		mes "你越来越好";
		mes "我一直关注着你敏锐的洞察力。";
		mes "你是我真正的朋友。";
		next;
		switch(select("Bang的情况怎么样？：无视。")) {
		case 1:
			if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
				mes "[Homnya]";
				mes "很有动力，但现在还不是时候。";
				mes "尽管顽皮的机器很吵，但还没有。";
				mes "请再来吧。";
				next;
				mes "[尼扬森]";
				mes "我们也有休息时间......";
				close2;
			} else {
				if (checkquest(7249,PLAYTIME) == 2)
					erasequest 7249;
				mes "[Homnya]";
				mes "你能听到这个声音有多吵吗？";
				mes "听起来就像一匹逃跑的小马驹！";
				next;
				mes "[尼扬森]";
				mes "他需要一张冒险卡来阻止它。";
				mes "嗯，你想尝试一下吗？";
				next;
				switch(select("购买冒险卡B：不买。")) {
				case 1:
					if (countitem(12636) == 0) {
						mes "[Homnya]";
						mes "一张冒险卡需要多少个马兰多罐头？";
						next;
						mes "[尼扬森]";
						mes "只有一个人可以，亲爱的。";
						mes "喵~";
						close2;
						break;
					}
					mes "[Homnya]";
					mes "是的，请尝试一下，不要炸毁它。";
					mes "快点解决吧！";
					next;
					mes "[尼扬森]";
					mes "请这样做。";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6429,1; //Bravery_Card_B
					close2;
					break;
				case 2:
					cutin "mal_homnya_s",2;
					mes "[Homnya]";
					mes "啊……嘿……你不能这么做！";
					mes "嘿，别走！";
					mes "请停止这种行为，Nyangson！";
					next;
					mes "[尼扬森]";
					mes "这个那个那个都吵！";
					mes "请！";
					next;
					mes "两只小猫出了很多汗。";
					close2;
					break;
				}
			}
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "啊……嘿……你不能这么做！";
			mes "嘿，别走！";
			mes "请停止这种行为，Nyangson！";
			next;
			mes "[尼扬森]";
			mes "这个那个那个都吵！";
			mes "请！";
			next;
			mes "两只小猫出了很多汗。";
			close2;
			break;
		}
	}
	cutin "",255;
	end;
}

malangdo,173,177,7	script	Friend of Detective#mal	559,{
	cutin "mal_homnya_n",2;
	mes "[尼扬森]";
	mes "我是 Homnya 侦探 Nyangson 的朋友。";
	mes "如果您有疑问，请询问 Homnya。";
	next;
	mes "[Homnya]";
	mes "是的，他只在我旁边说“是的，我的朋友”！";
	mes "问我吧！";
	close2;
	cutin "",255;
	end;
}

malangdo,174,175,0	script	Noisy Machine#nya_13	844,{
	if (nyadven < 7) {
		mes "有一台奇怪的机器。";
		mes "它有红、蓝、黄、绿四种发光体，带有反应按钮，";
		mes "同时伴随着嘈杂的声音旋转。";
		next;
		mes "它看起来更不稳定，因为它旋转得更快。";
		close;
	}
	if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
		mes "[Homnya]";
		mes "很有动力，但还不到时候。";
		mes "还没有，尽管机器噪音很大。";
		mes "请再来吧。";
		next;
		mes "[尼扬森]";
		mes "我们也有休息时间...";
		close;
	}
	if (countitem(6429) == 0) {
		mes "[Homnya]";
		mes "没有冒险卡 B 就无法尝试此操作。";
		mes "请随身携带。";
		close;
	}
	mes "有一台奇怪的机器。";
	mes "它有红、蓝、黄、绿四种发光体，带有反应按钮，";
	mes "同时伴随着嘈杂的声音旋转。";
	next;
	mes "它看起来更不稳定，因为它旋转得更快。";
	next;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "将卡插入机器即可停止机器！";
	next;
	mes "[尼扬森]";
	mes "前进！";
	next;
	cutin "",255;
	if(select("插入卡：停止。") == 2) {
		mes "[Homnya]";
		mes "嗯？你不打算这样做吗？";
		mes "真的吗？";
		mes "就算这机器能炸毁整个岛？！";
		next;
		mes "[尼扬森]";
		mes "他知道它永远不会爆炸吗？";
		next;
		mes "两只小猫出了很多汗。";
		close;
	}
	mes "插入卡后，机器顶部的光盘旋转得更快......";
	mes "灯光也开始闪烁得更快。";
	next;
	callsub L_ShowLights,2;
	callsub L_ShowLights,4;
	callsub L_ShowLights,6;
	callsub L_ShowLights,8;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "噢，太棒了！";
	mes "敲击声停止了！";
	mes "你记性真好！";
	mes "请收下这份小礼物。";
	next;
	mes "[尼扬森]";
	mes "经历了喵冒险队的重重困难后即可获得。";
	mes "我们不确定这台机器是否会再次尝试炸毁，所以请明天再来。";
	if (nyadven == 7) {
		set nyadven,9;
		erasequest 7247;
	}
	delitem 6429,1; //Bravery_Card_B
	setquest 7249;
	getitem 6422,3; //Egrade_Coin
	getexp 20000,20000;
	next;
	if (nyadven == 9) {
		mes "[Homnya]";
		mes "嘿，有个好消息要告诉你。";
		mes "当你为那台机器苦苦挣扎时，我收到了好消息。";
		next;
		mes "[尼扬森]";
		mes "你好，有能力的朋友，你发现了什么？";
		mes "难道这就是隐藏宝藏之类的东西？";
		next;
		mes "[Homnya]";
		mes "隐藏的宝藏？";
		mes "非常相似！";
		mes "它将隐藏在机舱内的多个地方。";
		mes "你应该找到他们！";
		next;
		switch(select("我现在觉得厌倦了：哦，是的！")) {
		case 1:
			mes "[Homnya]";
			mes "哦真的吗？";
			mes "如果你感觉累了，那也没关系。";
			mes "如果你愿意的话，请再来。";
			next;
			mes "[尼扬森]";
			mes "请再来吧~。";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "我就知道你会这么做！";
			mes "我对人有正确的眼光。";
			mes "地点是Navi号船的内部。";
			next;
			mes "[尼扬森]";
			mes "没关系，因为它并不是一个很大的地方。";
			mes "期待您的积极工作！";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else {
		mes "[Homnya]";
		mes "那我就期待明天吧！";
		close2;
	}
	cutin "",255;
	end;

// callsub L_ShowLights,<number of lights>;
L_ShowLights:
	.@num = getarg(0);
	mes "发光的";
	mes "按钮的顺序是：";
	mes "[红色] [绿色] [蓝色] [黄色]";
	mes "在此之下，还有更多按钮：";
	mes "[绿色] [红色] [黄色] [蓝色]";
	mes "按照这个顺序。";
	next;
	mes "发光的";
	setarray .@Color$[0],"Red","Blue","Yellow","Green";
	setarray .@Cutin$[0],"nya_red","nya_blue","nya_yellow","nya_green";
	for(set .@i,0; .@i < .@num; set .@i,.@i+1) {
		set .@rand, rand(4);
		set .@Lamp[.@i],.@rand;
		mes .@Color$[.@rand];
		if (.@i+1 == .@num)
			mes "按照这个顺序发光。";
		cutin .@Cutin$[.@rand],4;
		progressbar "0xFFFF00",1;
	}
	cutin "nya_off",4;
	mes "下面的按钮现在闪闪发光。";
	mes "及时按右侧按钮停止机器。";
	next;
	set .@pass,0;
	setarray .@Count$[0],"first","second","third","fourth","fifth","sixth","seventh","eighth";
	for(set .@i,0; .@i < .@num; set .@i,.@i+1) {
		mes "您想按哪个颜色按钮"+.@Count$[.@i]+"？";
		next;
		// Red <-> Green, Blue <-> Yellow
		set .@j, select("红：蓝：黄：绿");
		if (.@Lamp[.@i] == 4-.@j)
			set .@pass,.@pass+1;
	}
	if (.@pass < .@num) {
		mes "按下按钮后旋转速度越来越快。";
		mes "毕竟...";
		specialeffect EF_BEGINSPELL6;
		emotion ET_SURPRISE, getnpcid(0, "Cat Detective#nya_14");
		emotion ET_SURPRISE, getnpcid(0, "Friend of Detective#mal");
		next;
		cutin "mal_homnya_s",2;
		mes "[Homnya]";
		mes "当心！！！";
		mes " ";
		mes "[尼扬森]";
		mes "快炸了！";
		specialeffect EF_FIREHIT;
		specialeffect EF_FIRESPLASHHIT;
		next;
		cutin "",255;
		mes "冒险卡B被烧毁";
		mes "伴随着巨大的爆炸。";
		delitem 6429,1; //Bravery_Card_B
		if (nyadven == 7)
			set nyadven,8;
		close;
	}
	mes "按下按钮后，旋转盘的速度变慢。";
	mes "光亮一次，也就停止了。";
	cutin "nya_off",4;
	next;
	if (.@num < 8) {
		mes "[Homnya]";
		mes "不要减轻你的压力！";
		mes "事情还没有结束！";
		next;
		mes "机器再次启动。";
		mes "而且夜光也闪闪发光，仿佛它一直在向你询问正确的答案。";
		next;
	}
	return;
}

// callfunc "F_Mal_Picture",<quest ID>,<chance to kick?>,<description 1>,<description 2>,<description 3>;
// Returns:
// 1    - Player kicked.
// 2    - nyadven is not 10.
// 3    - Player has already found the picture piece.
// null - Success.
function	script	F_Mal_Picture	{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- 您有太多物品无法继续此任务。 -";
		close;
	}
	if (getarg(1) && rand(2))
		return 1;
	else if (nyadven != 10)
		return 2;
	else if (checkquest(getarg(0)) > -1)
		return 3;
	else {
		mes getarg(2);
		mes getarg(3);
		next;
		mes getarg(4);
		mes "你找到了这幅画的一部分。";
		setquest getarg(0);
		getitem 6430,1; //Picture_Piece
		next;
		if (checkquest(7251) > -1 && checkquest(7252) > -1 && checkquest(7253) > -1 && checkquest(7254) > -1 && checkquest(7255) > -1 && checkquest(7256) > -1) {
			mes "看起来你可以把这些画放在一起。";
			mes "如果我找到了所有碎片，我就应该回到Homnya。";
			set nyadven,11;
			close;
		}
		mes "我想这就是 Homnya 和 Nyangson 提到的宝藏。";
		mes "让我们找到更多的作品。";
		close;
	}
}

mal_in02,187,45,0	script	Box#nya01	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7251,1,
		"There is an uncommon box in the corner of the cabin.",
		"It seems to tell me that it has a teasure inside.",
		"I can see a piece of paper sticking out."
	)) {
	case 1:
		mes "[整齐的船员]";
		mes "你在这里做什么？";
		mes "别再碰那个盒子了！";
		mes "如果你继续把零食藏在那里，将会有更多的虫子！";
		mes "出去！";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "机舱角落里有一个盒子。";
		close;
	case 3:
		mes "这是一个用来装画作的盒子。";
		close;
	}
}

mal_in02,170,75,0	script	Book#nya02	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7252,1,
		"The books are organized according to order on the bookshelf.",
		"I try to take 1 book off carefully.",
		"I can see something sticking out among the books."
	)) {
	case 1:
		mes "[整齐的船员]";
		mes "啊，别碰它！";
		mes "为什么我把房间打扫干净之后你还把它搞得一团糟？！";
		mes "出去！";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "书架上的书按照顺序排列。";
		close;
	case 3:
		mes "这本书曾经包含这幅画的一部分。";
		close;
	}
}

mal_in02,133,98,0	script	Dirty Bed#nya03	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7253,1,
		"This is a normal cabin for the crew.",
		"My eyes kept straying over to old bed in corner of the room.",
		"Something is hanging with furs below the bed."
	)) {
	case 1:
		mes "[恐怖船员]";
		mes "你在这里做什么？";
		mes "别打扰我，走开。";
		mes "出去！";
		close2;
		warp "mal_in02",100,60;
		end;
	case 2:
		mes "它很脏并且闻起来像鱼。";
		mes "有很多猫的皮毛。";
		close;
	case 3:
		mes "这是一张肮脏的床，里面藏着一幅画作。";
		mes "有很多猫的皮毛。";
		close;
	}
}

mal_in02,31,57,0	script	Seashell#nya04	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7254,0,
		"This cabin is large and clean, and it seems to for the captain.",
		"My eyes kept straying over to the seashell and conch for decoration in the corner of the room.",
		"There is a rolled up paper in the conch."
	)) {
	case 2:
		mes "干净的展示柜上有贝壳装饰。";
		close;
	case 3:
		mes "这是藏着一幅画作的贝壳。";
		close;
	}
}

mal_in02,114,56,0	script	Ship Pillar#nya05	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7255,1,
		"This is one of pillars to bear out the ship.",
		"It has many nail marks as it has been through many cats.",
		"There is a folded piece of paper in the crack of the wooden wall."
	)) {
	case 1:
		mes "[挑剔的船员]";
		mes "就是你把这里的柱子都刮坏了？！";
		mes "喵~~~~！！";
		mes "从那个柱子上下来！";
		close2;
		warp "malangdo",170,160;
		end;
	case 2:
		mes "我可以看到划痕的痕迹。";
		mes "用树做的柱子本来是可以悬挂的，但被指甲划伤了。";
		close;
	case 3:
		mes "我可以看到藏有一块画的裂缝。";
		close;
	}
}

mal_in02,139,30,0	script	Ventilation Window#nya06	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7256,0,
		"This cabin is for the normal crew.",
		"There are many ventilation windows on the floor in this room.",
		"One of the windows opens with a clink, revealing a piece of paper."
	)) {
	case 2:
		mes "地板上有窗户可以通风。";
		mes "冷风从这些窗户吹进来。";
		mes "为什么要在地板上设置通风窗？";
		close;
	case 3:
		mes "地板上有窗户可以通风。";
		mes "那里挂着一幅画。";
		mes "为什么要在地板上设置通风窗？";
		close;
	}
}

mal_in02,166,74,4	script	Neat Crew#nyaong01	555,{
	mes "[整齐的船员]";
	mes "请自行清理您的物品。";
	mes "尤其是你们，我们来到这个岛之后就脏了！";
	mes "请将垃圾扔进垃圾桶。";
	next;
	mes "[整齐的船员]";
	mes "你采摘了所有庄稼。";
	mes "哼。请让它保持自然状态。";
	next;
	mes "[整齐的船员]";
	mes "你在看什么？";
	mes "你也会在这里捣乱吗？";
	mes "喵？！";
	close;
}

mal_in02,132,95,5	script	Scary Crew#nyaong02	561,{
	mes "[恐怖船员]";
	mes "这些天我努力表现得友善，但孩子们却对我调侃。";
	mes "你也会吗？";
	next;
	mes "[恐怖船员]";
	mes "他们只是进进出出，甚至是对方的房间……";
	mes "它肯定会造成伤害。";
	close;
}

mal_in02,109,62,4	script	Picky Crew#nyaong03	545,{
	mes "[挑剔的船员]";
	mes "请勿在大厅内奔跑！";
	mes "我的皮毛掉下来是因为有人";
	mes "到处都是划痕！";
	close;
}

// Cat Gamers :: mal_gamer
//============================================================
mal_in01,31,210,2	script	Cat Gamers Director	549,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (BaseLevel < 60) {
		mes "一只看上去很温柔的猫正在自言自语。";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你好……猫先生……";
		next;
		mes "猫看了你一眼，然后又继续低声说话，就好像他根本没有看到你一样。";
		next;
		mes "看来您不值得交谈。";
		close;
	}
	if (malang_gamer == 0) {
		mes "一只看上去很温柔的猫正在自言自语。";
		next;
		mes "[猫玩家总监]";
		mes "男人！连输10场...";
		emotion ET_OHNO;
		next;
		mes "[猫玩家总监]";
		mes "我们是“猫玩家”协会。";
		mes "但是，我们仍然继续失败，我们不知道为什么！";
		next;
		mes "[猫玩家总监]";
		mes "我们必须找出连败的原因。";
		set malang_gamer,1;
		next;
		mes "你对猫的故事越来越感兴趣。让我们听听更多。";
		close;
	} else if (malang_gamer == 1) {
		mes "[猫玩家总监]";
		mes "原因是，是的！";
		mes "这可能是其中之一。";
		next;
		mes "[猫玩家总监]";
		mes "^DD2234放弃了这么多积分！^000000";
		mes "这是正确的。不管你得分多少，";
		mes "如果我们放弃这么多分，我们仍然会输。";
		next;
		mes "[猫玩家总监]";
		mes "因为另一个原因。唔！";
		mes "这可能与之前的原因有关。";
		mes "根本没有^DD2234激进的点投注^000000。";
		next;
		mes "[猫玩家总监]";
		mes "其他球队在他们认为会赢的比赛上下注，而在没有信心时则下注较低。";
		mes "我想我们不知道这一点。";
		next;
		mes "[猫玩家总监]";
		mes "嗯，这也能成为理由吗？";
		mes "由于某种原因，^DD2234选手在比赛前消失了^000000，我想这可能会影响我们的比赛精神。";
		next;
		mes "[猫玩家总监]";
		mes "嗯……那么我们连败的原因就是，";
		mes "放弃太多分数；";
		mes "激进的点数投注；";
		mes "以及玩家消失？";
		set malang_gamer,2;
		next;
		mes "看起来温顺的猫已经思考完毕了。让我们中断转换。";
		close;
	} else if (malang_gamer == 2) {
		mes "[猫玩家总监]";
		mes "现在知道原因了";
		mes "应该有一个解决办法。";
		emotion ET_SCRATCH;
		next;
		select("嗯……猫先生……");
		mes "[猫玩家总监]";
		mes "谁在那里？人类？你是人类吗？";
		next;
		mes "[猫玩家总监]";
		mes "…………";
		next;
		mes "[猫玩家总监]";
		mes "哦！是的！正确的！";
		mes "我记得听说过";
		mes "最近人类开始经过这里。";
		next;
		mes "[猫玩家总监]";
		mes "很高兴见到你！";
		mes "顺便问一下你叫什么名字？";
		emotion ET_SURPRISE;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "我的名字是"+strcharinfo(0)+"，猫先生。";
		next;
		mes "[猫玩家总监]";
		mes "哦，^0000FF"+strcharinfo(0)+"^000000。";
		mes "我可以怎样帮助您？";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "其实我是想帮你的，因为我听说你连输了十场比赛……";
		next;
		mes "[猫玩家总监]";
		mes "好吧，你其实不必这样指出来......";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "当你大声说出来时，弱点就不再是弱点了。";
		emotion ET_BEST, playerattached();
		next;
		mes "[猫玩家总监]";
		mes "哈哈哈哈我喜欢这句话。";
		mes "我应该记住它并且";
		mes "告诉我的孩子们。呵呵~";
		next;
		if (Sex == SEX_FEMALE)
			setarray .@sex$[0],"Mr.","boy";
		else
			setarray .@sex$[0],"Miss","girl";
		mes "[猫玩家总监]";
		mes "我喜欢你，"+.@sex$[0]+" "+strcharinfo(0)+"。你能帮助我们摆脱十连败吗？诶嘿嘿~";
		next;
		switch(select("抱歉，我是个愚蠢的"+.@sex$[1]+"。：当然，我很酷"+.@sex$[1]+".")) {
		case 1:
			mes "[猫玩家总监]";
			mes "看来我错怪你了~";
			mes "一个人怎么能说自己是傻子呢。";
			mes "现在我才知道你有多么愚蠢。";
			mes "再见~";
			emotion ET_SCRATCH;
			close;
		case 2:
			mes "[猫玩家总监]";
			mes "哇。我尊重你，"+strcharinfo(0)+".";
			mes "让我拜托你帮个忙。";
			mes "请认识一下努力工作的猫经理，询问一下我们团队这些天的态度。";
			set malang_gamer,3;
			setquest 5058;
			next;
			mes "[猫玩家总监]";
			mes "猫经理肯定就在这附近的某个地方~";
			close;
		}
	} else if (malang_gamer == 3) {
		mes "[猫玩家总监]";
		mes "请遇见努力的人";
		mes "猫经理，问一下我们团队这几天的态度。";
		mes "猫经理肯定就在这附近的某个地方~";
		close;
	} else if (malang_gamer == 4) {
		mes "[猫玩家总监]";
		mes "好吧好吧。那么猫总管这几天的气氛是怎么说的呢~";
		emotion ET_QUESTION;
		next;
		mes "你准确地告诉他猫经理说的话。";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "猫经理说……";
		next;
		mes "[猫玩家总监]";
		mes "别犹豫...全部都告诉我吧~";
		emotion ET_QUESTION;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "嗯...玩家猫都怕你...";
		next;
		mes "[猫玩家总监]";
		mes "什么……你说什么？";
		emotion ET_HUK;
		next;
		mes "猫玩家总监似乎很震惊。我们给他一些时间冷静一下。";
		set malang_gamer,5;
		erasequest 5059;
		setquest 5060;
		close;
	} else if (malang_gamer == 5) {
		if (checkquest(5060,PLAYTIME) == 0 || checkquest(5060,PLAYTIME) == 1) {
			mes "猫玩家总监似乎很震惊。我们给他一些时间冷静一下。";
			close;
		}
		mes "[猫玩家总监]";
		mes "那是不可能的！";
		mes "没有比我更好的猫了！";
		emotion ET_CRY;
		next;
		mes "[猫玩家总监]";
		mes "我真的有那么可怕吗？";
		mes "那些放弃练习的玩家也怕我吗？";
		emotion ET_PROFUSELY_SWEAT;
		next;
		mes "[猫玩家总监]";
		mes "不可能吧？诶嘿嘿嘿~";
		next;
		mes "- 他紧张地笑了。 -";
		next;
		mes "[猫玩家总监]";
		mes "这是事实吗？";
		next;
		mes "[猫玩家总监]";
		mes strcharinfo(0)+"，你会帮我吗？";
		mes "有4名球员因太累而逃避训练。";
		mes "你能查一下他们是不是因为我而逃跑的吗？嘿嘿嘿~";
		emotion ET_QUESTION;
		next;
		mes "[猫玩家总监]";
		mes "他们的名字是 Eryu、Stew、Ketchup 和 Eff。";
		mes "他们一定就在这附近的某个地方。";
		next;
		mes "[猫玩家总监]";
		mes "请大家都找到吧~";
		mes "但是，不要问得太直接！好的？";
		mes "就问他们一些温和的问题吧~";
		mes "好的？是！温和的！";
		next;
		mes "[猫玩家总监]";
		mes "感谢您的帮助，"+strcharinfo(0)+"。呵呵~";
		set malang_gamer,6;
		erasequest 5060;
		setquest 5061;
		close;
	} else if (malang_gamer == 6) {
		if (checkquest(5062) == 2 && checkquest(5063) == 2 && checkquest(5064) == 2 && checkquest(5065) == 2) {
			mes "[猫玩家总监]";
			mes "呵呵~这个镇子里好像有人在骗猫呢。";
			next;
			mes "[猫玩家总监]";
			mes "骗无辜的猫有什么好处呢~";
			emotion ET_KIK;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "是的，我认为你是对的。";
			emotion ET_SCRATCH, playerattached();
			next;
			mes "[猫玩家总监]";
			mes "哦，原来你认识了二鱼、Stew、Ketchup 和 Eff。";
			mes "很高兴再次见到你。呵呵~";
			mes "非常感谢您的努力~。呵呵~";
			next;
			mes "[猫玩家总监]";
			mes "那么他们说了什么？";
			mes "他们真的认为我很可怕吗？";
			next;
			mes "你告诉猫玩家总监二流、斯图、番茄酱和埃夫说的话。";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "他们认为你在练习中对他们施加了太多压力。所以他们很害怕。";
			next;
			mes "[猫玩家总监]";
			mes "什么？真的吗？";
			next;
			mes "猫玩家总监似乎再次震惊了。最好给他多一点时间冷静下来。";
			set malang_gamer,7;
			erasequest 5061;
			setquest 5060;
			close;
		}
		mes "[猫玩家总监]";
		mes "他们的名字是 Eryu、Stew、Ketchup 和 Eff。";
		mes "他们一定就在这附近的某个地方。";
		next;
		mes "[猫玩家总监]";
		mes "请大家都找到吧~";
		mes "但是，不要问得太直接！好的？";
		mes "就问他们一些温和的问题吧~";
		mes "好的？是！温和的！";
		next;
		mes "[猫玩家总监]";
		mes "感谢您的帮助，"+strcharinfo(0)+"。呵呵~";
		close;
	} else if (malang_gamer == 7) {
		if (checkquest(5060,PLAYTIME) == 0 || checkquest(5060,PLAYTIME) == 1) {
			mes "猫玩家总监似乎再次震惊了。最好多给点时间冷静下来。";
			close;
		}
		mes "[猫玩家总监]";
		mes "好的，我明白了。";
		mes "毕竟我是一只可怕的猫。";
		mes "这不可能是对的！！呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "我需要改变我可怕的猫形象。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "这就是我现在的使命";
		mes "这样我们的团队就可以改进";
		mes "游戏表现。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "请去见见我们的经理猫，";
		mes "并找出我该如何改变";
		mes "我的这张可怕的猫图片。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~非常感谢你的帮助，"+strcharinfo(0)+"~。";
		set malang_gamer,8;
		erasequest 5060;
		setquest 5066;
		close;
	} else if (malang_gamer == 8) {
		mes "[猫玩家总监]";
		mes "请询问我们的猫经理我怎样才能改变这个可怕的猫形象。";
		mes "呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~请帮帮我吧";
		mes strcharinfo(0)+"！呵呵~";
		close;
	} else if (malang_gamer == 9) {
		mes "[猫玩家总监]";
		mes "你回来了！！呵呵~";
		mes "那么，我们的猫经理说了什么？";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "猫经理要求准备一个盒子。";
		next;
		mes "[猫玩家总监]";
		mes "一个盒子？呵呵~当然可以，为什么不呢？";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你要问我这是做什么用的吗？";
		next;
		mes "[猫玩家总监]";
		mes "嗯，当"+strcharinfo(0)+"和猫经理在一起说话时，我有点偷听。呵呵~";
		emotion ET_SMILE;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "............";
		next;
		mes "[猫玩家总监]";
		mes "现在我需要与我们的球员核实，看看他们的真实感受。";
		mes "呵呵~你明天怎么还不回来呢？";
		mes "呵呵~等我看了他们诚实的请愿信后再决定怎么办吧。呵呵~";
		set malang_gamer,10;
		erasequest 5067;
		setquest 5068;
		close;
	} else if (malang_gamer == 10) {
		if (checkquest(5068,PLAYTIME) == 0 || checkquest(5068,PLAYTIME) == 1) {
			mes "[猫玩家总监]";
			mes "至今仍收到请愿信。呵呵~";
			next;
			mes "[猫玩家总监]";
			mes "不知道他们到底想说什么~呵呵~";
			close;
		}
		mes "[猫玩家总监]";
		mes "呵呵～请愿信收集完了～";
		mes "呵呵~看看他们写了什么？";
		next;
		mes "正在读...~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~让我看看……‘笨猫领……德……’";
		emotion ET_FRET;
		next;
		mes "- 把纸弄皱 -";
		mes "猫玩家总监把纸揉成一团扔掉了。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~走错纸了。";
		mes "我们再看一篇吧……呵呵~";
		next;
		mes "~阅读~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~来啦。";
		mes "“我不喜欢一遍又一遍地和同一个团队成员一起比赛。";
		mes "请挑选新的团队成员，";
		mes "或者给我找一个练习伙伴。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~原来如此。";
		mes "我可以积极地对待这一点。";
		mes "呵呵~我们再来看另一篇吧。";
		emotion ET_OK;
		next;
		mes "~阅读~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~";
		mes "“我们需要更多零食~再给我们一些零食~”";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~这个听起来也很有收获。";
		mes "呵呵~请愿书不错吧，我觉得...呵呵~";
		emotion ET_OK;
		next;
		mes "正在读...~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~";
		mes "‘长辈们欺负我。帮我...'";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~我们队绝对是";
		mes "这里就像一家人~有人在";
		mes "在这里打球，你知道的。呵呵~";
		emotion ET_SURPRISE;
		next;
		mes "正在读...~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~只有4个字母！";
		mes "包括一个恶作剧...";
		mes "呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "看来大家的团队生活都很满意啊~呵呵~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "并不真地...";
		next;
		mes "盒子后面堆满了大量的信件，但猫玩家总监不想承认这个问题。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~";
		mes "嘿，"+strcharinfo(0)+"。你说什么？呵呵~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "没有什么！请继续。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~因为这些玩家想要的，";
		mes "我有件事想拜托你"+strcharinfo(0)+"...";
		mes "呵呵~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "它是什么？";
		next;
		mes "[猫玩家总监]";
		mes "你愿意成为我们球员的练习伙伴吗？";
		mes "呵呵~我强烈地感觉到你，"+strcharinfo(0)+"，在这一点上是值得信赖的。呵呵~";
		next;
		switch(select("不，谢谢，伙计！：好的，我会做的！")) {
		case 1:
			mes "[猫玩家总监]";
			mes "呵呵~你是在拒绝我吗？呵呵~";
			next;
			mes "[猫玩家总监]";
			mes "我很伤心。伤心~呵呵~";
			mes "我没想到会遭到像你这样的人的拒绝，"+strcharinfo(0)+".";
			mes "不过还是送你一些金币吧~";
			mes "呵呵~";
			emotion ET_CRY;
			next;
			mes "[猫玩家总监]";
			mes ""+strcharinfo(0)+"，我们将永远欢迎您作为 Cat Gamers 的客座成员。";
			mes "呵呵~";
			set malang_gamer,11;
			erasequest 5068;
			getitem 6422,100; //Egrade_Coin
			next;
			mes "[猫玩家总监]";
			mes "呵呵~如果你改变主意就请回来吧。";
			close;
		case 2:
			mes "[猫玩家总监]";
			mes "呵呵~不错的选择。";
			mes "我就知道你会帮助我们猫玩家……呵呵~";
			emotion ET_BEST;
			next;
			mes "[猫玩家总监]";
			mes "呵呵~谢谢你的帮助。";
			mes "呵呵~这是一些硬币作为小礼物...呵呵~";
			mes "给自己买点好东西吧呵呵~";
			next;
			mes "[猫玩家总监]";
			mes "由于您将成为我们团队的练习伙伴，请一个小时后回来。";
			mes "然后我会给您我们的“^0000FF猫玩家证书^000000”。";
			mes "呵呵~";
			set malang_gamer,12;
			erasequest 5068;
			setquest 5069;
			getitem 6422,100; //Egrade_Coin
			next;
			mes "[猫玩家总监]";
			mes "呵呵~好吧，"+strcharinfo(0)+"。一小时后见。呵呵~";
			close;
		}
	} else if (malang_gamer == 11) {
		mes "[猫玩家总监]";
		mes "呵呵~";
		mes "你不是"+strcharinfo(0)+"吗？";
		mes "你改变主意了吗？";
		mes "您愿意成为我们团队的实习伙伴吗？";
		next;
		switch(select("不，我只是路过：我接受你的提议。")) {
		case 1:
			mes "[猫玩家总监]";
			mes "呵呵~原来如此。";
			mes "但是，让我再次告诉你，"+strcharinfo(0)+".";
			mes "随时欢迎您成为我们的“Cat Gamers 荣誉会员”之一。";
			mes "呵呵~";
			close;
		case 2:
			mes "[猫玩家总监]";
			mes "呵呵~终于！！";
			mes strcharinfo(0)+"将成为我们的尊贵会员！！";
			mes "我会立即制作“^0000FF猫玩家证书^000000”。呵呵~";
			emotion ET_DELIGHT;
			next;
			mes "[猫玩家总监]";
			mes "一小时后回来，我会给你一张“^0000FF猫玩家证书^000000”。";
			mes "呵呵~";
			set malang_gamer,12;
			setquest 5069;
			close;
		}
	} else if (malang_gamer == 12) {
		if (checkquest(5069,PLAYTIME) == 0 || checkquest(5069,PLAYTIME) == 1) {
			mes "[猫玩家总监]";
			mes "呵呵~你想更快地获得‘^0000FF猫玩家证书^000000'。呵呵~能轻易拿到这样的证书还真是不容易呢。";
			next;
			mes "[猫玩家总监]";
			mes "所以，有点棘手……呵呵~请稍后再来。呵呵~";
			emotion ET_DELIGHT;
			close;
		}
		mes "[猫玩家总监]";
		mes "呵呵~接到工坊的消息，他们的证书工作已经完成了。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "这可不是普通的证书。呵呵~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你是什么意思？";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~这是...";
		next;
		mes "猫玩家总监的眼睛里闪烁着骄傲的光芒。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~这就是‘猫玩家’技术团队的精髓！！";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~装备了这个物品，你所有的游戏记录都会被保存下来。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~拿着这个，让我们看看你有什么。";
		erasequest 5069;
		set malang_gamer,20;
		getitem 2872,1; //G_Honor_Certificate
		next;
		mes "[猫玩家总监]";
		mes "呵呵~可能是我太担心了……不过，请佩戴这张《^0000FF猫玩家证书^000000'，去玩游戏吧。呵呵~";
		close;
	} else if (malang_gamer == 20) {
		// fall through
	} else {
		mes "[猫玩家总监]";
		mes "这是不可能的。请联系管理员。";
		close;
	}
	mes "[猫玩家总监]";
	mes "呵呵~你好，"+strcharinfo(0)+"。与球员们的训练进展如何？";
	emotion ET_QUESTION;
	next;
	switch(select("玩家们怎么样？：只是过来打个招呼~：这是目前的状态...")) {
	case 1:
		mes "[猫玩家总监]";
		mes "呵呵~哇，"+strcharinfo(0)+"！你们对球员的关心让我很感动。";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~我这13年的人生中，从来没有见过像你这样的人，"+strcharinfo(0)+"。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~"+strcharinfo(0)+"，您对哪位球员的状态感兴趣？";
		next;
		switch(select("剪刀石头布 玩家：ChamChamCham 玩家：KongNyangKong 玩家：Flag Game 玩家")) {
		case 1:
			mes "[猫玩家总监]";
			mes "呵呵~剪刀石头布的选手们偶尔会缺席训练，但他们还在进步。呵呵~";
			break;
		case 2:
			mes "[猫玩家总监]";
			mes "ChamChamCham的玩家实际上是在抱怨这种做法，因为你和他们一起做得很好，很难记住获胜者。呵呵~";
			break;
		case 3:
			mes "[猫玩家总监]";
			mes "呵呵~KongNyangKong的队员们练习得很开心。呵呵~";
			break;
		case 4:
			mes "[猫玩家总监]";
			mes "呵呵~打旗机的人总是很紧张，因为你让他们这么辛苦。呵呵~不过，他们真的越来越好了。呵呵~";
			break;
		}
		next;
		mes "[猫玩家总监]";
		mes "呵呵~请继续努力，"+strcharinfo(0)+"。呵呵~";
		close;
	case 2:
		mes "[猫玩家总监]";
		mes "呵呵~你好~"+strcharinfo(0)+"。你真有礼貌啊~呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~现在的猫和人没有礼貌的太多了。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "我们的“猫玩家”中也有一些这样的内容。每次赢球他们就这么嚣张……呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~像你这样的人应该多一些，"+strcharinfo(0)+"。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "呵呵~请多多和我们的选手一起练习吧~呵呵~这样他们就可以向你学习一些礼仪了，"+strcharinfo(0)+"。呵呵~";
		next;
		mes "[猫玩家总监]";
		mes "继续加油~呵呵~";
		close;
	case 3:
		mes "[猫玩家总监]";
		mes "呵呵~"+strcharinfo(0)+"你的脸怎么了？我猜你在练习中输了，对吗？呵呵~";
		emotion ET_KIK;
		next;
		mes "[猫玩家总监]";
		mes "呵呵~我看到玩家们在‘请愿箱’里写了纸条。呵呵~猜猜那是你的作品。让我看看...";
		next;
		break;
	}

	// Detect quest (ID range 5074~5090)
	mes "[猫玩家总监]";
	if (checkquest(5074,HUNTING) > -1) {
		mes "呵呵~又不是我没喂好…呵呵~希望你没那么难受，"+strcharinfo(0)+".";
		next;
		if (checkquest(5074,HUNTING) == 2 && countitem(1023) >= 10) {
			delitem 1023,10; //Fish_Tail
			callsub L_CompleteQuest,5074,
				"Heh~ So, you brought 30 Phens and 10 Fish Tails, just as ordered.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~纸条上写着要带30个芬和10个鱼尾。呵呵~也许你没有钓到足够的芬，或者忘记了一些鱼尾？呵呵~";
			close;
		}
	} else if (checkquest(5075,HUNTING) > -1) {
		mes "呵呵~嗯，50个火星，还有30个奶瓶……呵呵~";
		next;
		if (checkquest(5075,HUNTING) == 2 && countitem(519) >= 30) {
			delitem 519,30; //Milk
			callsub L_CompleteQuest,5075,
				"Heh~ Guess they wanted some healthy food. Heh~ They should have just told me... Let me show you my skills. Heh~";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~但是，50个火星和30个奶瓶在哪里？呵呵~看看你有没有错过...";
			close;
		}
	} else if (checkquest(5076,HUNTING) > -1) {
		mes "呵~我们队一定是和‘Dog n Waltz’队有仇，才会向你求这种人情……";
		next;
		if (checkquest(5076,HUNTING) == 2) {
			callsub L_CompleteQuest,5076,
				"Heh~ So you have finished harassing 30 Kobold Archers as noted. Heh~ Outstanding.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~纸条上写着，骚扰30个狗头人弓箭手。呵呵~请检查一下你是否已经骚扰了30个了。";
			close;
		}
	} else if (checkquest(5077,HUNTING) > -1) {
		mes "呵呵~啊，速度训练。很高兴看到我们的球员在训练中竭尽全力。";
		mes "呵呵~是的，没有什么比捕捉鼠标更能提高速度了。";
		next;
		if (checkquest(5077,HUNTING) == 2) {
			callsub L_CompleteQuest,5077,
				"Heh~ Oh, you got some fresh and chubby Cramps. Heh~ Great.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵？你承诺的那10次抽筋在哪里？呵呵~你没吃吧……？";
			close;
		}
	} else if (checkquest(5078,HUNTING) > -1) {
		mes "呵呵~'50 Peco Peco拜托！！我们来聚会吧。嗯……呵呵~ 50 Pecos 可以养活我们所有的邻居。";
		next;
		if (checkquest(5078,HUNTING) == 2) {
			callsub L_CompleteQuest,5078,
				"Heh~ Wow, you did bring 50 Peco Pecos. Heh~ I guess we'll really have a party this evening.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~那些佩科佩科斯在哪里？还没有准备好吗？呵呵~";
			close;
		}
	} else if (checkquest(5079) > -1) {
		mes "嘿~嗯...让我想想...嘿~是啊，我担心我们队在正式比赛前会变得如此紧张...但是，他们根本不跟我说这件事。";
		next;
		if (countitem(7038) >= 20) {
			delitem 7038,20; //Yarn
			callsub L_CompleteQuest,5079,
				"Heh~ How could I miss that? I shall give some to my team for sure.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~那20根纱呢？纸条上写着20，对吧……？请检查您是否在某处丢失了它们。";
			close;
		}
	} else if (checkquest(5080) > -1) {
		mes "呵呵~纸条上写着，给我30个老鼠尾巴当零食。";
		next;
		if (countitem(1016) >= 30) {
			delitem 1016,30; //Rat_Tail
			callsub L_CompleteQuest,5080,
				"Heh~ I think I've fed them good snacks... Didn't I? Lately I was little busy, they should have some patience... Heh~ Poor manager...";
		} else {
			mes "[猫玩家总监]";
			mes "呵~那三十条老鼠尾巴在哪里？请检查并稍后再回来。";
			close;
		}
	} else if (checkquest(5081) > -1) {
		mes "呵呵~纸条上写着5……5什么？什么？！柠檬？";
		next;
		if (countitem(568) >= 5) {
			delitem 568,5; //Lemon
			callsub L_CompleteQuest,5081,
				"Heh~ Lemon is forbidden before the actual game... heh? They won't eat it at game time, right? Heh~";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~我们就给他们买5个柠檬吧？呵呵~我还是不知道他们想用在哪里...";
			close;
		}
	} else if (checkquest(5082) > -1) {
		mes "呵呵~给我们10块冰或者10个冰淇淋！！呵呵~我个人比较喜欢冰淇淋，你知道的。";
		next;
		if (countitem(7066) >= 10) {
			delitem 7066,10; //Ice_Piece
			callsub L_CompleteQuest,5082,
				"Heh~ Oh, you brought Ice Pieces. Heh~ The players will love it.";
		} else if (countitem(536) >= 10) {
			delitem 536,10; //Ice_Cream
			callsub L_CompleteQuest,5082,
				"Heh~ Oh, you brought Ice Creams. Heh~ The players will love it.";
		} else {
			mes "[猫玩家总监]";
			mes "呵呵~冰块或者冰淇淋呢？你应该在它们融化之前得到它们......";
			close;
		}
	} else if (checkquest(5083) > -1 || checkquest(5084) > -1) {
		mes "呵呵~在这里，我找到了我们团队的笔记。呵呵~";
		next;
		if (checkquest(5083) > -1) {
			mes "[猫玩家总监]";
			mes "呵呵~上面写着“我们会一起去见二鱼的”。呵呵~你见过二鱼了吗？我觉得不会吧……呵呵~";
			close;
		} else {
			callsub L_CompleteQuest,5084,
				"Heh~ Oh, you did meet Eryu. Heh~ I will lecture them later for making you work too much... Heh~";
		}
	} else if (checkquest(5085) > -1 || checkquest(5086) > -1) {
		mes "呵呵~在这里，我找到了我们团队的笔记。呵呵~";
		next;
		if (checkquest(5085) > -1) {
			mes "[猫玩家总监]";
			mes "呵呵~上面写着“我们会一起见到Stew”。呵呵~你见过Stew吗？我觉得不会吧……呵呵~";
			close;
		} else {
			callsub L_CompleteQuest,5086,
				"Heh~ Oh, you did meet Stew. Heh~ I will lecture them later for making you work too much... Heh~";
		}
	} else if (checkquest(5087) > -1 || checkquest(5088) > -1) {
		mes "呵呵~在这里，我找到了我们团队的笔记。呵呵~";
		next;
		if (checkquest(5087) > -1) {
			mes "[猫玩家总监]";
			mes "呵呵~上面写着“我们会一起遇见番茄酱”。呵呵~你认识番茄酱了吗？我觉得不会吧……呵呵~";
			close;
		} else {
			callsub L_CompleteQuest,5088,
				"Heh~ Oh, you did meet Ketchup. Heh~ I will lecture them later for making you work too much... Heh~";
		}
	} else if (checkquest(5089) > -1 || checkquest(5090) > -1) {
		mes "呵呵~在这里，我找到了我们团队的笔记。呵呵~";
		next;
		if (checkquest(5089) > -1) {
			mes "[猫玩家总监]";
			mes "呵呵~上面写着“我们会一起见到Eff”。呵呵~你认识Eff了吗？我觉得不会吧……呵呵~";
			close;
		} else {
			callsub L_CompleteQuest,5090,
				"Heh~ Oh, you did meet Eff. Heh~ I will lecture them later for making you work too much... Heh~";
		}
	}
	mes "[猫玩家总监]";
	mes "呵呵？！没有给你的任何好处，"+strcharinfo(0)+"。呵呵~你想举报什么？呵呵~";
	close;

// callsub L_CompleteQuest,<quest ID>,"<message>";
L_CompleteQuest:
	erasequest getarg(0);
	getitem 12636,3; //Malang_Sp_Can
	mes "[猫玩家总监]";
	mes getarg(1);
	next;
	mes "[猫玩家总监]";
	mes "呵呵~谢谢你的光临，"+strcharinfo(0)+"。呵呵~继续努力吧。呵呵~";
	emotion ET_THANKS;
	close;
}

malangdo,127,111,4	script	Strange Cat#gamer	547,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (malang_gamer < 3) {
		mes "[奇怪的猫]";
		mes "喵～喵～呜呜～喵喵～呜呜～";
		next;
		mes "一只奇怪的猫来了。";
		close;
	} else if (malang_gamer == 3) {
		mes "[猫经理]";
		mes "喵～喵～呜呜～喵喵～呜呜～";
		next;
		mes "[猫经理]";
		mes "你想要什么？";
		emotion ET_QUESTION;
		next;
		set .@cat_gam, rand(1,10);
		select("询问团队的态度...");
		if (.@cat_gam == 5) {
			mes "[猫经理]";
			mes "别骗我！我怎么能相信你并泄露我们团队的秘密呢？你不是狗仔队的间谍吗？";
			emotion ET_ANGER;
			next;
			select("哇哦，来吧...");
			mes "你在附近玩狐尾草，然后再次询问。";
			next;
			select("猫玩家总监说……");
			mes "猫经理似乎对狐尾草很感兴趣，开始回答。";
			emotion ET_COOL;
			next;
			mes "[猫经理]";
			mes "玩家们都害怕猫玩家总监。当他们在比赛中看到 Cat Gamers 总监时，他们感到紧张。";
			emotion ET_THROB;
			next;
			mes "[猫经理]";
			mes "你能给我那个吗？";
			set malang_gamer,4;
			erasequest 5058;
			setquest 5059;
			next;
			mes "你把狐尾草交给猫经理。回到猫玩家总监。";
			close;
		} else {
			mes "[猫经理]";
			mes "别骗我！";
			mes "我为什么要相信你，";
			mes "并向我们的团队提供信息？";
			mes "你不是狗仔队的间谍吗……？";
			mes "离开。";
			emotion ET_ANGER;
			next;
			mes "这只猫可能会打你。";
			close;
		}
	} else if (malang_gamer < 8) {
		mes "猫经理正在玩你给他的狐尾草。";
		mes "他好像很喜欢……";
		emotion ET_THROB;
		close;
	} else if (malang_gamer == 8) {
		mes "猫经理正在玩你给他的狐尾草。";
		mes "他好像很喜欢……";
		emotion ET_THROB;
		next;
		switch(select("救命~火~：嘿~！：你想听点什么吗？")) {
		case 1:
			mes "[猫经理]";
			mes "别说谎啦~我们不怎么用火~";
			emotion ET_FRET;
			next;
			break;
		case 2:
			mes "猫经理不理你，继续玩狐尾草。";
			emotion ET_THROB;
			close;
		case 3:
			mes "[猫经理]";
			mes "喵~我想给你讲个故事~跟我来喵~你去那边说吧喵~";
			emotion ET_KIK;
			next;
			break;
		}
		mes "["+strcharinfo(0)+"]";
		mes "哈哈，我只是开玩笑。我实际上需要告诉你，猫玩家总监有一个问题......";
		emotion ET_PROFUSELY_SWEAT, playerattached();
		next;
		mes "你向猫经理解释这个故事。";
		emotion ET_PROFUSELY_SWEAT, playerattached();
		next;
		mes "[猫经理]";
		mes "可怕的画面……喵，我明白了……猫玩家总监应该通过放弃一些东西来感到平静。";
		emotion ET_SCRATCH;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "…………";
		emotion ET_THINK, playerattached();
		next;
		mes "[猫经理]";
		mes "喵！去告诉他这个吧喵~准备一个盒子喵~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "一个盒子？";
		emotion ET_QUESTION, playerattached();
		next;
		mes "[猫经理]";
		mes "请愿就是，喵！！人类确实有做这样的事情的地方，我想这会对我们有帮助~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "好的，我去跟游戏总监说一下~";
		emotion ET_OK, playerattached();
		set malang_gamer,9;
		erasequest 5066;
		setquest 5067;
		close;
	} else if (malang_gamer == 9) {
		mes "[猫经理]";
		mes "你告诉猫玩总监一定要准备一个盒子！~我会告诉我的团队的，喵。";
		close;
	} else if (malang_gamer == 10) {
		mes "[猫经理]";
		mes "队员们很兴奋，在请愿箱里写了一堆东西……我不知道他们在写什么。";
		close;
	} else if (malang_gamer == 11) {
		mes "[猫经理]";
		mes "你不帮忙练习吗？如果你帮忙的话，猫玩家总监会给你食物罐头……请再考虑一下！";
		close;
	} else if (malang_gamer == 12) {
		mes "[猫经理]";
		mes "喵～你不是"+strcharinfo(0)+"吗？听说猫玩家总监订了一份特别的证书，喵~";
		next;
		mes "[猫经理]";
		mes "练习时必须装备‘^0000FF猫玩家证书^000000'道具~别忘了喵~";
		close;
	} else if (malang_gamer == 20) {
		// fall through
	} else {
		mes "[猫经理]";
		mes "这是不可能的。请联系管理员。";
		close;
	}
	mes "[猫经理]";
	mes "你想要什么喵？";
	next;
	switch(select("嗨：有消息吗？：帮我玩。")) {
	case 1:
		mes "[猫经理]";
		mes "哎呀嗨喵~";
		emotion ET_SMILE;
		close;
	case 2:
		switch(rand(1,7)) {
		case 1:
			mes "[猫经理]";
			mes "我告诉你这个喵~你不知道Cat Gamers总监的感受喵~。";
			next;
			mes "[猫经理]";
			mes "哈哈？ >> 好奇、佩服";
			mes "呵呵~>>正常";
			mes "呵呵呵呵~>>快乐";
			mes "哈哈哈哈哈嘿嘿~>>疯狂喵喵";
			emotion ET_OK;
			close;
		case 2:
			mes "[猫经理]";
			mes "不过，你为什么问我喵？奇怪喵...";
			close;
		case 3:
			mes "[猫经理]";
			mes "有些猫在说话时像我一样使用“喵喵”，但有些则不会。";
			close;
		case 4:
			mes "[猫经理]";
			mes "猫是没有敬语的，别误会我们是瞧不起你喵~";
			close;
		case 5:
			mes "[猫经理]";
			mes "应该去很多地方走走，打探消息喵……不过，别打扰我喵～";
			close;
		case 6:
		case 7:
			mes "[猫经理]";
			mes "这可不容易……我只是呼吸喵……";
			close;
		}
	case 3:
		mes "[猫经理]";
		mes "你想玩什么游戏？";
		mes "《猫玩家》有4种游戏的玩家喵~";
		mes "猫玩家总监表示稍后会挑战其他游戏~";
		next;
		switch(select("剪刀石头布:KongNyangKong:ChamChamCham:Flag Game")) {
		case 1:
			mes "[猫经理]";
			mes "剪刀石头布喵？没什么特别的...";
			next;
			mes "[猫经理]";
			mes "剪刀胜布，喵。";
			mes "石头胜剪刀，喵。";
			mes "纸胜石，喵。";
			mes "这些是基本规则。";
			next;
			mes "[猫经理]";
			mes "您与猫喵玩家一起玩 5 个剪刀石头布游戏。";
			mes "当你喵的时候你再玩。";
			next;
			mes "[猫经理]";
			mes "赢喵3次即可获得礼物。";
			mes "当你赢得全部 5 场比赛时，你会得到一份大礼物，喵！！";
			next;
			mes "[猫经理]";
			mes "如果你想玩石头剪刀布游戏，请找到 Paa 或 Ser。";
			close;
		case 2:
			mes "[猫经理]";
			mes "KongNyangKong 并不是一个简单的游戏喵。";
			next;
			mes "[猫经理]";
			mes "攻击时，手面向与对手喵相同的方向。";
			next;
			mes "[猫经理]";
			mes "防守时，手应面向与对方喵相反的方向。";
			next;
			mes "[猫经理]";
			mes "如果攻击成功，就可以继续攻击。";
			mes "但是，如果你失败了，你就得保卫喵。";
			next;
			mes "[猫经理]";
			mes "如果你小心的话，完全不被击中就可以获胜喵。";
			next;
			mes "[猫经理]";
			mes "一旦你让对手的HP变成0，你就赢了喵。";
			mes "当然会有现在的喵喵声。";
			mes "祝你好运喵。";
			next;
			mes "[猫经理]";
			mes "哦～对了喵～！！如果您想玩 KongNyangKong，请找到 KungKung。";
			close;
		case 3:
			mes "[猫经理]";
			mes "ChamChamCham是一款高级智力游戏喵。";
			next;
			mes "[猫经理]";
			mes "规则很简单，但是需要你多思考喵。";
			next;
			mes "[猫经理]";
			mes "你应该把手伸向猫转脸喵喵的地方。";
			next;
			mes "[猫经理]";
			mes "连胜3场有礼物喵。";
			mes "胜利越多，礼物越多喵。";
			next;
			mes "[猫经理]";
			mes "库卡很聪明，会记住很多胜利的球员喵。";
			mes "获得第一名还会有更多礼物喵。";
			close;
		case 4:
			mes "[猫经理]";
			mes "Flag Game 比 ChamChamCham 游戏难多了喵。";
			mes "真的~真的~真的~";
			mes "硬脑筋游戏喵。";
			mes "这比喵难1000倍。";
			next;
			mes "[猫经理]";
			mes "开始喵喵叫时你会得到 5 个标记点。";
			mes "当你挥舞旗帜喵一次时，1分就会消失。";
			next;
			mes "[猫经理]";
			mes "当没有其他猫挥舞旗帜喵时，你就赢得了游戏。";
			next;
			mes "[猫经理]";
			mes "你可以预测其他猫是否会挥舞旗帜或不喵喵叫。";
			mes "通过观察他们的动作喵。";
			next;
			mes "[猫经理]";
			mes "你必须赢才能得到礼物喵。";
			mes "游戏太难了，你会得到更多礼物喵~";
			next;
			mes "[猫经理]";
			mes "如果你想玩夺旗游戏喵~";
			mes "去找另一只想拿裁判证书的猫经理喵。";
			close;
		}
	}
}

malangdo,161,197,4	script	Eryu#gamer	876,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkquest(5061) == 0 || checkquest(5061) == 1) {
		if (checkquest(5062) == -1) {
			mes "你找到了猫二鱼，然后开始说话。";
			next;
			mes "[Eryu]";
			mes "嗯...你是谁？";
			next;
			switch(select("游戏总监发给我：我是《人类》杂志的作家。：你是谁？")) {
			case 1:
				mes "[Eryu]";
				mes "安排。离开...";
				mes "我不知道你在说谁。";
				emotion ET_FRET;
				break;
			case 2:
				mes "[Eryu]";
				mes "嗯？ 《人类》杂志？";
				mes "有这样的事吗？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我们出版已经有 10 年了。";
				mes "但是，我想猫可能不知道我们是谁。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我们是世界各地非常著名的杂志！";
				mes "你不相信我吗？";
				next;
				mes "[Eryu]";
				mes "嗯...好吧。但是，我能为你做什么呢？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我正在写一篇名为“玩游戏的猫”的文章......”";
				mes "这对我来说是一件特别的作品。";
				mes "还有一些团队名为嗯...做...嗯...沃尔...不确定...";
				next;
				mes "[Eryu]";
				mes "“狗与华尔兹”？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哦！是的！";
				mes "《Dog n Waltz》的一位选手推荐了二鱼接受采访。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "他说你是一位非常优秀的玩家，可以帮助我完成这篇文章。";
				next;
				mes "[Eryu]";
				mes "我不太记得《狗与华尔兹》中的任何人了。";
				emotion ET_THINK;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "这个人并不重要。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "请回答我几个问题，好吗？";
				mes "做你自己，你会做得很好。";
				mes "好的，第一个问题：你一天练习多少？";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[Eryu]";
				mes "通常大约8个小时，但我必须告诉你，我已经不在队里了......";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "等等，什么？";
				mes "你现在不在队里吗？怎么会...？";
				emotion ET_HUK, playerattached();
				next;
				mes "[Eryu]";
				mes "出色地...";
				mes "猫导演太恐怖了……";
				mes "我病得很重，不得不请一天假......";
				mes "只是一个令人毛骨悚然的一天...";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "和...？";
				next;
				mes "[Eryu]";
				mes "然后猫主任就对我发脾气了！";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯，听起来很粗糙。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "“猫玩家”失去了另一位伟大的玩家。";
				mes "得知你已不在团队中，我感到很遗憾。";
				mes "我想这次采访就到此结束了。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "因为这仅适用于当前玩家。";
				next;
				mes "[Eryu]";
				mes "哦...";
				mes "抱歉让您浪费时间了。";
				emotion ET_SORRY;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哦，别担心。";
				mes "我应该对占用您宝贵的时间表示歉意。";
				mes "祝你今天过得愉快。";
				next;
				mes "你查到二鱼退队的原因了。";
				mes "是时候去找其他猫了。";
				setquest 5062;
				completequest 5062;
				break;
			case 3:
				mes "[Eryu]";
				mes "是的，我就是二鱼！你想要什么，呵呵喵~";
				break;
			}
			close2;
		} else if (checkquest(5062) == 2) {
			mes "[Eryu]";
			mes "你不是杂志作者吗？";
			mes "是什么让你又来到这里……？";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "啊!";
			mes "抱歉，我想采访另一只猫......";
			mes "又阴差阳错地回到了你身边。";
			mes "对不起。";
			emotion ET_SORRY, playerattached();
			next;
			mes "[Eryu]";
			mes "啊……我明白了。照顾好你自己。";
			close2;
		} else {
			mes "[Eryu]";
			mes "这是不可能的。请联系管理员。";
			close2;
		}
	} else if (checkquest(5083) == 0 || checkquest(5083) == 1) {
		mes "[Eryu]";
		mes "你是谁？";
		next;
		mes "你想说什么？";
		next;
		input .@inputstr$;
		if (.@inputstr$ == "Come back") {
			erasequest 5083;
			setquest 5084;
			set .@str$, "You've delivered the message, so let's get away.";
		} else
			set .@str$, "You didn't deliver the right message, but let's still get away.";
		mes "[Eryu]";
		mes "这是什么？ “"+.@inputstr$+"”是什么意思...？";
		mes "啊……你不是编剧吗？";
		emotion ET_FRET;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "呃……那是谁……？";
		next;
		mes "二羽好像认识你。";
		mes .@str$;
		close2;
	} else if (checkquest(5084) == 0 || checkquest(5084) == 1) {
		mes "[Eryu]";
		mes "我觉得你就是编剧……";
		mes "嘿~就这样吧~";
		next;
		mes "你被发现了。我们走吧。";
		close2;
	} else {
		if (malang_gamer < 6) {
			mes "[Eryu]";
			mes "肮脏的“猫玩家”！";
			mes "我永远不会回去...你是谁？";
			next;
			mes "这只猫可能会打你。我们走吧。";
			close2;
		} else {
			mes "[Eryu]";
			mes "你不是作家吗？";
			emotion ET_QUESTION;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "呃……那是谁……？";
			next;
			mes "二羽好像认识你。我们走吧。";
			close2;
		}
	}
	donpcevent "Eryu#gamer::OnDisable";
	end;
OnEnable:
	enablenpc "Eryu#gamer";
	disablenpc "Stew#gamer";
	disablenpc "Ketchup#gamer";
	disablenpc "Eff#gamer";
	end;
OnDisable:
	switch(rand(3)) {
	case 0:
		donpcevent "Stew#gamer::OnEnable";
		break;
	case 1:
		donpcevent "Ketchup#gamer::OnEnable";
		break;
	case 2:
		donpcevent "Eff#gamer::OnEnable";
		break;
	}
	end;
}

malangdo,230,197,4	script	Stew#gamer	555,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkquest(5061) == 0 || checkquest(5061) == 1) {
		if (checkquest(5063) == -1) {
			mes "你找到了炖猫，然后开始说话。";
			next;
			mes "[炖]";
			mes "喵……？喵，你是谁？";
			emotion ET_QUESTION;
			next;
			switch(select("“猫玩家”经理发来的：喵~咕噜~：我是“Boom Can”公司的。")) {
			case 1:
				mes "[炖]";
				mes "炖不感兴趣喵。";
				mes "别再回来喵~";
				break;
			case 2:
				mes "[炖]";
				mes "斯图没有时间理会那些疯狂的人。";
				break;
			case 3:
				mes "[炖]";
				mes "“Boom Can”公司，喵？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你不知道“Boom Can”食物吗？";
				mes "你根本不吃罐头食品吗？";
				mes "然后，我就找错了猫。";
				next;
				mes "[炖]";
				mes "是的喵~斯图很喜欢罐头喵~";
				emotion ET_THROB;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "啊!好吧。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我们，“Boom Can”公司，已经提供服务超过 10 年了，因此我们正在进行一项旨在改善食品生产的调查。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "让我问几个问题。";
				mes "这很容易。";
				next;
				mes "[炖]";
				mes "好的喵~继续喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "谢谢你！我们对心胸宽广的猫顾客的看法是正确的。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "上周我遇到了狗顾客，他们根本没有回答我......";
				mes "他们非常粗鲁～你知道的。";
				next;
				mes "[炖]";
				mes "狗本来就是这样的~";
				mes "你们人类了解动物~";
				emotion ET_OK;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "谢谢你！我受宠若惊了~";
				mes "好吧，让我问你几件事。";
				mes "你做什么工作？";
				next;
				mes "[炖]";
				mes "工作喵？ Stew是职业玩家喵~";
				mes "不过，Stew现在不干了喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "那么，这是怎么发生的呢？";
				mes "看来你的技能不错。";
				mes "又快又心大，可惜你已经放弃了。";
				next;
				mes "[炖]";
				mes "喵~喵~喵~是的，炖菜就是喵的东西。";
				mes "要不是那个猫游戏总监吓着我了，斯图还在玩喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "真是个糟糕的导演。";
				next;
				mes "[炖]";
				mes "其实没那么糟糕喵~";
				mes "有时候..炖菜会很累喵。";
				mes "所以，斯图在练习喵的时候很轻松。";
				next;
				mes "[炖]";
				mes "然后猫游戏总监开始生气并发出可怕的喵叫声。";
				mes "所以我就放弃了喵。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "啊!我懂了。";
				mes "好了，现在调查结束了。";
				mes "感谢您对我们对“Boom Can”公司的调查提出意见。";
				emotion ET_THANKS, playerattached();
				next;
				mes "[炖]";
				mes "喵？你有什么要问的吗喵？";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我已经问过你一切了...";
				mes "你不记得了吗？";
				mes "有 10 个问题！";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[炖]";
				mes "真的喵？奇怪喵。";
				mes "对不起喵？不记得了喵。";
				mes "感觉不像采访喵。";
				emotion ET_SORRY;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯，你比那些狗做得好得多。";
				mes "我根本不想去想它们~呼~..";
				mes "我现在该走了。";
				mes "祝你有美好的一天。";
				next;
				mes "[炖]";
				mes "真的喵？狗总是这样喵喵叫。";
				mes "猫猫就是胜利者喵~";
				mes "好啦喵~再见喵~";
				next;
				mes "你知道Stew离开球队的原因了。";
				mes "我们去寻找其他的猫吧。";
				setquest 5063;
				completequest 5063;
				break;
			}
			close2;
		} else if (checkquest(5063) == 2) {
			mes "[炖]";
			mes "你不是‘Boom Can’公司的吗？";
			mes "又一个调查喵？";
			emotion ET_QUESTION;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "哎呀！我应该去见见其他猫。";
			mes "非常抱歉...";
			emotion ET_SORRY, playerattached();
			next;
			mes "[炖]";
			mes "没关系喵～再见喵～";
			close2;
		} else {
			mes "[炖]";
			mes "这是不可能的。请联系管理员。";
			close2;
		}
	} else if (checkquest(5085) == 0 || checkquest(5085) == 1) {
		mes "[炖]";
		mes "你是谁喵？";
		emotion ET_QUESTION;
		next;
		mes "你想说什么？";
		next;
		input .@inputstr$;
		if (.@inputstr$ == "Come back") {
			erasequest 5085;
			setquest 5086;
			set .@str$, "You've delivered the message, so let's get away.";
		} else
			set .@str$, "You didn't deliver the right message, but let's still get away.";
		mes "[炖]";
		mes "这是什么？你说的'是什么意思"+.@inputstr$+"'？喵...";
		mes "还有……你不是‘Boom Can’公司的喵？";
		emotion ET_QUESTION;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "啊？那是什么？";
		next;
		mes "斯图似乎认出了你。";
		mes .@str$;
		close2;
	} else if (checkquest(5086) == 0 || checkquest(5086) == 1) {
		mes "[炖]";
		mes "我看你是‘轰罐’公司的喵……你是谁喵~";
		next;
		mes "斯图似乎认出了你。我们走吧。";
		close2;
	} else {
		if (malang_gamer < 6) {
			mes "[炖]";
			mes "喵喵～再见《猫玩家》的喵～你是谁喵？";
			next;
			mes "这只猫可能会打你。我们走吧。";
			close2;
		} else {
			mes "[炖]";
			mes "“Boom Can”公司！！";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "啊？那是什么？";
			next;
			mes "斯图似乎认出了你。我们走吧。";
			close2;
		}
	}
	donpcevent "Stew#gamer::OnDisable";
	end;
OnInit:
	disablenpc "Stew#gamer";
	end;
OnEnable:
	disablenpc "Eryu#gamer";
	enablenpc "Stew#gamer";
	disablenpc "Ketchup#gamer";
	disablenpc "Eff#gamer";
	end;
OnDisable:
	switch(rand(3)) {
	case 0:
		donpcevent "Eryu#gamer::OnEnable";
		break;
	case 1:
		donpcevent "Ketchup#gamer::OnEnable";
		break;
	case 2:
		donpcevent "Eff#gamer::OnEnable";
		break;
	}
	end;
}

malangdo,244,144,4	script	Ketchup#gamer	546,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkquest(5061) == 0 || checkquest(5061) == 1) {
		if (checkquest(5064) == -1) {
			mes "你找到了番茄酱猫，并开始说话。";
			next;
			mes "[番茄酱]";
			mes "喵……？你是谁？";
			emotion ET_QUESTION;
			next;
			switch(select("咕噜～鞠躬哇～：游戏总监猫发给我的。：我来自《小猫罐头》。")) {
			case 1:
				mes "[番茄酱]";
				mes "什么狗？嘶嘶~";
				break;
			case 2:
				mes "[番茄酱]";
				mes "人类啊，在我真正生气之前，离我远一点吧~";
				break;
			case 3:
				mes "[番茄酱]";
				mes "哦，是吗？ “小猫罐头”？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "我想与您分享我们的一些理念。";
				mes "你相信给予他人吗？";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[番茄酱]";
				mes "嗯我想是这样...";
				emotion ET_SEXY;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "“小猫罐头”是一种包容所有猫科动物的宗教。";
				mes "跪拜罐头之主！";
				next;
				mes "[番茄酱]";
				mes "...";
				next;
				mes "[番茄酱]";
				mes "...";
				mes "......";
				next;
				mes "[番茄酱]";
				mes "...";
				mes "......";
				mes ".........";
				mes "罐头王是什么？";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你的名字是番茄酱，对吧？你不知道罐头王吗？";
				mes "他什么都知道。";
				mes "不要试图愚弄他并鞠躬！";
				next;
				mes "[番茄酱]";
				mes "喵？！你怎么知道我的名字？哇...";
				next;
				mes "[番茄酱]";
				mes "对不起。真的很抱歉。";
				mes "请罐头王原谅我。";
				emotion ET_CRY;
				next;
				mes "[番茄酱]";
				mes "那个猫总监好吓人啊~！";
				mes "我离开猫玩家的时候说了很多坏话……";
				mes "请原谅。";
				emotion ET_CRY;
				next;
				emotion ET_THINK;
				emotion ET_THINK, playerattached();
				next;
				mes "["+strcharinfo(0)+"]";
				mes "罐头之王宽恕了番茄酱的罪孽。";
				mes "我们的主也希望你停止说脏话，过诚实的生活！";
				next;
				mes "[番茄酱]";
				mes "谢谢罐头之王。";
				mes "从此我要过上善良的猫生活了。";
				next;
				mes "你知道番茄酱为什么离开猫玩家了。";
				mes "我们来看看其他的猫吧。";
				setquest 5064;
				completequest 5064;
				break;
			}
			close2;
		} else if (checkquest(5064) == 2) {
			mes "[番茄酱]";
			mes "你是...";
			emotion ET_HUK;
			next;
			mes "番茄酱给了你一个抱歉的表情然后跑开了。";
			mes "他大概已经做了坏事了。";
			close2;
		} else {
			mes "[番茄酱]";
			mes "这是不可能的。请联系管理员。";
			close2;
		}
	} else if (checkquest(5087) == 0 || checkquest(5087) == 1) {
		mes "[番茄酱]";
		mes "你是谁？";
		emotion ET_QUESTION;
		next;
		mes "你想说什么？";
		next;
		input .@inputstr$;
		if (.@inputstr$ == "Come back") {
			erasequest 5087;
			setquest 5088;
			mes "[番茄酱]";
			mes "这是什么？你说的‘回来’是什么意思……？";
			mes "可以……“小猫罐头”吗？";
			emotion ET_HUK;
			emotion ET_QUESTION;
			next;
			mes "番茄酱认出了你并逃跑了。";
			mes "你已经传达了消息。";
			close2;
		} else {
			mes "[番茄酱]";
			mes "这是什么？ “"+.@inputstr$+"”是什么意思...？";
			mes "可以……“小猫罐头”吗？";
			emotion ET_HUK;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "啊？那是什么？";
			next;
			mes "番茄酱认出了你并逃跑了。";
			mes "看来你需要再去找找番茄酱了。";
			close2;
		}
	} else if (checkquest(5088) == 0 || checkquest(5088) == 1) {
		mes "[番茄酱]";
		mes "可以……“小猫罐头”吗？";
		emotion ET_HUK;
		next;
		mes "番茄酱再次逃跑。";
		close2;
	} else {
		if (malang_gamer < 6) {
			mes "[番茄酱]";
			mes "肮脏的“猫玩家”！";
			mes "我永远不会回来，当然……你是谁？";
			next;
			mes "这只猫可能会打你。我们走吧。";
			close2;
		} else {
			mes "[番茄酱]";
			mes "可以……“小猫罐头”吗？";
			next;
			mes "番茄酱跑掉了。";
			close2;
		}
	}
	donpcevent "Ketchup#gamer::OnDisable";
	end;
OnInit:
	disablenpc "Ketchup#gamer";
	end;
OnEnable:
	disablenpc "Eryu#gamer";
	disablenpc "Stew#gamer";
	enablenpc "Ketchup#gamer";
	disablenpc "Eff#gamer";
	end;
OnDisable:
	switch(rand(3)) {
	case 0:
		donpcevent "Stew#gamer::OnEnable";
		break;
	case 1:
		donpcevent "Eryu#gamer::OnEnable";
		break;
	case 2:
		donpcevent "Eff#gamer::OnEnable";
		break;
	}
	end;
}

malangdo,181,119,7	script	Eff#gamer	560,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkquest(5061) == 0 || checkquest(5061) == 1) {
		if (checkquest(5065) == -1) {
			mes "你找到了猫 Eff，然后开始说话。";
			next;
			mes "[埃夫]";
			mes "你是谁喵？";
			emotion ET_QUESTION;
			next;
			switch(select("我有一些好的投资消息...：A...猫？：“猫玩家”总监发给我...")) {
			case 1:
				mes "[埃夫]";
				mes "投资信息？喵～？";
				mes "那是什么？喵～？";
				emotion ET_QUESTION;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "有兴趣吧？";
				mes "这是机密信息。";
				mes "你不会从任何其他人那里得到它。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哈哈！你今天很幸运。";
				mes "您听说土地是一项不错的投资，对吗？";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[埃夫]";
				mes "哦哦~我也这么认为。喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你确实了解我们的首都普隆德拉，不是吗？";
				next;
				mes "[埃夫]";
				mes "普隆德拉喵？是的，我知道。喵～";
				emotion ET_SMILE;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "有一些地方";
				mes "普隆德拉王国正在秘密出售……";
				next;
				mes "[埃夫]";
				mes "还有……还有……？？喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯，这是最高机密。";
				mes "有什么绝对不能泄露的事……";
				mes "你真的能保守这个秘密吗……？";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[埃夫]";
				mes "嗯……我一向以保守秘密着称喵。";
				mes "喵～完全不用担心。喵～";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "好吧，我相信你，艾夫……";
				mes "请保守秘密。";
				next;
				mes "[埃夫]";
				mes "我得到了它。喵~";
				emotion ET_OK;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯，我听说朱诺有一处地方，地下大佬将投资大约10,000,000,000泽尼。";
				mes "现在可以进行预投资。";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "如果您在这里投资一罐食品，结果将是巨大的。";
				next;
				mes "[埃夫]";
				mes "嗯……老鼠……喵……？";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "100罐！！";
				mes "只需投资 1 罐食品即可获得 100 罐食品！";
				mes "利润将是X100！ X100！！";
				next;
				mes "[埃夫]";
				mes "哇！！ 100罐~喵~";
				emotion ET_HUK;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "那么，您想投资多少罐？";
				mes "您将成为部分所有者，因此请确保投资您能负担得起的最大金额。";
				emotion ET_QUESTION, playerattached();
				next;
				mes "[埃夫]";
				mes "我想投资。";
				mes "但是，我身上没有罐头。喵～";
				emotion ET_CRY;
				next;
				mes "["+strcharinfo(0)+"]";
				mes "随时可以贷款！！";
				mes "这肯定是 100 倍的结果！！";
				mes "你怎么能失去这样的机会呢？";
				mes "你应该不惜一切代价！";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你知道吗..？他们说，像职业玩家这样的职业可以获得可靠的贷款。";
				mes "大约一次可以贷1000个。";
				mes "没有高利率！";
				next;
				mes "[埃夫]";
				mes "喵！！ 1...1,000...";
				mes "喵~我是职业玩家。";
				mes "喵~但是，我放弃了~喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "什么！！这么好的演出你为什么要放弃！！你疯了？";
				emotion ET_HUK, playerattached();
				next;
				mes "["+strcharinfo(0)+"]";
				mes "假设我们在获得贷款后投资了 1,000 罐。";
				mes "一、十、百、万。哇！";
				mes "我简直不敢相信这一点。";
				mes "结果就是100,000罐，100,000！！";
				next;
				mes "[埃夫]";
				mes "1...十万罐...喵~";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "那么告诉我...你为什么辞掉这么好的工作？";
				mes "为什么？";
				next;
				mes "[埃夫]";
				mes "我很害怕那里的猫主任……";
				mes "喵~这一次我不得不请病假了。";
				mes "喵～我这辈子都没见过这么恐怖的猫了……";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "所以你放弃了，因为猫游戏总监太可怕了。嗯，抱歉，我不能让你参与这项投资......";
				mes "我想……真是浪费时间！";
				mes "再见！";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哦，不要告诉任何人我刚刚告诉你的事情！";
				mes "再见~";
				next;
				mes "您知道 Eff 离开团队的原因了。";
				mes "现在，让我们找到其他的猫。";
				setquest 5065;
				completequest 5065;
				break;
			case 2:
				mes "[埃夫]";
				mes "是的。我是一只猫。";
				mes "喵～你当我是狗吗？";
				mes "喵~你真是个奇怪的人类。喵～";
				break;
			case 3:
				mes "[埃夫]";
				mes "看来这就像我第一次见到你一样。";
				mes "今天我就原谅你了。喵。";
				mes "喵～别想再跟我提起这个名字了……";
				break;
			}
			close2;
		} else if (checkquest(5065) == 2) {
			mes "[埃夫]";
			mes "你是 - ！！";
			mes "喵~我要投资。喵～";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "不是没有罐头你就不能！！";
			mes "你没有告诉任何人这笔交易，对吧？";
			next;
			mes "[埃夫]";
			mes "我没有。喵～";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "好吧，好猫！绝不！！";
			mes "告诉其他猫吧！~";
			mes "再见~";
			close2;
		} else {
			mes "[埃夫]";
			mes "这是不可能的。请联系管理员。";
			close2;
		}
	} else if (checkquest(5089) == 0 || checkquest(5089) == 1) {
		mes "[埃夫]";
		mes "喵，你是谁？";
		next;
		mes "你想说什么？";
		next;
		input .@inputstr$;
		if (.@inputstr$ == "Come back") {
			erasequest 5089;
			setquest 5090;
			set .@str$, "You've delivered the message, so let's get away.";
		} else
			set .@str$, "You didn't deliver the right message, but let's still get away.";
		mes "[埃夫]";
		mes "这是什么？你说的'是什么意思"+.@inputstr$+"'？喵...";
		mes "喵……？喵！你！投资人喵？";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "啊？ WHO...？";
		next;
		mes "Eff 似乎认出了你。";
		mes .@str$;
		close2;
	} else if (checkquest(5090) == 0 || checkquest(5090) == 1) {
		mes "[埃夫]";
		mes "你是 - ！！";
		mes "喵~我要投资。喵～";
		next;
		mes "Eff 似乎认出了你，所以我们走吧。";
		close2;
	} else {
		if (malang_gamer < 6) {
			mes "[埃夫]";
			mes "喵喵~《猫玩家》可以和我说再见了喵。";
			mes "喵……你是谁喵？";
			next;
			mes "这只猫可能会打你。我们走吧。";
			close2;
		} else {
			mes "[埃夫]";
			mes "喵~我要投资。喵~";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "啊？ WHO...？";
			next;
			mes "Eff 似乎认出了你，所以我们走吧。";
			close2;
		}
	}
	donpcevent "Eff#gamer::OnDisable";
	end;
OnInit:
	disablenpc "Eff#gamer";
	end;
OnEnable:
	disablenpc "Eryu#gamer";
	disablenpc "Stew#gamer";
	disablenpc "Ketchup#gamer";
	enablenpc "Eff#gamer";
	end;
OnDisable:
	switch(rand(3)) {
	case 0:
		donpcevent "Stew#gamer::OnEnable";
		break;
	case 1:
		donpcevent "Ketchup#gamer::OnEnable";
		break;
	case 2:
		donpcevent "Eryu#gamer::OnEnable";
		break;
	}
	end;
}

mal_in01,91,216,4	script	Ser#gamer	544,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	for(set .@i,5074; .@i<=5090; set .@i,.@i+1) {
		if (checkquest(.@i) > -1) {
			mes "[看起来]";
			mes "嘿，^0000FF"+strcharinfo(0)+"^000000。你还没有完成我们要求你做的事。承诺就是承诺，你知道。";
			next;
			mes "[看起来]";
			mes "啊！！完成后，请接受那边的 Cat Gamers 总监的检查。";
			close;
		}
	}
	if (malang_gamer < 20) {
		if (countitem(2872)) {
			mes "[看起来]";
			mes "看来你是第一次来！你从哪里得到的证书？我猜有人把它弄丢了。";
			close;
		}
		mes "[看起来]";
		mes "剪刀石头布是一款严肃的游戏。我们的练习伙伴什么时候来？";
		close;
	}
	if (!isequipped(2872)) {
		mes "[看起来]";
		mes "哦，^0000FF"+strcharinfo(0)+"^000000？想玩石头剪刀布游戏吗？";
		next;
		mes "[看起来]";
		mes "…………";
		next;
		mes "[看起来]";
		mes "您的 Cat 玩家证书在哪里？看起来没什么，但是没有它你就玩不了这个游戏！";
		next;
		mes "[看起来]";
		mes "请去拿证书。";
		close;
	}
	if (checkquest(5070,PLAYTIME) == 0 || checkquest(5070,PLAYTIME) == 1) {
		mes "[看起来]";
		mes "已经是明天了吗？我不这么认为！你看不懂时间吗？";
		close;
	} else if (checkquest(5070,PLAYTIME) == 2)
		erasequest 5070;
	mes "[看起来]";
	mes "哦，^0000FF"+strcharinfo(0)+"^000000？想玩石头剪刀布游戏吗？";
	next;
	switch(select("玩游戏。：打个招呼。：询问游戏规则。")) {
	case 1:
		mes "[看起来]";
		mes "好主意。";
		next;
		break;
	case 2:
		mes "[看起来]";
		mes "哦！好吧，嗨？但是，为什么现在呢？";
		next;
		mes "[看起来]";
		mes "啊……你无聊吗？你为什么不和我玩游戏呢？";
		next;
		mes "[看起来]";
		mes "嘿，你！不要忽视剪刀石头布游戏！";
		mes "我见过很多人在这个游戏中被踢屁股！";
		next;
		mes "[看起来]";
		mes "如果你不想成为他们那样的下场，最好记住我的话！~";
		close;
	case 3:
		mes "[看起来]";
		mes "你连这个游戏都不知道怎么玩？";
		mes "让我亲切地教你吧。";
		next;
		mes "[看起来]";
		mes "剪刀胜布，";
		emotion ET_SCISSOR;
		emotion ET_WRAP, playerattached();
		next;
		mes "[看起来]";
		mes "纸胜石，";
		emotion ET_WRAP;
		emotion ET_ROCK, playerattached();
		next;
		mes "[看起来]";
		mes "石头打败了剪刀。";
		emotion ET_ROCK;
		emotion ET_SCISSOR, playerattached();
		next;
		mes "[看起来]";
		mes "好的？现在明白了吗？";
		next;
		mes "[看起来]";
		mes "你必须和我一起打5场比赛。";
		mes "如果比赛打平的话我们再去！！";
		next;
		mes "[看起来]";
		mes "如果你打败我3次，我就送你一份礼物。好的？";
		next;
		mes "[看起来]";
		mes "好吧，那么。离开。";
		close;
	}
	setarray .@rps$[0], "Rock", "Paper", "Scissors";
	setarray .@emote[0], ET_ROCK, ET_WRAP, ET_SCISSOR;
	setarray .@count$[0],"First","Second","Third","Fourth","Last";
	while(1) {
		mes "[看起来]";
		mes .@count$[.@match]+"匹配~~";
		if (.@tie) {
			mes "结果是平的，所以我们再玩一次。";
			set .@tie,0;
		}
		mes "尽力而为吧！";
		next;
		mes "[Ser & "+strcharinfo(0)+"]";
		mes "岩石！纸！剪刀！";
		next;

		set .@pc,  select("石头:布:剪刀")-1;
		set .@npc, rand(3);
		emotion .@emote[.@pc], playerattached();
		emotion .@emote[.@npc];
		mes "["+strcharinfo(0)+"] "+.@rps$[.@pc];
		mes "--------------------------------";
		mes "[看起来]"+.@rps$[.@npc];
		if (.@pc == .@npc) {
			set .@tie,1;
			set .@result$, "Hmm, we are even. Let's play again.";
		} else if ((.@pc == 0 && .@npc == 2) || (.@pc == 1 && .@npc == 0) || (.@pc == 2 && .@npc == 1)) {
			set .@match, .@match+1;
			set .@win, .@win+1;
			set .@result$, "I lost!";
		} else {
			set .@match, .@match+1;
			set .@loss, .@loss+1;
			set .@result$, "So I win!!";
		}
		next;
		mes "[看起来]";
		mes "你是"+.@rps$[.@pc]+"，我是"+.@rps$[.@npc]+"~";
		mes .@result$;
		next;
		if (.@match == 5) break;
	}
	mes "[看起来]";
	mes "5场比赛全部结束！！";
	next;
	mes "[看起来]";
	mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
	mes "我赢了"+.@loss+"次，而你，"+strcharinfo(0)+"，赢了"+.@win+"次，对吧？";
	next;
	if (.@win > .@loss) {
		mes "[看起来]";
		mes strcharinfo(0)+"赢得了比赛。";
		next;
		mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
		next;
		mes "[看起来]";
		mes "这是一场很棒的比赛。我很钦佩你对游戏的热情。所以，我想把我珍贵的罐子送给你作为礼物。";
		next;
		switch(select("我不需要它！：谢谢。")) {
		case 1:
			mes "[看起来]";
			mes "拿走吧！按我说的做~";
			break;
		case 2:
			mes "[看起来]";
			mes "你很有礼貌。但遗憾的是，这就是我能给你的一切。";
			break;
		}
		next;
		mes "[看起来]";
		mes "再见~明天再来练习~";
		if (.@win == 5) {
			mes "哦！您赢得了全部 5 场比赛。这里还有一些额外的罐头。";
			getitem 12636,10; //Malang_Sp_Can
		} else
			getitem 12636,5; //Malang_Sp_Can
		setquest 5070;
		close;
	}
	mes "[看起来]";
	mes strcharinfo(0)+"已经输了。哈……哈……";
	next;
	mes "Ser变得非常傲慢。";
	next;
	mes "[看起来]";
	mes "你想和我一起玩吗？爵士？就你那本事？喵？";
	next;
	mes "[看起来]";
	mes "什么？展示？输了怎么能要求这样的事情呢？多去练习吧！！工作！！是的，我应该让你这样做！";
	next;
	setquest 5070;
	switch(rand(1,13)) {
	case 1:
		setquest 5074;
		mes "[看起来]";
		mes "唔。你认识一种叫Phen的鱼吗？你？是不是看起来就很美味的鱼呢？";
		next;
		mes "- 面包屑 -";
		mes "Ser擦掉嘴角的口水。";
		next;
		mes "[看起来]";
		mes "去抓 30 个芬。还给我 10 条鱼尾。把它们交给我们的猫主任，他会和它们一起做一道美味的菜肴。";
		close;
	case 2:
		setquest 5075;
		mes "[看起来]";
		mes "最近，我感到无力，感觉身上的负担太多了。我应该照顾好自己的健康。";
		next;
		mes "[看起来]";
		mes "现在是吃一些健康食品的时候了。";
		next;
		mes "[看起来]";
		mes "将 50 个马斯和 25 个牛奶交给我们的猫游戏玩家总监。他对健康食品有着丰富的知识。";
		close;
	case 3:
		setquest 5076;
		mes "[看起来]";
		mes "嗯...我们确实有一个竞争对手，你知道。他们是“狗与华尔兹”，当他们出现时一切都会出错。";
		next;
		mes "[看起来]";
		mes "我会要求你欺负他们，但我认为这是非法的......所以，请至少骚扰看起来相似的怪物。什么是好的目标？";
		next;
		mes "[看起来]";
		mes "哦，狗头人中的那个弓箭手！！我最讨厌那些了。去骚扰 30 名狗头人弓箭手，并向我们的猫玩家总监报告。";
		close;
	case 4:
		setquest 5077;
		mes "[看起来]";
		mes "赢得比赛最重要的是什么？就是速度。我们应该做什么才能变得更快？";
		next;
		mes "[看起来]";
		mes "我一直在想……对我们猫来说最好的办法显然就是抓老鼠。";
		next;
		mes "[看起来]";
		mes "你知道抽筋，对吧？那个蓝色的胖乎乎的生物……请去抓10个，并向我们的猫玩家总监报告。";
		close;
	case 5:
		setquest 5078;
		mes "[看起来]";
		mes "啊……我想要一些鸟类美食。哪一个最好吃？";
		next;
		mes "[看起来]";
		mes "挑剔？啊!它太小了。秃鹰怎么样？我不确定……佩科佩科？";
		next;
		mes "[看起来]";
		mes "好吧！请抓住 50 只 Peco Pecos 并将它们交给我们的 Cat Gamers 总监。今晚我们将举办一场鸟类美食派对。";
		close;
	case 6:
		setquest 5079;
		mes "[看起来]";
		mes "比赛前我太紧张了。当我紧张的时候我打得不好。在比赛开始之前我需要一些东西来冷静下来。";
		next;
		mes "[看起来]";
		mes "哦！这是正确的！纱！我小时候经常玩 Yarn。加入‘猫玩家’后就无法再有这样的放松了。";
		next;
		mes "[看起来]";
		mes "请给我拿20根纱线。为什么是20？还有很多其他猫也有同样的问题。我们的主管应该为您处理这件事。";
		close;
	case 7:
		setquest 5080;
		mes "[看起来]";
		mes "最近，我们的主管似乎一直在努力削减一些开支。还是经理在利用？";
		next;
		mes "[看起来]";
		mes "我们球员的常规零食已经减少。你应该去拿 30 个老鼠尾巴，然后把它们交给我们的猫玩家总监。";
		next;
		mes "[看起来]";
		mes "然后，我们将找出我们的经理是否贪婪。";
		close;
	case 8:
		setquest 5081;
		mes "[看起来]";
		mes "我这几天心情低落。我无法把100%的精力投入到游戏中。";
		next;
		mes "[看起来]";
		mes "这就是我们在这样的时刻需要的柠檬。";
		next;
		mes "[看起来]";
		mes "请给我拿5个柠檬。别忘了，我需要 5 个柠檬……我们的猫玩家总监应该知道如何处理它们。";
		close;
	case 9:
		setquest 5082;
		mes "[看起来]";
		mes "马兰多是猫居住的好地方。但是，当我们玩游戏时，它会变得很热。";
		next;
		mes "[看起来]";
		mes "当我们玩得很多时，天气会变得非常热，让我们难以忍受。你知道我们猫有多歇斯底里，对吧？";
		next;
		mes "[看起来]";
		mes "请给我们 10 块冰块或 10 块冰淇淋。我们的猫游戏玩家总监应该知道如何处理它们。";
		close;
	case 10:
		setquest 5083;
		mes "[看起来]";
		mes "我看得出你也需要休息一下。随意放松一会儿。去村子里散散步怎么样？我坚持~！";
		next;
		mes "[看起来]";
		mes "不过，光是在村子里走走也没什么意思。嗯……对！！你为什么不去见见一只名叫二鱼的猫呢？";
		next;
		mes "[看起来]";
		mes "哦！当你遇到猫时，一定要说“回来”。这就是密码。别忘了告诉我们的主任我一直和你在一起！！";
		close;
	case 11:
		setquest 5085;
		mes "[看起来]";
		mes "我看得出你也需要休息一下。随意放松一会儿。去村子里散散步怎么样？我坚持~！";
		next;
		mes "[看起来]";
		mes "不过，光是在村子里走走也没什么意思。嗯……对！！你为什么不去见见一只名叫斯图的猫呢？";
		next;
		mes "[看起来]";
		mes "哦！当你遇到猫时，一定要说“回来”。这就是密码。别忘了告诉我们的主任我一直和你在一起！！";
		close;
	case 12:
		setquest 5087;
		mes "[看起来]";
		mes "我看得出你也需要休息一下。随意放松一会儿。去村子里散散步怎么样？我坚持~！";
		next;
		mes "[看起来]";
		mes "不过，光是在村子里走走也没什么意思。嗯……对！！你为什么不去见见一只名叫番茄酱的猫呢？";
		next;
		mes "[看起来]";
		mes "哦！当你遇到猫时，一定要说“回来”。这就是密码。别忘了告诉我们的主任我一直和你在一起！！";
		close;
	case 13:
		setquest 5089;
		mes "[看起来]";
		mes "我看得出你也需要休息一下。随意放松一会儿。去村子里散散步怎么样？我坚持~！";
		next;
		mes "[看起来]";
		mes "不过，光是在村子里走走也没什么意思。嗯……对！！你为什么不去见见一只名叫埃夫的猫呢？";
		next;
		mes "[看起来]";
		mes "哦！当你遇到猫时，一定要说“回来”。这就是密码。别忘了告诉我们的主任我一直和你在一起！！";
		close;
	}
}

mal_in01,86,222,4	script	Paa#gamer	544,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	for(set .@i,5074; .@i<=5090; set .@i,.@i+1) {
		if (checkquest(.@i) > -1) {
			mes "[开启]";
			mes "你还没有做我们要求你做的事情喵。承诺就是承诺，你知道喵。";
			next;
			mes "[开启]";
			mes "完成后请喵喵去接受那边的猫玩家总监的检查。";
			close;
		}
	}
	if (malang_gamer < 20) {
		if (countitem(2872)) {
			mes "[开启]";
			mes "你看起来像个初来乍到的喵！证书哪里来的喵？有人丢了，我猜喵。";
			close;
		}
		mes "[开启]";
		mes "我们的练习伙伴什么时候来喵？我无聊喵。";
		close;
	}
	if (!isequipped(2872)) {
		mes "[开启]";
		mes "哦，^0000FF"+strcharinfo(0)+"^000000 喵？想玩石头剪刀布游戏喵？";
		next;
		mes "[开启]";
		mes "…………";
		next;
		mes "[开启]";
		mes "你的猫玩家证书喵在哪里？看似没什么，但是没有它你就玩不了这个游戏喵！";
		next;
		mes "[开启]";
		mes "去领证喵。";
		close;
	}
	if (checkquest(5070,PLAYTIME) == 0 || checkquest(5070,PLAYTIME) == 1) {
		mes "[开启]";
		mes "我们一天只能玩一次游戏喵。明天就来喵。";
		close;
	} else if (checkquest(5070,PLAYTIME) == 2)
		erasequest 5070;
	mes "[开启]";
	mes "哦，^0000FF"+strcharinfo(0)+"^000000 喵？想玩石头剪刀布游戏喵？";
	next;
	switch(select("玩游戏。：打个招呼。：询问游戏规则。")) {
	case 1:
		mes "[开启]";
		mes "好主意喵。";
		next;
		break;
	case 2:
		mes "[开启]";
		mes "你好喵~很高兴见到你喵~";
		next;
		mes "[开启]";
		mes "其他游戏只有一名猫玩家。但是，我们有两个剪刀石头布。你想知道为什么喵吗？";
		next;
		mes "[开启]";
		mes "Paa很友善喵。那么，我给你讲故事喵。";
		next;
		mes "[开启]";
		mes "猫爵士是我的双胞胎兄弟。我先出生，他却总说自己是喵长辈。不过，我不跟喵爵士打架。我是好兄弟喵。";
		next;
		mes "[开启]";
		mes "不管怎样，我和Ser是众所周知的职业玩家猫兄弟喵。大家都认识我们喵。";
		next;
		mes "[开启]";
		mes "你可以随意欣赏我喵。我允许你喵。";
		close;
	case 3:
		mes "[开启]";
		mes "想知道这个游戏怎么玩喵？我来教你，因为我是一只善良的猫喵~";
		next;
		mes "[开启]";
		mes "看来你没那么傻喵。所以，让我们跳过关于什么打败什么喵的部分。";
		next;
		mes "[开启]";
		mes "你一定要跟我打5场喵。如果比赛还喵的话我们就再去一次。";
		next;
		mes "[开启]";
		mes "如果你赢了3次，我就送你一份礼物喵~猫游戏总监这么说喵。";
		next;
		mes "[开启]";
		mes "这就是全部喵~但这并不是一个简单的游戏喵。尊重游戏喵~";
		close;
	}
	setarray .@rps$[0], "Rock", "Paper", "Scissors";
	setarray .@emote[0], ET_ROCK, ET_WRAP, ET_SCISSOR;
	setarray .@count$[0],"First","Second","Third","Fourth","Last";
	while(1) {
		mes "[开启]";
		mes .@count$[.@match]+"搭配~~喵。";
		if (.@tie) {
			mes "结果是平的，所以我们再玩喵。";
			set .@tie,0;
		}
		mes "尽力喵！";
		next;
		mes "[Ser & "+strcharinfo(0)+"]";
		mes "岩石！纸！剪刀！";
		next;

		set .@pc,  select("石头:布:剪刀")-1;
		set .@npc, rand(3);
		emotion .@emote[.@pc], playerattached();
		emotion .@emote[.@npc];
		mes "["+strcharinfo(0)+"] "+.@rps$[.@pc];
		mes "--------------------------------";
		mes "[看起来]"+.@rps$[.@npc];
		if (.@pc == .@npc) {
			set .@tie,1;
			set .@result$, "Hmm, we are even. Let's play again meow.";
		} else if ((.@pc == 0 && .@npc == 2) || (.@pc == 1 && .@npc == 0) || (.@pc == 2 && .@npc == 1)) {
			set .@match, .@match+1;
			set .@win, .@win+1;
			set .@result$, "I lost meow!";
		} else {
			set .@match, .@match+1;
			set .@loss, .@loss+1;
			set .@result$, "So I win meow!!";
		}
		next;
		mes "[开启]";
		mes "你是"+.@rps$[.@pc]+"，我是"+.@rps$[.@npc]+"~";
		mes .@result$;
		next;
		if (.@match == 5) break;
	}
	mes "[开启]";
	mes "喵！！ 5场比赛全部结束喵！！";
	next;
	mes "[开启]";
	mes "让我看看喵...";
	mes "我赢了"+.@loss+"次喵，而你，"+strcharinfo(0)+"赢了"+.@win+"次，对吧喵？";
	next;
	if (.@win > .@loss) {
		mes "[开启]";
		mes "你赢了喵。";
		next;
		mes "帕突然变得有礼貌了。";
		next;
		mes "[开启]";
		mes "很棒的游戏，真是喵。很佩服你对游戏的热情喵。所以，我想把我珍贵的Can作为礼物送给你喵。";
		next;
		switch(select("我不需要它！：谢谢。")) {
		case 1:
			mes "[开启]";
			mes "就拿走吧喵！！按我说的做喵~";
			break;
		case 2:
			mes "[开启]";
			mes "你真有礼貌喵。但是，遗憾的是，这就是我能给你的一切喵。";
			break;
		}
		next;
		mes "[开启]";
		mes "再见喵~明天再来多练习喵~";
		if (.@win == 5) {
			mes "哦！你赢了全部 5 场比赛喵。这里还有一些额外的罐头喵！";
			getitem 12636,10; //Malang_Sp_Can
		} else
			getitem 12636,5; //Malang_Sp_Can
		setquest 5070;
		close;
	}
	mes "[开启]";
	mes "你输了。喵……喵……";
	next;
	mes "Paa变得非常傲慢。";
	next;
	mes "[开启]";
	mes "你想和我一起玩吗？帕？就你那本事？喵？";
	next;
	mes "[开启]";
	mes "什么？现在喵？怎么能要求这种事喵？你输了喵！多去练习吧！！工作！！是的，我应该让你做这个喵！！";
	next;
	setquest 5070;
	switch(rand(1,13)) {
	case 1:
		setquest 5074;
		mes "[开启]";
		mes "唔。你认识一种叫Phen meow的鱼吗？你？是不是看起来很好吃的鱼喵？";
		next;
		mes "- 面包屑 -";
		mes "帕擦掉嘴角的口水。";
		next;
		mes "[开启]";
		mes "去抓 30 只芬喵吧。还有给我10条鱼尾喵。把它们带到我们的猫主任那里，他会和它们一起做一道美味的菜肴喵。";
		close;
	case 2:
		setquest 5075;
		mes "[开启]";
		mes "最近，我感觉自己很无力，身上的负担太重了喵。我要照顾好自己的健康喵。";
		next;
		mes "[开启]";
		mes "现在是时候吃点健康食品了。";
		next;
		mes "[开启]";
		mes "将 50 个马斯和 25 个牛奶交给我们的猫玩家总监喵。他对健康食品有着丰富的知识喵。";
		close;
	case 3:
		setquest 5076;
		mes "[开启]";
		mes "我们确实有一个对手，你知道喵。它们是“狗与华尔兹”，当它们喵喵叫时，一切都会变得不对劲。";
		next;
		mes "[开启]";
		mes "我会要求你欺负它们，但我认为这是非法的喵……所以，我会要求你骚扰长相相似的怪物喵。";
		next;
		mes "[开启]";
		mes "哦，狗头人中的那个弓箭手喵！！我最讨厌那些了。去骚扰30个狗头人弓箭手，然后向我们的猫玩家总监喵报告。";
		close;
	case 4:
		setquest 5077;
		mes "[开启]";
		mes "赢得比赛最重要的是什么喵？就是速度。我们应该怎么做才能让喵得更快？";
		next;
		mes "[开启]";
		mes "我一直在想喵……对我们猫来说最好的办法显然就是捉老鼠喵。";
		next;
		mes "[开启]";
		mes "你知道抽筋，对吧喵？那个蓝色的胖乎乎的生物喵……请去抓10只，并向我们的猫玩家总监喵汇报。";
		close;
	case 5:
		setquest 5078;
		mes "[开启]";
		mes "Chrub...我想要一些鸟类美食喵。哪一个最好吃喵？";
		next;
		mes "[开启]";
		mes "挑剔？啊!太小了喵秃鹰怎么样？我不确定……佩科佩科喵？";
		next;
		mes "[开启]";
		mes "好啦喵！请抓住 50 只 Peco Pecos 并将它们交给我们的猫玩家总监喵。今晚我们要举办一场鸟类美食派对喵。";
		close;
	case 6:
		setquest 5079;
		mes "[开启]";
		mes "比赛前太紧张喵。而且一紧张就打不好喵。比赛开始前我需要一些东西来冷静下来喵。";
		next;
		mes "[开启]";
		mes "哦！就是这样喵！纱喵！我小时候经常玩Yarn喵。加入“猫玩家”喵喵后，再也无法享受那种放松了。";
		next;
		mes "[开启]";
		mes "请给我买20根纱线喵。为什么是20？还有很多其他猫也有同样的问题喵。我们主任应该替你处理好喵。";
		close;
	case 7:
		setquest 5080;
		mes "[开启]";
		mes "最近我们总监好像在努力削减一些开支喵。还是经理在占便宜喵？";
		next;
		mes "[开启]";
		mes "我们玩家的常规零食已经减少了喵。你应该去拿30个老鼠尾巴，然后把它们交给我们的猫玩家总监喵。";
		next;
		mes "[开启]";
		mes "然后，我们会发现我们的经理是否贪婪或不喵。";
		close;
	case 8:
		setquest 5081;
		mes "[开启]";
		mes "我这几天心情低落喵。我不能把我100%的精力都投入到游戏中喵。";
		next;
		mes "[开启]";
		mes "这就是我们在这种喵喵时代需要的柠檬。";
		next;
		mes "[开启]";
		mes "给我拿5个柠檬喵。别忘了，我需要 5 个柠檬喵……我们的猫玩家总监应该知道如何处理它们喵。";
		close;
	case 9:
		setquest 5082;
		mes "[开启]";
		mes "马兰多是猫喵喵生活的好地方。但是，我们玩游戏的时候会很热喵。";
		next;
		mes "[开启]";
		mes "当我们玩得很多时，天气变得非常热，让我们难以忍受喵。你知道我们猫有多歇斯底里，对吧喵？";
		next;
		mes "[开启]";
		mes "给我 10 块冰块或 10 块冰淇淋。我们的猫玩家总监应该知道如何对待它们喵。";
		close;
	case 10:
		setquest 5083;
		mes "[开启]";
		mes "我看你也需要休息喵。随意放松一下喵。去村里喵喵散步怎么样？我坚持喵~！";
		next;
		mes "[开启]";
		mes "不过，光是在村喵里走走也没什么好玩的。嗯……对了喵！！你为什么不去见见一只叫二鱼喵的猫呢？";
		next;
		mes "[开启]";
		mes "哦！当你遇到猫时，一定要说“回来”喵。那就是密码喵。还有别忘了告诉我们的导演我一直都在你身边喵！！";
		close;
	case 11:
		setquest 5085;
		mes "[开启]";
		mes "我看你也需要休息喵。随意放松一下喵。去村里喵喵散步怎么样？我坚持喵~！";
		next;
		mes "[开启]";
		mes "不过，光是在村喵里走走也没什么好玩的。嗯……对了喵！！你为什么不去见见一只名叫Stew Meow的猫呢？";
		next;
		mes "[开启]";
		mes "哦！当你遇到猫时，一定要说“回来”喵。那就是密码喵。还有别忘了告诉我们的导演我一直都在你身边喵！！";
		close;
	case 12:
		mes "[开启]";
		mes "我看你也需要休息喵。随意放松一下喵。去村里喵喵散步怎么样？我坚持喵~！";
		next;
		mes "[开启]";
		mes "不过，光是在村喵里走走也没什么好玩的。嗯……对了喵！！你为什么不去见见一只名叫番茄酱喵的猫呢？";
		next;
		mes "[开启]";
		mes "哦！当你遇到猫时，一定要说“回来”喵。那就是密码喵。还有别忘了告诉我们的导演我一直都在你身边喵！！";
		close;
	case 13:
		mes "[开启]";
		mes "我看你也需要休息喵。随意放松一下喵。去村里喵喵散步怎么样？我坚持喵~！";
		next;
		mes "[开启]";
		mes "不过，光是在村喵里走走也没什么好玩的。嗯……对了喵！！你为什么不去见见一只名叫艾夫喵的猫呢？";
		next;
		mes "[开启]";
		mes "哦！当你遇到猫时，一定要说“回来”喵。那就是密码喵。还有别忘了告诉我们的导演我一直都在你身边喵！！";
		close;
	}
}

mal_in01,91,222,4	script	Kuka#gamer	422,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	for(set .@i,5074; .@i<=5090; set .@i,.@i+1) {
		if (checkquest(.@i) > -1) {
			mes "[布谷鸟]";
			mes "你还没有完成我们要求你做的事情哟~。承诺就是承诺，你懂的~。";
			next;
			mes "[布谷鸟]";
			mes "完成后，请那边的猫猫游戏总监检查一下哟~";
			close;
		}
	}
	if (malang_gamer < 20) {
		if (countitem(2872)) {
			mes "[布谷鸟]";
			mes "看来你是初来乍到哟~你从哪里得到的证书哟~你最好把证书还给我哟~";
			close;
		}
		mes "[布谷鸟]";
		mes "猫猫总监说练习伙伴要来哟~可是，那个人类没有出现哟~我好无聊哟~";
		close;
	}
	if (!isequipped(2872)) {
		mes "[布谷鸟]";
		mes "哦伟大的会员你，^0000FF"+strcharinfo(0)+"^000000>~我们来玩ChamChamCham哟~";
		next;
		mes "[布谷鸟]";
		mes "…………";
		next;
		mes "[布谷鸟]";
		mes "但是，你没有证书哟~证书可以帮你保存游戏记录哟~你一定要有！哟~";
		next;
		mes "[布谷鸟]";
		mes "请去领取证书哟~";
		close;
	}
	if (checkquest(5071,PLAYTIME) == 0 || checkquest(5071,PLAYTIME) == 1) {
		mes "[布谷鸟]";
		mes "还不是明天哟~一天玩一局哟~明天再来哟~";
		close;
	} else if (checkquest(5071,PLAYTIME) == 2)
		erasequest 5071;
	mes "[布谷鸟]";
	mes "哦伟大的会员你，^0000FF"+strcharinfo(0)+"^000000>~我们来玩ChamChamCham哟~";
	next;
	switch(select("玩游戏。：问谁是第一名。：询问游戏规则。")) {
	case 1:
		mes "[布谷鸟]";
		mes "不错的选择哟~";
		next;
		break;
	case 2:
		// custom condition
		if (!$malangdo_gamer) {
			mes "[布谷鸟]";
			mes "ChamChamCham 比赛记录没人保持哟~";
			mes "你可能是第一个哟~";
			close;
		}
		mes "[布谷鸟]";
		mes "目前 ChamChamCham 比赛的第一名是";
		mes "^0000FF"+$malangdo_gamer$+"^000000与^DE2B21"+$malangdo_gamer+"^000000连胜哟~";
		if (strcharinfo(0) == $malangdo_gamer$)
			mes "不知道什么时候会有人打破记录哟~";
		else
			mes "我希望你"+strcharinfo(0)+"有一天能打败^0000FF"+$malangdo_gamer$+"^000000哟~";
		close;
	case 3:
		mes "[布谷鸟]";
		mes "ChamChamCham游戏规则很简单哟~";
		mes "把手朝着我脸的方向就可以了哟~";
		next;
		cutin "g_cat_01",4;
		mes "[布谷鸟]";
		mes "像这样哟~";
		next;
		cutin "g_cat_03",4;
		mes "[布谷鸟]";
		mes "或者这样哟~";
		next;
		cutin "",255;
		mes "[布谷鸟]";
		mes "赢3次即可获赠一份礼物哟~";
		mes "如果你打破了之前的记录，你会得到一份更大的礼物哟~";
		next;
		mes "[布谷鸟]";
		mes "练习赛见哟~";
		close;
	}
	while(1) {
		cutin "g_cat_00",4;
		mes "[谁&"+strcharinfo(0)+"]";
		mes "湛！";
		next;
		mes "[谁&"+strcharinfo(0)+"]";
		mes "湛！湛！";
		next;
		mes "[谁&"+strcharinfo(0)+"]";
		mes "湛！湛！湛！";
		next;
		switch(select("手向左：手向右")) {
		case 1:
			if (rand(1000) < 500) {
				cutin "g_cat_01",4;
				set .@win, .@win+1;
			} else {
				cutin "g_cat_02",4;
				set .@loss,1;
			}
			break;
		case 2:
			if (rand(1000) < 500) {
				cutin "g_cat_03",4;
				set .@win, .@win+1;
			} else {
				cutin "g_cat_04",4;
				set .@loss,1;
			}
			break;
		}
		if (.@loss) {
			mes "[布谷鸟]";
			mes "呵呵~赢了哟~感觉不错哟~";
			next;
			cutin "",255;
			break;
		}
		mes "[布谷鸟]";
		mes "嗯~输了哟~多练练吧~";
		next;
		cutin "",255;
		mes "[布谷鸟]";
		mes strcharinfo(0)+"已经赢了"+.@win+"次哟~下一场比赛开始哟~";
		next;
	}
	if (.@win == 0) {
		// fall through
	} else if (.@win > 0 && .@win < 3) {
		setquest 5071;
		mes "[布谷鸟]";
		mes "经过练习，"+strcharinfo(0)+"连续获得了"+.@win+"哟~";
		mes "礼物是为了3胜以上哟~今天没什么哟~不过，明天再来哟~";
		close;
	} else {
		set .@name_record$, $malangdo_gamer$;
		set .@win_record, $malangdo_gamer;
		set .@win_cnt, .@win-.@win_record;
		set .@cans, .@win-2;
		if (.@win > .@win_record) {
			set $malangdo_gamer$, strcharinfo(0);
			set $malangdo_gamer, .@win;
			mes "[布谷鸟]";
			mes "恭喜你~你连续赢得了^DE2B21"+.@win+"^000000哟~";
			if (strcharinfo(0) == .@name_record$)
				mes "您赢得的^DE2B21"+.@win_cnt+"^000000比最近的^DE2B21"+.@win_record+"^000000记录哟~恭喜哟~";
			// custom conditions
			//else
			else if (.@win_record)
				mes "并且您赢得的^DE2B21>"+.@win_cnt+"^000000超过^0000FF"+.@name_record$+"^000000的^DE2B21"+.@win_record+"^000000连胜哟~新纪录哟~恭喜哟~";
			else
				mes "新纪录哟~恭喜你~";
			next;
			mes "[布谷鸟]";
			mes "我会随机赠送1个零钱袋作为特别礼物哟~干得好哟~明天再来哟~";
			setquest 5071;
			getitem 12636, .@cans; //Malang_Sp_Can
			getitem 12621,1; //Egrade_Pocket
			close;
		} else {
			mes "[布谷鸟]";
			mes "恭喜你~赢得"+.@win+"次我会给你"+.@cans+"罐哟~干得好哟~明天再来哟~";
			setquest 5071;
			getitem 12636, .@cans; //Malang_Sp_Can
			close;
		}
	}
	mes "[布谷鸟]";
	mes strcharinfo(0)+"根本没赢哟~一定要努力哟~";
	next;
	setquest 5071;
	switch(rand(1,13)) {
	case 1:
		setquest 5074;
		mes "[布谷鸟]";
		mes "库卡要你钓到美味的芬斯哟~";
		next;
		mes "- 面包屑 -";
		mes "库卡擦掉嘴角的口水。";
		next;
		mes "[布谷鸟]";
		mes "钓30条鱼哟~还送我10条鱼尾哟~拿去给我们的猫总监，他会用它们做一道美味的菜肴哟~";
		close;
	case 2:
		setquest 5075;
		mes "[布谷鸟]";
		mes "最近感觉很无力，感觉自己的体重太重了哟~我要注意身体哟~";
		next;
		mes "[布谷鸟]";
		mes "是时候吃点健康食品了哟~";
		next;
		mes "[布谷鸟]";
		mes "将 50 个马斯和 25 个牛奶交给我们的猫玩家总监哟~。他对健康食品有着丰富的知识哟~。";
		close;
	case 3:
		setquest 5076;
		mes "[布谷鸟]";
		mes "我们有对手哟~《Dog n Waltz》哟~";
		next;
		mes "[布谷鸟]";
		mes "我想骚扰类似的暴徒哟~";
		next;
		mes "[布谷鸟]";
		mes "狗头人中有一个弓箭手哟~骚扰30个狗头人弓箭手，向我们的猫玩家总监汇报哟~";
		close;
	case 4:
		setquest 5077;
		mes "[布谷鸟]";
		mes "速度对于赢得比赛很重要哟~努力提高速度哟~";
		next;
		mes "[布谷鸟]";
		mes "抓老鼠是训练速度的最佳运动哟~";
		next;
		mes "[布谷鸟]";
		mes "抓到10只蓝色胖乎乎的抽筋，向我们的猫玩家总监汇报哟~";
		close;
	case 5:
		setquest 5078;
		mes "[布谷鸟]";
		mes "我好想吃鸟菜哟~鸟菜太好吃了哟~";
		next;
		mes "[布谷鸟]";
		mes "挑剔太小了，神鹰不好吃哟~佩科佩科怎么样哟~？";
		next;
		mes "[布谷鸟]";
		mes "好的哟~抓到50只佩科佩科斯并向我们的猫玩家总监汇报哟~今晚我们将举办鸟类美食派对哟~";
		close;
	case 6:
		setquest 5079;
		mes "[布谷鸟]";
		mes "比赛前太紧张了哟~。而且一紧张就打不好哟~。比赛开始之前我需要一些东西来冷静一下哟~。";
		next;
		mes "[布谷鸟]";
		mes "纱线对于放松很有用哟~";
		next;
		mes "[布谷鸟]";
		mes "获取20根纱线哟~还有很多其他猫咪也有同样的问题哟~猫玩家总监会照顾它们的哟~";
		close;
	case 7:
		setquest 5080;
		mes "[布谷鸟]";
		mes "最近我们总监好像在削减一些开支哟~或者是猫经理占了便宜哟~";
		next;
		mes "[布谷鸟]";
		mes "我们玩家的日常零食减少了哟~"+strcharinfo(0)+"应该去拿30个鼠尾，并向我们的猫玩家总监汇报哟~";
		next;
		mes "[布谷鸟]";
		mes "那我们就看看我们的经理是不是贪心了哟~";
		close;
	case 8:
		setquest 5081;
		mes "[布谷鸟]";
		mes "我这几天心情低落哟~无法把100%的精力投入到游戏中。";
		next;
		mes "[布谷鸟]";
		mes "这就是我们这个时候需要的柠檬哟~";
		next;
		mes "[布谷鸟]";
		mes "给我拿5个柠檬哟~别忘了，我需要5个柠檬哟~我们的猫玩家总监应该知道怎么处理它们哟~";
		close;
	case 9:
		setquest 5082;
		mes "[布谷鸟]";
		mes "马兰多是个养猫的好地方哟~不过，我们玩游戏的时候会很热哟~";
		next;
		mes "[布谷鸟]";
		mes "玩多了，真的很热哟~疯猫好吓人哟~我们需要冰块或者冰淇淋哟~";
		next;
		mes "[布谷鸟]";
		mes "给我们10个冰块或者10个冰淇淋，然后向我们的猫玩家总监汇报哟~";
		close;
	case 10:
		setquest 5083;
		mes "[布谷鸟]";
		mes "猫玩家 导演的命令哟~找到害怕导演的二羽哟~";
		next;
		mes "[布谷鸟]";
		mes "你一定要找到二鱼，告诉他‘回来’哟~向我们的猫玩家总监汇报哟~";
		close;
	case 11:
		setquest 5085;
		mes "[布谷鸟]";
		mes "猫玩家 导演的命令哟~找害怕导演的斯图哟~";
		next;
		mes "[布谷鸟]";
		mes "你一定要找到斯图，告诉他‘回来’哟~向我们的猫玩家总监汇报哟~";
		close;
	case 12:
		setquest 5087;
		mes "[布谷鸟]";
		mes "猫玩家 导演的命令哟~找到害怕导演的番茄酱哟~";
		next;
		mes "[布谷鸟]";
		mes "你一定要找到番茄酱，告诉他‘回来’哟~向我们的猫玩家总监汇报哟~";
		close;
	case 13:
		setquest 5089;
		mes "[布谷鸟]";
		mes "猫玩家 导演的命令哟~找到害怕导演的Eff哟~";
		next;
		mes "[布谷鸟]";
		mes "你一定要找到Eff，告诉他‘回来’哟~向我们的猫玩家总监汇报哟~";
		close;
	}
}

mal_in01,134,221,4	script	KungKung#gamer	422,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	for(set .@i,5074; .@i<=5090; set .@i,.@i+1) {
		if (checkquest(.@i) > -1) {
			mes "[功夫]";
			mes "你没有遵守你的诺言。我跟你没有任何关系。";
			close;
		}
	}
	if (malang_gamer < 20) {
		if (countitem(2872)) {
			mes "[功夫]";
			mes "你没有资格。嗯...我不知道你是怎么得到这个的，但我们不能和你一起练习。回去。";
			close;
		}
		mes "[功夫]";
		mes "别打扰我。我正在等待我的练习伙伴。";
		close;
	}
	if (!isequipped(2872)) {
		mes "[功夫]";
		mes "你是练习伙伴吗？你迟到了。让我们立即开始吧。";
		next;
		mes "[功夫]";
		mes "…………";
		next;
		mes "[功夫]";
		mes "你的证书在哪里？除非您拥有该证书，否则您不能与我们一起练习。去拿吧。";
		close;
	}
	if (checkquest(5072,PLAYTIME) == 0 || checkquest(5072,PLAYTIME) == 1) {
		mes "[功夫]";
		mes "你没有手表吗？或者看不懂时间？现在还不是时候。";
		close;
	} else if (checkquest(5072,PLAYTIME) == 2)
		erasequest 5072;
	mes "[功夫]";
	mes "你是练习伙伴吗？你迟到了。让我们立即开始吧。";
	next;
	switch(select("玩游戏。：询问当前第一名。：询问游戏规则。")) {
	case 1:
		mes "[功夫]";
		mes "比赛前，我们会通过掷骰子来决定回合。";
		next;
		break;
	case 2:
		mes "[功夫]";
		mes "为什么你想知道第一名？ KongNyangKong 是一款残酷而艰难的比赛游戏。库卡应该知道这样的事情！";
		close;
	case 3:
		mes "[功夫]";
		mes "你想了解游戏规则吗？";
		mes "你问问题的方式似乎很有礼貌。";
		mes "仔细听。";
		next;
		mes "[功夫]";
		mes "KongNyangKong在进攻和防守时有不同的游戏规则。";
		next;
		mes "[功夫]";
		mes "攻击时，必须将手转向与对手同一侧，才能完成攻击。";
		next;
		cutin "cat_g_01",4;
		mes "[功夫]";
		mes "如果我们像这样转动双手，那么你的攻击就成功了。";
		next;
		cutin "",255;
		mes "[功夫]";
		mes "防守时，必须将手转向对手的另一侧，以保护自己。";
		next;
		cutin "cat_g_06",4;
		mes "[功夫]";
		mes "是的！如果你像这样将你的手转向我的对面，你就成功地保护了自己。";
		next;
		cutin "",255;
		mes "[功夫]";
		mes "如果你足够聪明，你应该知道下面的手牌是攻击者的手牌。";
		next;
		mes "[功夫]";
		mes "最后的！！最重要的规则。";
		mes "一旦攻击成功，就可以继续攻击对手。";
		mes "当你失败时，你就站在防守方。";
		mes "不要忘记这一点！";
		next;
		mes "[功夫]";
		mes "您可以随时询问 KongNyangKong 规则！";
		mes "我们的猫经理也了解 KongNyangKong 的所有规则。";
		mes "仅此而已！";
		close;
	}
	while(1) {
		set .@pc_dic,  rand(6);
		set .@npc_dic, rand(6);

		// Emote[58-63]:
		// ET_DICE1, ET_DICE2, ET_DICE3, ET_DICE4, ET_DICE5, ET_DICE6
		emotion ET_DICE1+.@pc_dic, playerattached();
		emotion ET_DICE1+.@npc_dic;

		if (.@pc_dic > .@npc_dic) {
			mes "[功夫]";
			mes "你的骰子掷数更高。你可以先进攻。";
			set .@attack_turn,1;
			next;
			break;
		} else if (.@pc_dic < .@npc_dic) {
			mes "[功夫]";
			mes "我的骰子掷数更高。我先进攻。";
			set .@attack_turn,2;
			next;
			break;
		} else {
			mes "[功夫]";
			mes "我们有偶数。让我们再掷一次骰子。";
			next;
		}
	}
	set .@pc_hp,100;
	set .@npc_hp,100;
	while(1) {
		if (!.@pc_hp || !.@npc_hp) break;
		mes strcharinfo(0)+" (^FF0000"+.@pc_hp+"^000000/100)";
		mes "--------------------------------";
		mes "KungKung (^FF0000"+.@npc_hp+"^000000/100)";
		next;
		mes "[功夫&"+strcharinfo(0)+"]";
		mes "金刚！";
		emotion ET_BLABLA, playerattached();
		emotion ET_BLABLA;
		next;
		mes "[功夫&"+strcharinfo(0)+"]";
		mes "金刚！馕！";
		emotion ET_BLABLA, playerattached();
		emotion ET_BLABLA;
		next;
		mes "[功夫&"+strcharinfo(0)+"]";
		mes "金刚！馕！金刚！";
		emotion ET_BLABLA, playerattached();
		emotion ET_BLABLA;
		next;
		set .@cat_hand, rand(1,10);
		switch(.@attack_turn) {
		case 1: // Attack
			mes "你想怎么攻击？";
			mes " ";
			mes "&#65533;&#65533; 提示!!";
			mes "选择后退：^FF0000如果猫露出爪子的背面，您就赢了。^000000";
			mes "选择手掌：^FF0000如果猫展示其爪子的手掌，您就赢了。^000000";
			next;
			switch(select("背部：手掌")) {
			case 1:
				if (.@cat_hand <= 5) {
					set .@npc_hp, .@npc_hp-10;
					cutin "cat_g_01",4;
					specialeffect EF_BASH;
					mes "攻击成功了。";
					mes "你拍打了 KungKung 的爪背。";
					next;
					cutin "",255;
				} else {
					set .@attack_turn,2;
					cutin "cat_g_02",4;
					mes "攻击失败了。";
					mes "KungKung现在开始攻击。";
					next;
					cutin "",255;
				}
				break;
			case 2:
				if (.@cat_hand <= 5) {
					set .@attack_turn,2;
					cutin "cat_g_03",4;
					mes "攻击失败了。";
					mes "KungKung现在开始攻击。";
					next;
					cutin "",255;
				} else {
					set .@npc_hp, .@npc_hp-10;
					cutin "cat_g_04",4;
					specialeffect EF_BASH;
					mes "攻击成功了。";
					mes "你拍打了 KungKung 的爪背。";
					next;
					cutin "",255;
				}
				break;
			}
			break;
		case 2: // Defend
			mes "你想怎样防守？";
			mes " ";
			mes "&#65533;&#65533; 提示!!";
			mes "选择后退：^FF0000如果猫露出爪子的背面，您就赢了。^000000";
			mes "选择手掌：^FF0000如果猫展示其爪子的手掌，您就赢了。^000000";
			next;
			switch(select("背部：手掌")) {
			case 1:
				if (.@cat_hand <= 5) {
					set .@pc_hp, .@pc_hp-10;
					cutin "cat_g_05",4;
					specialeffect2 EF_BASH;
					mes "防守失败了。";
					mes "KungKung 用锋利的爪子攻击你的手背。";
					next;
					cutin "",255;
				} else {
					set .@attack_turn,1;
					cutin "cat_g_06",4;
					mes "防守很成功。";
					mes "你现在可以开始攻击了。";
					next;
					cutin "",255;
				}
				break;
			case 2:
				if (.@cat_hand <= 5) {
					set .@attack_turn,1;
					cutin "cat_g_07",4;
					mes "防守很成功。";
					mes "你现在可以开始攻击了。";
					next;
					cutin "",255;
				} else {
					set .@pc_hp, .@pc_hp-10;
					cutin "cat_g_08",4;
					specialeffect2 EF_BASH;
					mes "防守失败了。";
					mes "KungKung 用锋利的爪子攻击你的手背。";
					next;
					cutin "",255;
				}
				break;
			}
			break;
		}
	}
	if (.@npc_hp == 0) {
		mes "[功夫]";
		mes "我输了。这确实是一场好比赛。";
		mes "如果能赢就更好了，但我太忙了，无暇回顾过去。";
		next;
		cutin "cat_g_lose",4;
		mes "[功夫]";
		mes "哭泣...";
		emotion ET_CRY;
		next;
		cutin "",255;
		mes "[功夫]";
		mes "嗯……我想那是没有必要的。";
		mes "这是给你的，人类！";
		setquest 5072;
		getitem 12636,5; //Malang_Sp_Can
		next;
		mes "[功夫]";
		mes "明天再来吧。下次我会打败你的。";
		close2;
		cutin "",255;
		end;
	}
	cutin "cat_g_win",4;
	mes "[功夫]";
	mes "我赢了。这是一场无聊的比赛。";
	mes "你需要多练习。也许一些额外的工作会有所帮助。";
	next;
	setquest 5072;
	switch(rand(1,13)) {
	case 1:
		setquest 5074;
		mes "[功夫]";
		mes "捕获美味的鱼 Phen。";
		next;
		mes "[功夫]";
		mes "去抓 30 个芬。还给我 10 条鱼尾。把它们交给我们的猫主任，他会用它们做一道美味的菜肴。";
		break;
	case 2:
		setquest 5075;
		mes "[功夫]";
		mes "我可能锻炼得太多了……我感到无能为力，身上的负担太多了。我应该照顾好自己的健康。";
		next;
		mes "[功夫]";
		mes "我已经10岁了，是时候吃一些健康的食物了。";
		next;
		mes "[功夫]";
		mes "将 50 个马斯和 30 个牛奶交给我们的猫游戏玩家总监。他对健康食品有着丰富的知识。";
		break;
	case 3:
		setquest 5076;
		mes "[功夫]";
		mes "我们有一个竞争对手。 “Dog n Waltz”团队...当他们出现时，一切都出了问题。";
		next;
		mes "[功夫]";
		mes "我想让你欺负他们，但那是违法的......";
		next;
		mes "[功夫]";
		mes "去骚扰 30 名狗头人弓箭手，而不是“狗与华尔兹”，并向我们的猫游戏玩家总监报告。";
		break;
	case 4:
		setquest 5077;
		mes "[功夫]";
		mes "速度对于赢得比赛来说是最重要的。为了更好的速度...";
		next;
		mes "[功夫]";
		mes "抓老鼠是最好的。现在是抽筋狩猎时间。";
		next;
		mes "[功夫]";
		mes "出现 10 次抽筋，并向我们的猫玩家总监报告。";
		break;
	case 5:
		setquest 5078;
		mes "[功夫]";
		mes "我想要一些鸟类菜肴。你以前尝过吗？";
		next;
		mes "[功夫]";
		mes "佩科佩科对我来说听起来很好吃。我不喜欢一个人吃饭，所以...";
		next;
		mes "[功夫]";
		mes "Error 500 (Server Error)!!1500.That’s an error.There was an error. Please try again later.That’s all we know.";
		break;
	case 6:
		setquest 5079;
		mes "[功夫]";
		mes "保持冷静是赢得重要比赛的关键。";
		next;
		mes "[功夫]";
		mes "没有一只猫小时候没有和 Yarn 一起玩过。";
		next;
		mes "[功夫]";
		mes "获取 20 根纱线，并向我们的猫玩家总监报告。这将有助于提高我们团队的能力。";
		break;
	case 7:
		setquest 5080;
		mes "[功夫]";
		mes "我坚信我们的猫经理正在利用我们的零食。";
		next;
		mes "[功夫]";
		mes "我们需要的只是证据...获取 30 个老鼠尾巴，然后向我们的猫玩家总监报告。";
		next;
		mes "[功夫]";
		mes "然后，我们就来看看猫经理是否做错了什么。";
		break;
	case 8:
		setquest 5081;
		mes "[功夫]";
		mes "练习还可以，但这几天我似乎陷入了低迷。";
		next;
		mes "[功夫]";
		mes "在这样的时刻，我们需要喝点柠檬。";
		next;
		mes "[功夫]";
		mes "将 5 个柠檬交给我们的猫玩家总监。他会知道该怎么做。";
		break;
	case 9:
		setquest 5082;
		mes "[功夫]";
		mes "马兰多是猫居住的好地方。但是，很容易发热。";
		next;
		mes "[功夫]";
		mes "在这样炎热的天气里，我们可以吃一些冰块或冰淇淋。";
		next;
		mes "[功夫]";
		mes "获得 10 个冰块或 10 个冰淇淋。我们的猫游戏玩家总监应该知道如何处理它们。";
		break;
	case 10:
		setquest 5083;
		mes "[功夫]";
		mes "我们的猫玩家总监这样问。我应该让你做这个差事。";
		next;
		mes "[功夫]";
		mes "找到来自马兰多的猫 Eryu，并大声而清晰地说“回来”。";
		next;
		mes "[功夫]";
		mes "之后，您可以向我们的 Cat Gamers 总监汇报。走开你就走吧！！";
		break;
	case 11:
		setquest 5085;
		mes "[功夫]";
		mes "我们的猫玩家总监这样问。我应该让你做这个差事。";
		next;
		mes "[功夫]";
		mes "找到来自马兰多的猫斯图，然后大声而清晰地说“回来”。";
		next;
		mes "[功夫]";
		mes "之后，您可以向我们的 Cat Gamers 总监汇报。走开你就走吧！！";
		break;
	case 12:
		setquest 5087;
		mes "[功夫]";
		mes "我们的猫玩家总监这样问。我应该让你做这个差事。";
		next;
		mes "[功夫]";
		mes "找到来自马兰多的猫番茄酱，然后大声而清晰地说“回来”。";
		next;
		mes "[功夫]";
		mes "之后，您可以向我们的 Cat Gamers 总监汇报。走开你就走吧！！";
		break;
	case 13:
		setquest 5089;
		mes "[功夫]";
		mes "我们的猫玩家总监这样问。我应该让你做这个差事。";
		next;
		mes "[功夫]";
		mes "找到来自马兰多的猫埃夫，然后大声而清晰地说“回来”。";
		next;
		mes "[功夫]";
		mes "之后，您可以向我们的 Cat Gamers 总监汇报。走开你就走吧！！";
		break;
	}
	close2;
	cutin "",255;
	end;
}

mal_in01,133,214,6	script	Leader#gamer	546,{
	if (MaxWeight - Weight < 1000) {
		mes "您的库存太重，无法继续。减轻负担后再回来。";
		close;
	}
	if (checkweight(1201,1) == 0) {
		mes "您的库存太满，无法继续。减轻负担后再回来。";
		close;
	}
	for(set .@i,5074; .@i<=5090; set .@i,.@i+1) {
		if (checkquest(.@i) > -1) {
			mes "[领袖]";
			mes "除非您完成了指定的工作，否则您不能挑战此标记游戏。";
			close;
		}
	}
	if (malang_gamer < 20) {
		if (countitem(2872)) {
			mes "[领袖]";
			mes "并不是每个人只要有证书就可以挑战。";
			close;
		}
		mes "[领袖]";
		mes "好吧，让我们练习吧，直到挑战者到来！！";
		close;
	}
	if (!isequipped(2872)) {
		mes "[领袖]";
		mes "你想挑战吗？";
		next;
		mes "[领袖]";
		mes "…………";
		next;
		mes "[领袖]";
		mes "除非您佩戴我们的证书物品，否则您无法挑战此旗帜游戏。请稍后再回来。";
		close;
	}
	if (checkquest(5073) == 0 || checkquest(5073) == 1) {
		mes "[领袖]";
		mes "夺旗游戏每天仅开放一次。";
		close;
	} else if (checkquest(5073) == 2)
		erasequest 5073;
	mes "[领袖]";
	mes "你想挑战吗？";
	next;
	switch(select("挑战：你是谁？：询问规则。")) {
	case 1:
		mes "[领袖]";
		mes "让我们来挑战夺旗游戏吧。请稍候，我们的猫正在准备。";
		next;
		break;
	case 2:
		mes "[领袖]";
		mes "哦！我从“猫玩家”退役，正在考取国家比赛裁判执照。许可证是当今的新趋势。";
		next;
		mes "[领袖]";
		mes "裁判必须使用标准语言……所以我很难像其他猫一样喵喵叫~。";
		next;
		mes "[领袖]";
		mes "我当然知道球员的比赛规则，但裁判比赛比看起来要困难得多。";
		next;
		mes "[领袖]";
		mes "有时我确实会犯错误，人们会变得疯狂，就像世界末日一样。这是一项多么艰难的工作啊。";
		next;
		mes "[领袖]";
		mes "但是，我想完成这门课程，并成为世界上最好的裁判。";
		next;
		mes "[领袖]";
		mes "你可以赌一下！！";
		close;
	case 3:
		mes "[领袖]";
		mes "请允许我解释一下摇旗游戏的规则。";
		next;
		mes "[领袖]";
		mes "你和另外 5 只猫一起玩。";
		mes "等待并在没有其他人挥舞旗帜时挥舞旗帜。";
		next;
		mes "[领袖]";
		mes "一开始你有 5 个旗帜点，每次你挥舞旗帜，1 个点就会消失。";
		mes "当你的分数降到0时，游戏结束。";
		next;
		mes "[领袖]";
		mes "这个夺旗游戏有一个特殊的规则。为了更加刺激，如果您连续 10 场比赛没有挥舞旗帜，我们将扣 1 分。";
		next;
		mes "[领袖]";
		mes "当您使用更少的旗帜点获胜时，您将获得更大的礼物。";
		next;
		mes "[领袖]";
		mes "如果您需要有关游戏规则的更多帮助，请随时回来。我们的猫经理还可以为您提供有关游戏规则的帮助。";
		close;
	}

	// Starting Flag Points (default 5).
	set .@flag_point,5;
	setarray .@flag_point_cat[1],5,5,5,5,5;

	// Cat players' names.
	setarray .@npc_name$[1],
		"Debong#gamer","Seichi#gamer","Libs#gamer","Row#gamer","YongYong#gamer";
	setarray .@cat_name$[1],
		"Debong","Seichi","Annoying Libs","Row","YongYong";
	setarray .@cat_desc$[1],
		" who likes to pick hair"," the observer",""," who likes to show off"," who likes to droop";

	// Emotions displayed when cats' flags not waved.
	setarray .@cat_emote[1],
		ET_DELIGHT,ET_STARE_ABOUT,ET_FRET,ET_BEST,ET_CONFUSE;

	// .@cat_action[] when cats' flags are not waved.
	setarray .@cat_emotes$[1],
		"1|3|5|7",	// Picking hair
		"2|4|6|8",	// Looking around
		"1|3|6|8",	// Getting annoyed
		"2|4|5|7",	// Showing off
		"3|4|5|6";	// Drooping

	while(1) {
		for(set .@i,1; .@i<=5; set .@i,.@i+1)
			set .@cat_action[.@i], ((.@flag_point_cat[.@i])?rand(1,8):0);

		switch(.@cat_action[1]) {
			case 0: set .@cat_mes$[1], "cannot do anything with all points used"; break;
			case 1: set .@cat_mes$[1], "focuses on hair picking, careless for the game"; break;
			case 2: set .@cat_mes$[1], "looks around with round eyes"; break;
			case 3: set .@cat_mes$[1], "picks out hair around the front paw"; break;
			case 4: set .@cat_mes$[1], "is getting annoyed at tails smacking on the ground"; break;
			case 5: set .@cat_mes$[1], "picks his hair while looking around"; break;
			case 6: set .@cat_mes$[1], "shows off his front paw to the Leader Cat"; break;
			case 7: set .@cat_mes$[1], "is picking some hair on his belly with a calm mind"; break;
			case 8: set .@cat_mes$[1], "is drooping down with a pleasant face"; break;
		}
		switch(.@cat_action[2]) {
			case 0: set .@cat_mes$[2], "cannot do anything with all points used"; break;
			case 1: set .@cat_mes$[2], "picks out hair around the front paw"; break;
			case 2: set .@cat_mes$[2], "looks around with round eyes"; break;
			case 3: set .@cat_mes$[2], "is getting annoyed with the Leader Cat"; break;
			case 4: set .@cat_mes$[2], "observes flies flying around"; break;
			case 5: set .@cat_mes$[2], "shows off picked hair proudly"; break;
			case 6: set .@cat_mes$[2], "observes Leader Cat's tail curiously"; break;
			case 7: set .@cat_mes$[2], "looks at you with drooping eyes"; break;
			case 8: set .@cat_mes$[2], "is checking you out with a weird glimmer"; break;
		}
		switch(.@cat_action[3]) {
			case 0: set .@cat_mes$[3], "cannot do anything with all points used"; break;
			case 1: set .@cat_mes$[3], "is getting annoyed at tails smacking on the ground"; break;
			case 2: set .@cat_mes$[3], "observes Leader Cat's tail curiously"; break;
			case 3: set .@cat_mes$[3], "is getting annoyed while picking his hair"; break;
			case 4: set .@cat_mes$[3], "scratches with a drooping face"; break;
			case 5: set .@cat_mes$[3], "catches a flying fly and shows off"; break;
			case 6: set .@cat_mes$[3], "is getting irritable with a tired face"; break;
			case 7: set .@cat_mes$[3], "picks his hair while looking around"; break;
			case 8: set .@cat_mes$[3], "is getting annoyed with the Leader Cat"; break;
		}
		switch(.@cat_action[4]) {
			case 0: set .@cat_mes$[4], "cannot do anything with all points used"; break;
			case 1: set .@cat_mes$[4], "is picking some hair on his belly with a calm mind"; break;
			case 2: set .@cat_mes$[4], "shows off his front paw to the Leader Cat"; break;
			case 3: set .@cat_mes$[4], "is getting irritable with a tired face"; break;
			case 4: set .@cat_mes$[4], "catches a flying fly and shows off"; break;
			case 5: set .@cat_mes$[4], "shows off an attractive tail"; break;
			case 6: set .@cat_mes$[4], "is drooping and mumbling"; break;
			case 7: set .@cat_mes$[4], "shows off picked hair proudly"; break;
			case 8: set .@cat_mes$[4], "is checking you out with a weird glimmer"; break;
		}
		switch(.@cat_action[5]) {
			case 0: set .@cat_mes$[5], "cannot do anything with all points used"; break;
			case 1: set .@cat_mes$[5], "is fighting with his tail"; break;
			case 2: set .@cat_mes$[5], "is scratching with his hind foot"; break;
			case 3: set .@cat_mes$[5], "is drooping down with a pleasant face"; break;
			case 4: set .@cat_mes$[5], "checks you out with a drooping face"; break;
			case 5: set .@cat_mes$[5], "scratches with a drooping face"; break;
			case 6: set .@cat_mes$[5], "is drooping and mumbling"; break;
			case 7: set .@cat_mes$[5], "is lying around~"; break;
			case 8: set .@cat_mes$[5], "is doing nothing"; break;
		}

		switch(rand(3)) {
			case 0: set .@tip$, "You can predict if the cat will wave the flag or not with 'Observe cats'."; break;
			case 1: set .@tip$, "1 Flag Point will be deducted if you choose 'Wave flag'."; break;
			case 2: set .@tip$, "Choosing 'Wait', you can check the results and move on to the next game."; break;
		}
		while(1) {
			mes "[领袖]";
			mes "猫现在已经准备好了。";
			mes "你会怎么做？";
			mes " ";
			mes "提示：^F86A08"+.@tip$+"^000000";
			next;
			set .@choice, select("观察猫：挥舞旗帜：等等");
			switch(.@choice) {
			case 1:
				mes "观察猫...";
				next;
				for(set .@i,1; .@i<=5; set .@i,.@i+1) {
					mes "[------观察猫------]";
					mes .@cat_name$[.@i]+.@cat_desc$[.@i]+" ^FF0000"+.@cat_mes$[.@i]+"^000000。";
					next;
				}
				break;
			case 2:
				set .@flag_point, .@flag_point-1;
				set .@you_flag,1;
				break;
			case 3:
				break;
			}
			if (.@choice != 1) break;
		}
		set .@round, .@round+1;
		set .@rounds_nowave, .@rounds_nowave+1;
		if (.@you_flag == 1) {
			set .@you_flag$, "You waved the flag";
			set .@emotion[0], ET_FLAG;
		} else {
			set .@you_flag$, "You didn't wave the flag";
			set .@emotion[0], ET_PROFUSELY_SWEAT;
		}
		for(set .@i,1; .@i<=5; set .@i,.@i+1) {
			if (.@flag_point_cat[.@i] == 0) {
				set .@cat_flag$[.@i], "Not enough Flag Points, could not wave";
				set .@emotion[.@i], ET_DELIGHT;
			} else {
				if (compare(.@cat_emotes$[.@i],""+.@cat_action[.@i])) {
					set .@cat_flag$[.@i], "Didn't wave";
					set .@emotion[.@i], .@cat_emote[.@i];
				} else {
					set .@cat_flag$[.@i], "Did wave";
					set .@flag_point_cat[.@i], .@flag_point_cat[.@i]-1;
					set .@cat_flags_waved, .@cat_flags_waved+1;
					set .@emotion[.@i], ET_FLAG;
				}
			}
		}
		mes "[领袖]";
		mes "游戏^C1653E"+.@round+"^000000 结果...";
		next;
		mes "[领袖]";
		mes "~ 标记游戏挑战者 "+strcharinfo(0)+" ~";
		mes "^FF0000"+.@you_flag$+"^000000 游戏 ^C1653E"+.@round+"^000000。";
		mes .@flag_point+"剩余标志点。";
		emotion .@emotion[0], playerattached();
		next;
		for(set .@i,1; .@i<=5; set .@i,.@i+1) {
			mes "[领袖]";
			mes "～"+.@cat_name$[.@i]+.@cat_desc$[.@i]+"～";
			mes "^FF0000"+.@cat_flag$[.@i]+"^000000 游戏^C1653E"+.@round+"^000000 的标志。";
			mes .@flag_point_cat[.@i]+""+.@cat_name$[.@i]+".";
			emotion .@emotion[.@i], getnpcid(0, .@npc_name$[.@i]);
			next;
		}
		if (.@you_flag == 1) {
			set .@rounds_nowave,0;
			if (.@cat_flags_waved == 0) {
				// You win.
				break;
			} else if (.@flag_point == 0) {
				// You lose.
				mes "[领袖]";
				mes "您已用完所有标记点。";
				next;
				break;
			} else {
				set .@you_flag,0;
				mes "[领袖]";
				mes "你挥舞旗帜失败了。";
				mes .@flag_point+"剩余标志点。";
				next;
				mes "[领袖]";
				mes "让我们继续下一场比赛。";
				next;
				mes "…………";
				next;
			}
		} else {
			if (.@cat_flags_waved == 5) {
				mes "[领袖]";
				mes "恭喜"+strcharinfo(0)+"。你成功了，不挥舞你的旗帜。";
				next;
				mes "[领袖]";
				mes "但！这是挥舞旗帜的游戏，所以这不算数。";
				next;
			} else {
				if (.@rounds_nowave == 10) {
					set .@rounds_nowave,0;
					set .@flag_point, .@flag_point-1;
					mes "[领袖]";
					mes "由于您已连续 10 场比赛没有挥旗，根据官方旗帜游戏规则，将减少 1 点旗帜点。";
					next;
					if (.@flag_point == 0) {
						// You lose.
						mes "[领袖]";
						mes "您已用完所有标记点。";
						next;
						break;
					} else {
						mes "[领袖]";
						mes .@flag_point+"剩余标志点。";
						next;
					}
				} else {
					mes "[领袖]";
					mes "游戏"+.@round+"已正常结束。扣分将在"+(10-.@rounds_nowave)+"之后给予。";
					next;
				}
				mes "[领袖]";
				mes "让我们继续下一场比赛。";
				next;
				mes "…………";
				next;
			}
		}
		set .@cat_flags_waved,0;
	}
	mes "[领袖]";
	mes "摇旗游戏结束了。";
	next;
	mes "[领袖]";
	mes "最终结果！！";
	mes "在"+.@round+"比赛结束后，"+strcharinfo(0)+"还剩下"+.@flag_point+"旗点。";
	mes "…………";
	next;
	if (.@you_flag == 1 && .@cat_flags_waved == 0) {
		setquest 5073;
		if (.@flag_point_cat[1]+.@flag_point_cat[2]+.@flag_point_cat[3]+.@flag_point_cat[4]+.@flag_point_cat[5] < 5) {
			getitem 12636,3; //Malang_Sp_Can
			mes "[领袖]";
			mes "恭喜。您赢得了挥旗游戏。";
			next;
			mes "[领袖]";
			mes "但是，由于您在游戏中的参与度并不高，因此只会赠送 3 个罐头食品作为礼物。";
		} else {
			switch(.@flag_point) {
				case 0: set .@cans,5; break;
				case 1: set .@cans,7; break;
				case 2: set .@cans,10; break;
				case 3: set .@cans,15; break;
				case 4: set .@cans,20; break;
			}
			getitem 12636, .@cans; //Malang_Sp_Can
			mes "[领袖]";
			mes "恭喜。您赢得了挥旗游戏。"+.@cans+"罐头食品将作为礼物赠送。";
		}
		next;
		mes "[领袖]";
		mes "希望你明天能赢得更多罐头食品。";
		close;
	}
	mes "[领袖]";
	mes "挥旗失败...";
	mes "…………";
	next;
	setquest 5073;
	switch(rand(1,13)) {
		case 1: setquest 5074; break;
		case 2: setquest 5075; break;
		case 3: setquest 5076; break;
		case 4: setquest 5077; break;
		case 5: setquest 5078; break;
		case 6: setquest 5079; break;
		case 7: setquest 5080; break;
		case 8: setquest 5081; break;
		case 9: setquest 5082; break;
		case 10: setquest 5083; break;
		case 11: setquest 5085; break;
		case 12: setquest 5087; break;
		case 13: setquest 5089; break;
	}
	mes "领导毫不犹豫地给你一张纸条。你现在必须遵守命令。";
	close;
}

mal_in01,136,216,2	script	Seichi#gamer	553,{
	if (malang_gamer == 20) {
		mes "[精一]";
		mes "啊~我饿了。有老鼠在附近游荡吗？";
		next;
		mes "[精一]";
		mes "啊~我觉得我一次可以吃100个抽筋。";
		next;
		mes "[精一]";
		mes "嘿，你为什么不看看周围？谁知道？或许我们可以找到美味的罐头食品~";
		emotion ET_STARE_ABOUT;
		next;
		mes "[精一]";
		mes "那么，你可以给我一张。呵呵~";
		close;
	} else {
		mes "[精一]";
		mes "我饿了~还有剩下的罐头吗？";
		emotion ET_STARE_ABOUT;
		close;
	}
	end;
}

mal_in01,136,215,2	script	Row#gamer	559,{
	if (malang_gamer == 20) {
		mes "[行]";
		mes "小屋！人类，你来见我吗，罗尔大帝？什么？不？";
		next;
		mes "[行]";
		mes "那你想要什么？迷路。啊...！！";
		next;
		mes "[行]";
		mes "你想玩夺旗游戏吗？我懂了。告诉我你有什么。";
		next;
		mes "[行]";
		mes "但是，你知道你永远无法击败我，伟大的罗。";
		emotion ET_KIK;
		close;
	} else {
		mes "[行]";
		mes "挥舞旗帜是一项严肃的游戏。只有像我这样特殊的猫才能参加比赛。喵～";
		close;
	}
	end;
}

mal_in01,136,214,2	script	Debong#gamer	876,{
	if (malang_gamer == 20) {
		mes "[德邦]";
		mes "剪头发是我最大的爱好喵。";
		next;
		mes "[德邦]";
		mes "挑头发的时候喵~";
		mes "时间过得真快喵~";
		next;
		mes "[德邦]";
		mes "你过来喵。我来给你挑头发喵";
		emotion ET_THROB;
		close;
	} else {
		mes "猫正在抓你的头发。";
		close;
	}
	end;
}

mal_in01,136,213,2	script	Libs#gamer	421,{
	if (malang_gamer == 20) {
		mes "[库]";
		mes "啊啊！！我为什么要在这里玩这个愚蠢的挥舞旗帜的游戏？";
		emotion ET_FRET;
		next;
		mes "[库]";
		mes "嘿，你。你怎么认为？我知道你在听我说话！";
		next;
		mes "[库]";
		mes "…………";
		next;
		mes "[库]";
		mes "好吧，我相信你不会知道为什么会发生这种情况。我原谅你了。";
		emotion ET_OK;
		next;
		mes "[库]";
		mes "人类怎么能理解猫的内心呢？";
		emotion ET_HNG;
		close;
	} else {
		mes "[库]";
		mes "人类？你在这里做什么？";
		next;
		mes "[库]";
		mes "哦！我懂了。我们的董事正在寻找执业合伙人，你为什么不申请呢？";
		close;
	}
	end;
}

mal_in01,136,212,2	script	YongYong#gamer	554,{
	if (malang_gamer == 20) {
		mes "[YongYong]";
		mes "喵~生气了喵~";
		emotion ET_FRET;
		next;
		mes "[YongYong]";
		mes "烦人喵~";
		emotion ET_FRET;
		next;
		mes "[YongYong]";
		mes "你真烦人喵~";
		emotion ET_FRET;
		next;
		mes "[YongYong]";
		mes "你是什么，狗？喵~！";
		emotion ET_FRET;
		specialeffect EF_SONICBLOW2;
		next;
		mes "[YongYong]";
		mes "不要惹恼下垂的猫。";
		mes "否则你会后悔的。";
		close;
	} else {
		mes "z..Z..z..Z";
		mes "猫正在睡觉。";
		close;
	}
	end;
}

malangdo,120,140,7	script	Sign#Cat G Entrance	858,{
	mes "一个小标志。";
	next;
	mes "[猫玩家总部]";
	mes "- 欢迎执业伙伴 -";
	mes "- 招募‘猫玩家’ -";
	mes "请咨询我们的猫游戏玩家总监。";
	close;
}

mal_in01,15,221,6	script	Sign#Cat G 1F	858,{
	mes "[猫玩家总部1F]";
	mes "- ~ B 1 ~ -";
	mes "剪刀石头布练习室";
	mes "ChamCham练习室";
	close;
}

mal_in01,77,214,4	script	Sign#Cat G B1	858,{
	mes "[猫玩家总部B1]";
	mes "- ~ 1 楼 ~ -";
	mes "咨询导演...";
	mes "----------------------------";
	mes "- ~ B 2 ~ -";
	mes "KongNyangKong & 旗帜游戏练习室";
	mes "“猫玩家”技术团队实验室";
	close;
}

mal_in01,142,220,6	script	Sign#Cat G B2	858,{
	mes "[猫玩家总部B2]";
	mes "- ~ B 1 ~ -";
	mes "剪刀石头布练习室";
	mes "ChamCham练习室";
	close;
}

mal_in01,155,222,2	script	Uneet#gamer	890,{
	set .@playtime, checkquest(5069,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[梦想]";
		mes "哇哇~真是忙碌的一天啊~";
		mes "哦，你是获得荣誉证书的人吗？";
		next;
		mes "[梦想]";
		mes "每天都有更多的订单到来。啊！！多给我一些人手！！";
		close;
	} else if (.@playtime == 2) {
		mes "[梦想]";
		mes "Nyah~ Ong~ 证书完成！！";
		next;
		mes "[梦想]";
		mes "我已经把你的证书交给猫玩家总监了！快去看看吧~";
		next;
		mes "[梦想]";
		mes "请...无论你走到哪里，请随身携带这个。";
		close;
	} else if (malang_gamer < 19) {
		mes "[梦想]";
		mes "我是一只猫。尼亚~开";
		mes "我看起来像一只绵羊，因为我太忙了，没有时间刮胡子。";
		mes "这不是我的错...";
		close;
	} else {
		mes "[梦想]";
		mes "Nyah~Ong~别打扰我休息。";
		mes "平时我很忙...";
		mes "别碰我。";
		next;
		mes "[梦想]";
		mes "我现在有点胖了，不过你也该看看你自己了。哈哈...";
		close;
	}
	end;
}

mal_in01,30,222,4	script	Interview Cat#gamer	560,{
	mes "[采访猫]";
	mes "我想加入“猫玩家”。";
	mes "不过猫玩家总监现在好像很忙。我应该离开吗？";
	next;
	mes "[采访猫]";
	mes "什么？你也想加入这个群吗？";
	close;
}

mal_in01,19,213,1	script	Waiting Cat#gamer	555,{
	mes "[等待的猫]";
	mes "为什么有人把花瓶放在玻璃里？";
	mes "是猫玩家总监干的吗？";
	next;
	mes "[等待的猫]";
	mes "多么奇怪的味道啊。";
	mes "也许我应该重新考虑加入“猫玩家”，是吗？";
	close;
}

// Archangel Wing Enchants :: 2011_enc_angel02
//============================================================
malangdo,234,153,6	script	Notice Board#mal	837,{
	mes "^0000FF这个公告牌上有一条匆忙写下的消息。^000000";
	next;
	mes "里面的堕落天使将解锁大天使之翼的隐藏结界。";
	close;
}

mal_in01,15,16,3	script	Fallen Angel#mal	403,{
	disable_items;
	if (checkweight(1201,1) == 0) {
		mes "您携带的物品过多，请减少携带的物品后再回来！";
		close;
	}
	if (MaxWeight - Weight < 10000) {
		mes "您体重超重，请减重后再回来！";
		close;
	}
	if (getequipid(EQI_GARMENT) == 2573) {
		if (Zeny >= 1000000)
			set .@menu$, "Enchant Archangel Wing";
		else
			set .@menu$, "^999999You do not have enough zeny!^000000";
	} else
		set .@menu$, "^999999You have not equipped the Archangel Wing!^000000";
	mes "[堕落天使]";
	mes "看来你是个可怜人啊！";
	next;
	mes "[堕落天使]";
	mes "如果你有大天使之翼，我会将我的能力附魔到无用的第四个插槽中。你愿意我这样做吗？";
	next;
	switch(select("那是什么？:"+.@menu$+":附魔初始化")) {
	case 1:
		switch(select("别说话了：你要做什么？")) {
		case 1:
			mes "[堕落天使]";
			mes "你说什么？";
			close;
		case 2:
			mes "[堕落天使]";
			mes "只要你支付 1,000,000 zeny，我就可以将我的能力附魔到你的大天使之翼上。但如果不重置它，你就无法再次对其进行附魔。";
			next;
			mes "[堕落天使]";
			mes "结界很危险，所以^ff0000翅膀可能会损坏^000000！不过，我还是祝福你能保留《CLR2》卡牌和精炼等级《》《CLR3》！";
			close;
		}
	case 2:
		if (Zeny < 1000000) {
			mes "[堕落天使]";
			mes "你不付钱我也没办法！";
			close;
		}
		mes "[堕落天使]";
		mes "有2个重要通知。首先，结界需要^0000ff1,000,000 zeny^000000。";
		next;
		mes "[堕落天使]";
		mes "第二，^ff0000虽然几率不高，但大天使之翼可能会受损^000000！这可真是太倒霉了！";
 		mes "如果你能接受这些条件，我就为你附魔翅膀。";
		next;
		if(select("让我考虑一下...：我接受，让我们施魔法吧！") == 1) {
			mes "[堕落天使]";
			mes "好的！花点时间考虑一下吧！";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[堕落天使]";
			mes "大天使之翼已被取出！";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[堕落天使]";
			mes "不要取下该物品！";
			close;
		}
		if (getequipcardid(EQI_GARMENT,3)) {
			mes "[堕落天使]";
			mes "这大天使之翼是有魔法的！请初始化它或者给我再带一个大天使之翼！";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2);

		set .@i, rand(1,900);
		     if (.@i < 2)   set .@enchant,4848; //Immuned1
		else if (.@i < 3)   set .@enchant,4849; //Cranial1
		else if (.@i < 4)   set .@enchant,4852; //Heal_Amount5
		else if (.@i < 9)   set .@enchant,4853; //S_Str
		else if (.@i < 14)  set .@enchant,4854; //S_Agi
		else if (.@i < 19)  set .@enchant,4855; //S_Vital
		else if (.@i < 24)  set .@enchant,4856; //S_Int
		else if (.@i < 29)  set .@enchant,4857; //S_Dex
		else if (.@i < 34)  set .@enchant,4858; //S_Luck
		else if (.@i < 39)  set .@enchant,4851; //Heal_Amount4
		else if (.@i < 49)  set .@enchant,4850; //Heal_Amount3
		else if (.@i < 74)  set .@enchant,4760; //Matk1
		else if (.@i < 84)  set .@enchant,4761; //Matk2
		else if (.@i < 109) set .@enchant,4817; //Sharp2
		else if (.@i < 119) set .@enchant,4816; //Sharp3
		else if (.@i < 144) set .@enchant,4814; //Spell2
		else if (.@i < 154) set .@enchant,4813; //Spell3
		else if (.@i < 179) set .@enchant,4833; //Expert_Archer2
		else if (.@i < 189) set .@enchant,4834; //Expert_Archer3
		else if (.@i < 214) set .@enchant,4810; //Fighting_Spirit2
		else if (.@i < 224) set .@enchant,4809; //Fighting_Spirit3
		else if (.@i < 259) set .@enchant,4701; //Strength2
		else if (.@i < 294) set .@enchant,4731; //Agility2
		else if (.@i < 329) set .@enchant,4721; //Dexterity2
		else if (.@i < 364) set .@enchant,4741; //Vitality2
		else if (.@i < 399) set .@enchant,4751; //Luck2
		else if (.@i < 434) set .@enchant,4711; //Inteligence2
		else if (.@i < 504) set .@enchant,4700; //Strength1
		else if (.@i < 574) set .@enchant,4730; //Agility1
		else if (.@i < 644) set .@enchant,4720; //Dexterity1
		else if (.@i < 714) set .@enchant,4740; //Vitality1
		else if (.@i < 784) set .@enchant,4750; //Luck1
		else if (.@i < 854) set .@enchant,4710; //Inteligence1
		else set .@enchant,0;

		set Zeny, Zeny - 1000000;
		delequip EQI_GARMENT;
		if (.@enchant == 0) {
			mes "[堕落天使]";
			mes "对幸存者仁慈，";
			mes "给死者送花。";
			next;
			mes "[堕落天使]";
			mes "助力正义，";
			mes "消除邪恶。";
			next;
			mes "[堕落天使]";
			mes "但重要的一点是……大天使之翼受损了！";
			close;
		}
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],.@enchant; //Archangel_Wing
		if (.@i < 4)
			announce strcharinfo(0)+" has enchanted Archangel Wing with amazing capability!",bc_all,0xFF0000,FW_NORMAL,10;
		mes "[堕落天使]";
		mes "拿走吧！";
		mes "我相信你会成为新世界的主宰！";
		close;
	case 3:
		mes "[堕落天使]";
		mes "初始化需要^0000ff3单位银藤果实^000000。除附魔能力外，翅膀不会受到任何损坏。";
		next;
		if(select("让我考虑一下...：好的，我想初始化它。") == 1) {
			mes "[堕落天使]";
			mes "好的！花点时间考虑一下吧！";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2),getequipcardid(EQI_GARMENT,3);
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[堕落天使]";
			mes "大天使之翼已被取出！";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[堕落天使]";
			mes "哦...你已经卸下了大天使之翼！";
			close;
		}
		if (countitem(6417) < 3) {
			mes "[堕落天使]";
			mes "你不付钱我也没办法！";
			close;
		}
		if (getiteminfo(.@equip_card[3], ITEMINFO_SUBTYPE) != CARD_ENCHANT) {
			mes "[堕落天使]";
			mes "该装备尚未附魔，请再次检查！";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		delitem 6417,3; //Silvervine
		delequip EQI_GARMENT;
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],0; //Archangel_Wing
		mes "[堕落天使]";
		mes "拿走吧！";
		close;
	}
}

// Item Functions
//============================================================
function	script	F_Cat_Hard_Biscuit	{	//11536
	switch (rand(1,4)) {
	case 1:
		heal -100,0;
		break;
	case 2:
		showscript "Huuph...! Yucky..! Wa, Water...!!";
		sc_start SC_Stun,3000,0,5000,0;
		break;
	case 3:
		showscript "Yeeyuck...!! This is rotten!!";
		sc_start SC_POISON,50000,0;
		break;
	case 4:
		specialeffect2 EF_HIT4;
		showscript "Arrrrrgggg...!! Bu, Bu, Bugggggg!!!!!";
		getitem 11537,1; //Rice_Weevil_Bug
		break;
	}
	return;
}

function	script	F_Rice_Weevil_Bug	{	//11537
	switch (rand(1,6)) {
	case 1:
		specialeffect2 EF_POISONHIT;
		showscript "Errrgg!!! This is so... bitter....!!";
		heal 0,-50;
		break;
	case 2:
		specialeffect2 EF_HEAL;
		showscript "....well, at least this is good for my health.";
		percentheal 15,0;
		break;
	case 3:
		specialeffect2 EF_POISONHIT;
		showscript "Phewphew!! Argh.... Is this poisoned or what?!";
		heal 0,-100;
		break;
	case 4:
		specialeffect2 EF_POISONHIT;
		showscript "Whasdfhwkljhrtklwert....!!";
		heal 0,-200;
		break;
	case 5:
		specialeffect2 EF_HEAL;
		showscript "It's ok, no one saw me yet...";
		percentheal 10,0;
		break;
	case 6:
		specialeffect2 EF_HEAL;
		showscript "I really need something to eat... ?? Sorry, little buggy.";
		percentheal 5,0;
		break;
	}
	return;
}
